(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{251:function(t,s,n){t.exports=n.p+"assets/img/xtqmt03.26c4d320.png"},252:function(t,s,n){t.exports=n.p+"assets/img/xtqmt04.16b29b4a.jpg"},253:function(t,s,n){t.exports=n.p+"assets/img/xtqmt27.a36e7054.png"},254:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtgAAAENCAYAAAA1yBIEAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABeISURBVHhe7dxPi27LVQfg+wlEv0GUaDRRI+ZonAk6yVxHImTsJxBEMvIbOBMchUAmESUDBVHzzyQaEzH4BzEXJ4KDBGJwIJFO2ltHiqy7zqpd++2ud7+7u5/Bw65atWr3cd99av9oTnzr397+9/t/+pd/vf/6P/7z/df+4ev3X/nq1+6//LdfWeKTn/7Lsl754pf/5lBf+OKXDvWJP/7z+8994a8P9dnPf+FBPv5Hf1bW9/jM5z7/rHz8U39a1s/oKf1ZnwLP8wc8ix/wLPbzrPaLz+pXfvUjr/32H/zJ/Uc+/1dX99Mf/KX7z3z6N96l1Z6Mn/3w4T7wM7/4jg/fv/+d609+4Bfu3/f+D93/xE996P697/v5+x/78Z+7f897P3j/1g/9zrfvAQCANQRsAABYSMAGAICFBGwAAFhIwAYAgIUEbAAAWEjABgCAhQRsAABYSMAGAICFHhSw7+7uXqvWut4z6+suuefe+h6X7n1o/0y1FwCAp+fBv8GugmEMjHltZs+eeO/YX9Wb2Vpc7/M9Ltkz673kXgAAnN9FAbuHwZnH7I229ud6Huf1bGt9tnem77/kHnEPAADH+4/v3L926Vp28W+wcyCM87w2UvXFWl4fzXN9T2+31dvnK8zueY2fCQDAw1RB+pJw3Tzq32DncJjnlbhvj+oe3SU9e1X3aEbre/fNVHsBADheDNSXhuvmKv9EJKvuEWu5nnv6/FJbe/u9Y0+sRddeBwDgXHqwvjRcNw/+HzlWYpCsQmWu9flI3FvZ0xfvF43W4964nuvZVt/eewAAcA43CdhVaIy1rfWttViL4r49LtlX9fZaXttb7/r6HtV+AACOFYP1Q0L2Vf6JSOzN94hrM9WeS2t9nsU9e+W9s3tt9Y/GAADcThWoLw3ZT+432Hk+MuubrY3s7c3rW/O8BgDA8baC9CUh++KA3cNgFtfyOOr1vfL+rXtc2hvH1Xxkb1+X+2dzAACergf9E5HRuKr1vd2l9aj39L5q3Od5TzXfWhvpPZf25lrVF2sAADxNy/6JyGwea1trsZbX9uwZ9VZibzTr3aptGfVecg8AAM7t0f9EJNaqvtl8pvdX9vRsyftH81zPZn2jtVEdAICn68G/wQYAAN4kYAMAwEICNgAALCRgAwDAQgI2AAAsJGADAMBCAjYAACz0OmD//Te/DwAAPNK7Ava3/+ceAAB4IAEbAAAWErABAGAhARsAABYSsAEAYCEBGwAAFhKwAQBgIQEbAAAWErABAGAhARsAABYSsAEAYCEBGwAAFhKwAQBgIQEbAAAWErABAGAhAXux9hzh7Kp3F+AxqrMGzqZ6d69BwF6sPce7uzs4rSMPGODl8P3j7I78/gnYizlgOLsjDxjg5fD94+yO/P4J2IttHTCzw6et/+jv/df9597+brkOK7T3rHp3AR5j9o2DWzvy+3fTgP3q1auL6pVr9Y7M7rF1wMwOn7b+2W9893XIbteqBx6rvWfVuwvcxuy70tb3qvbmcdUX9XtlVW80+8bx/Nz/2lu7amdx5Pfv5gG7+stb1XNtVO/36GJtNI61Suzv15GtA2Z2+PT1HrLf/ub/vtEDj9Xes+rdBW5n69uS10a9VT3WtsZRr0ejejT7xvE87Q3ZvdauM3nvKkd+/24WsONf1kvG8RrX41pW7Y3rUVyrxlt7m60DZnb4tPXoNz/x32/0tJ+fbdWrtVl/X4/zXqv6R3XOqb1b1bsLnFM7V+M4q/r2zLNL7lVpZ0s+b9q+7gx1rqcKyl3uifN4rcZdrz2k3h35/bvpb7Cz9hehqjd9bXStxnv1PdU98jj3Z9UB022tVX7kd+vDqrqOxrFW1Wd9s/msj/M58oABau2snIm9cU+vx7U83pq3a1et53E1r+RvXNtTzW9V57pGoXZvfe/80np05Pfvpr/B3qv3V9d4rz7PtvZ2/R6VuKdfR/IBE1Vr3/uLP7z//ic/9i6tdvedb73RG7U/x6gW16q+aLTe6nvuM7s/53PkAQPs087Sqt7ktTbvcj33xHGsZbk+m1fyN67tqeaX1rNV9+Fx9gTaUT3WRuOsr+WeWT068vv3pH6DnfV67OnjqjbrzfVqPNrX5QMmqta+/7Ffvr//6A+/vnZt3tz95zfe6O/an6OqdVU91uLaqBbXLtnPMdr7NFL1d229eneB22lnaVVv2lo0W8vX2BvnUd8f91byviifPa2/ml9aj/NYG/WP6qwXQ2wVaGN9tj7S1mNP7u/zUT068vt304DdXvqZ2Juvcb2r9ozk9dl8VIvyARNVaz1Uv6v+nW/9f+j+/Y++ux60P8eoVq2N6nvvc8k9OU57p7KqL2o91bsL3E47S6t6k9favOqv+rbmsd7XRj3N1lqTz5/WX80vrWer7sNaLdCOxJ5Zb9P7o17P67N6dOT37+YBe++8j6tr1PsrW+uzvc2en5EPmKhaKwP2Rr1rf449tSz3jO4Tjfq26hynvVddtZ61vurdBY4Tz9iR2Bv3juqXzqO+tqdnJJ9Brb+aX1rPVt2HtapAu1XvZutd78v9s3p05PfvNAG7jbs4z72jazXeq+/JttZG8gETVWtVkP7e21+9v//1tx78G+w4zn2zea7N7jOqc6yt9y5rvdW7C9xOOzurehPX2njUm+tVX75XHrdrJfdX8jnU+qv5repcxyjg7tH2dNVaNb+0Hh35/btpwG7ai9/0ca7lvijuyeOs6s/a2ky1L8oHTFSttXD9xr/Bfidc3//We4b/Bjv+eapaXKtq1Z5cq+Z9HNe36pzTkQcMsE87P6t6U631MzfXtua5HtfbuOu1bGutqb5x8b5nqLPWKNyOxL68t7pHq3WPqXdHfv9uFrD7i59red5ro97e08WeuD6rVfb0ZNUB01VrrwP1O2H6Xf9fRL70qTf6YJUjDxhgn63vTf9m7ZH3xXmU+/t4tqeqd1vfP56fGGJHgTbqPTkA53Gcr3bk9+/mv8GOZn95K9UB0cez+8WePt4j3yfaOmCqtf5b61yHaznygAHeVH1XRnp/vkcl9832XXLfPb1b3z+er8cG4msG6uzI79+pAvZzsHXAVGsCNkc78oABXo6t7x+cwZHfPwF7MQcMZ3fkAQO8HL5/nN2R3z8BezEHDGd35AEDvBy+f5zdkd8/AXux9hzh7Kp3F+AxqrMGzqZ6d69BwAYAgIUEbAAAWEjABgCAhQRsAABYSMAGAICFBGwAAFhIwAYAgIUEbAAAWEjABgCAhQRsAABYSMAGAICFBGwAAFhIwAYAgIUEbAAAWEjABgCAhQRsAABYSMAGAICFBGwAAFhIwAYAgIUEbAAAWEjAXqw9Rzi76t0FeIzqrIGzqd7daxCwF2vP8e7uDk7ryAMGeDl8/zi7I79/AvZiDhjO7sgDBng5fP84uyO/fwL2Yg4Yzu7IAwZ4OXz/OLsjv3+nC9ivXr0q611bH6n6oz09M7N7PPaAif/3zFT7uz3rI1U/z8eRBwxQa2dtVZ+5ZF8810dibzW+xEO+f+1nbc1n9WZrDaIjv383C9jtL0TW67Gnj7dqe+t77l2J/f06Uh0w8V7NqFaJ/Xmt17Nejz19vFXbqvN8HHnAAGPtvI3jLPb2njjOYm/vybUorm+No16vVN+/mXbPrfms3mytQXTk9++mAbua52t2ab3Ze+8mrlXjrb1NdcC0PXlc1eJ8Zmtvdc0urfN8HHnAAGu0s7mqb8l7RvN2reQ9cVypvn9N2/fYeqtFeS3OYeTI79/NA3Z17eNKX6/s7cvyvq1x7s+qA6btyeOqVs1n/Xk9XmNf1tcrVT/Px5EHDPB47VyuxjO9t5/tUVx/yLgy+v41ud7X9tS3+rKqD7ojv3+nDNi9Z5U9P6PVRuKefh3ZOmCian2rP4u9W1fIjjxggDe187nL8yzve0j/nnnf383qler717R9e2pRXu8/v4s9+QojR37/ThWwR2brWf8Z8f5b42jWP9rXVQdM21ONV+j3i9eR2XrWfwbn1N61kaq/a+vVuwscq52ze2q9vrU2qs/E3kvGldHZ0/ZV83Yd2dqX56N+nq/4vcuq/q6tV+/uNZz2N9j9Wtlai2Z9eX02H9Wi6j9u2xPHldw/E3v3XCtbazwN7X3Lqr6o9VTvLnCsdgZvzXN9tr633sX1No5GPX1cGZ0/bV9V7/L6qH/Ul6+8DPG711V9Ueup3t1reHIBe1TfY2vvnvu2nllf9R+47+t6La738aXy/UbXbFTn6WnvXFetZ62veneBY7VzuBpX81FtT71ds7g+G0e9XhmdQW1fVe/yejXPtuq8HGf+/p02YOdxrG3Z2xfF+0dbayPVf+R2nzzO17i+V3WffM3jWNuS+zm3vYdLc+QBA4y1s7ZfR6r+bFYf3SdeK7Enjyujc6jtq+pNtTbqz/U+z1delrN+/24WsLv2F2I0z2szW/19bdYzU+2Lqv/Qbd9svGVPX+55yM/pLu3naTnygAHG2llb1bu8Puqf1ds1i+tbYs+sf/T96/JaX99Ti/W8PuqH7Mjv300DdvtLEa99nOd9PFP15vuNapVLfnY3OmDyOF+zak8e51rum+0buaSXp+fIAwaotXM2XvcY9Vb1PfeNPZeOK9X3b0u736X1am3UD9mR37+bBez2F6Ka5/oebU91v9m9Yk8f75HvE+UDpvXHcZd7ct9orVqv1nJ9j7bnIft4Wo48YIA3tXM2z0dyX57v6cvyvqo/rlfzSv7+bWn3yvMu1qPR2tYeiI78/t30N9jP0SUHDNzCkQcM8HL4/nF2R37/BOzFHDCc3ZEHDPBy+P5xdkd+/wTsxRwwnN2RBwzwcvj+cXZHfv8E7MXac4Szq95dgMeozho4m+rdvQYBGwAAFhKwAQBgIQEbAAAWErABAGAhARsAABYSsAEAYCEBGwAAFhKwAQBgIQEbAAAWErABAGAhARsAABYSsAEAYCEBGwAAFhKwAQBgIQEbAAAWErABAGAhARsAABYSsAEAYCEBGwAAFhKwAQBgIQF7sfYc4eyqdxcAWEPAXqw9x7u7OzgtARsArkvAXkzA5uwEbAC4LgF7MQGbsxOwAeC6bhqwX716tTmfubS/me1p6yNVfyZgc3YCNgBc181/gx2Daw60XeyPvfGaxf1dr8eePt6qbdUzAZuzE7AB4LpuHrC7UfDdE4Iv6cnX7NJ6VgXstrd7TD2uVbVr1XleBGwAuK5T/QY7znO921vP94nX3Bv19UrVn+WA3fZV80vro/Gof1Wd50fABoDrulnAbgGuGc1zrRpHVc/W9VoeG7CzUX83us+qOs+PgA0A13Xz32A/RguBVb3pa/E6MlvP+s+orArYbR5rcd+oN9bzOM5jvRpXc86nvWsjVX/X1qt3FwBY46YBuwe/LdW+bmu9r82ula21mRxu2r2q+aiexf7YE+u9ludxz1bfnjnn1N63rOqLWk/17gIAa9w8YF86n8l7Z9dsVN8rB5x2v2o+qmez/kvvk8ej2ug+nE9757pqPWt91bsLAKzxpAJ2trXe10bXPI61Lbk/yyGn7anmR9ZH42h0H56GveG6EbAB4LpuGrCjFuj6tY8rcW00jnJ9z56RPf1V0Gn7ulvUq1pUrcU9PC8CNgBc180Ddg90e+t9rbpm1Xob53kfz+zprQI2nImADQDXdbOAnYPuSO/p/XvEfdV9Yn2PeN8ZAZuzE7AB4Lpu/hvs50bA5uwEbAC4LgF7MQGbsxOwAeC6BOzFBGzOTsAGgOsSsBdrzxHOrnp3AYA1BGwAAFhIwAYAgIUEbAAAWEjABgCAhQRsAABYSMAGAICFBGwAAFhIwAYAgIUEbAAAWEjABgCAhQRsAABYSMAGAICFBGwAAFhIwAYAgIVuFrDbz9ur2t+9evVqcz6rN1tr0d6+7NJ9rb+r1rvVf57V9wMAeIluGrCrevaQgB3ltUvGla31ttblepxHcU9X9WV7+kb33Nob1+L+Lvb2njjOYi8AwEvwpAN2DnCzeRTXRuM+n4n9la2ePfu7+DNHqn3Z3r6ZVfcBAHhOnmzAjuEuhst8zT1xfSTvi/Nsz3qW1+N8y6x3z736nyGq+mbivofeAwDgOXrSAXsUEFcGvtm9+nr/s0S5J4/7fGa0N8u92agv9+d51veO9mexHwDguXuyAbvLAa7PZ/V2Hcn7ZnJ/nOfanv6R1jtT7dmq5fW99+j1rbWqDgDw3D3pgB1DXBX2Yi1fo6rWba1lo95Yzz0r7t/tvXesz/bM7jFbBwB4aZ5swG4Brqvqsdbr+TqS983E3njN9a21dh3JvSN5vc9H9cesbdW26gAAz92T/g32llkY7OPRtWvzXIu29s3GcZ7rXd47U+3L8z197TpS9WejOgDAc/fkA3YMfXE8Enu3rqNaFnuyuJ77t8bRnp4u92a5Z88829s/uw8AwHN104C9V7W/BbitcJfXcq2PR9dc29L7K3k9zvN4pOqvzNab3FPdf899ulHvJfcAAHhObhawj7AV8qq1Vuv1uH7pfbp8j617ju5T3WNL3JvF9dyf9/b1Su7L86oPAOCleNYBGwAAjiZgAwDAQgI2AAAsJGADAMBCAjYAACwkYAMAwEICNgAALCRgAwDAQgI2AAAsJGADAMBCAjYAACwkYAMAwEICNgAALCRgAwDAQgI2AAAsJGADAMBCAjYAACwkYAMAwEICNgAALCRgAwDAQgI2AAAsJGADAMBCAjYAACwkYAMAwEICNgAALCRgAwDAQgI2AAAsJGADAMBCAjYAACwkYAMAwEJvBOy/+8a3AACAB/IbbAAAWEjABgCAhQRsAABYSMAGAICFBGwAAFhIwAYAgIUEbAAAWEjABgCAhQRsAABYSMAGAICFBGwAAFhIwAYAgIUEbAAAWEjABgCAhQRsAABYSMAGAICFBGwAAFhIwAYAgIUEbAAAWEjABgCAhQRsAABYSMAGAICFBGwAAFhIwAYAgIUEbAAAWEjABgCAhQRsAABYSMAGAICFBGwA4HRaLuFy1bOsVHuZq55lRcAGAE4nhhr2q55lpdrLXPUsKwI2AHA6MdSwX/UsK9Ve5qpnWRGwAYDTiaGG/apnWan2Mlc9y4qADQCcTgw17Fc9y0q1l7nqWVYEbADgdGKoYb/qWVaqvcxVz7IiYAMApxNDDftVz7JS7WWuepYVARsAOJ0Yam7l7u6urGd7+45QPctKtfcpuPWzrp5lRcAGAE4nhppra6EtmtUrs/WjVM+yUu29lvwcu6q3i+t7xkepnmVFwAYATieGmqNshbe8tle8xxGqZ1mp9l5TfBZ9HJ9TXM99cZyvR6ueZUXABgBOJ4aao4xCW67vDXe3CIHVs6xUe68pPotqfOZnGlXPsiJgAwCnE0PNEXJwa/NK7Dmj6llWqr3XNHqOfVzV4nwk9h2hepYVARsAOJ0Yao6QQ1u+5tpefe9RqmdZqfZeU3wW1Tg/q1F/NKpfU/UsKwI2AHA6MdRcWwtqPazFayXui7bWjlQ9y0q195pGz7GPYy2L+7Kq/5qqZ1kRsAGA04mh5gg9rI2ueTxbu5XqWVaqvdc0elZ9vPX8Rmtbe66lepYVARsAOJ0Yao6Qg167Vqo9o/7Ye5TqWVaqvdcUn0d+PqNn1eu9v5L3XFv1LCsCNgBwOjHUHCGHtnzN49narVTPslLtvZb2bLK8Hue5Vq1v1a+pepYVARsAOJ0Yao7Qw9roOhpXfbdUPctKtfcoW88xj6v5rH5N1bOsCNgAwOnEUHO0Kri1Wq/n9b5WiX1HqJ5lpdp7lP5c8vMZPa+q3mqj/muqnmVFwAYATieGGvarnmWl2stc9SwrAjYAcDox1LBf9Swr1V7mqmdZEbABgNOJoYb9qmdZqfYyVz3LioANAJxODDXsVz3LSrWXuepZVgRsAOB0Yqhhv+pZVqq9zFXPsiJgAwCnE0MN+1XPslLtZa56lhUBGwA4nRhq2K96lpVqL3PVs6wI2AAAsJCADQAACwnYAACwkIANAAALCdgAALCQgA0AAAsJ2AAAsJCADQAACwnYAACwkIANAAALvStgAwAAK3z7/v8AUF1pz9MnfyIAAAAASUVORK5CYII="},255:function(t,s){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZoAAACGCAYAAADkZUw3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAA19SURBVHhe7d1LryVVFcBxPoFvYtTEKEFbQYUIiiNNdOJMRyb4fkxM/AAmKipREw0SYoyYOHAgIGAEow7UibxaRIm8BAkiEhIGAsrtbm7TdNNNeddpF2f1umvt2nVO7epbnv/gl9q11tp7V+omtXIe994zHn7k0e6BBx/q7rv/b91d997X3fmXu7o7/nznyq779e+72+/401r23/7Hld26/w/Vrr7xd7tit9y2fy0333rbLF11w2/COMbHvR6X3s/3f+CDC1/80S+7t533HtR4x0VrO/ft795xUXfOzvEt576r23fOBd2b33pBd/a+d3Znven87g1nn9ed8ZIvbXUAALRCowEANEWjAQA0RaMBADRFowEANEWjAQA0RaMBADRFowEANEWjAQA0tVKjOX78+EKUAwDAGqXR6HnEzuurtfw8AMA8jdpoSjUAgHl5/GC3MDTnDWo02jyGiNYBAMxD1FCGNBnBKxoAQJFtLEObjJjsM5ooV0PnAwBOH20wQ5uMWKvRjNEMxlgDANDWaW80fbL5pTEAYG+wDWaVZrPWlwFKNVFO2Rpf788BAKdP1FiGNpvRvwzgc57PR/VRDAAwrVJDGdJsmjUaG4vqSrFSHAAwL5O9ohkrDgCYl7UbjY49PycztB4AMC9rfRlA1eatmhoAwPyt9IoGAIBaNBoAQFM0GgBAUzQaAEBTNBoAQFM0GgBAUzQaAEBTi0Zz91MvAAAwulMazbETHQAAo6HRAACaotEAAJqi0QAAmqLRAACaotEAAJqi0QAAmqLRAACaotEAAJqi0QAAmqLRAACaotEAAJqi0QAAmqLRAACaotEAAJo6bY3m0f+c6C676Uj3oR8/0+37zsHuzK9uda/5+oHugisOdR/eiUnuH/8+Ec4FAMzH5I1GGsynrz3cvfwr8X9gs1725a1FrcyJ1gIA7H2TNppfPXCse+2lBxYbvuqSre4TP93urrvnaPfIziuX7WNdt3Xkhe6Bfx1fxD5+zfaiRmrllY7EojUBAHvbZI3m+/ufW7xCkX0uvmq7e+jJ/lcpUnPx1duLOS/dmfu9254L6wAAe9ckjeZn9x5bNAp5u+y7Nw9vFjJH5soaslZUAwDYm5o3Gvl8Rd76kvWjJiOvWuQttNf97y01qf3IT7a7ux8/fkqdzNV8689sLrzwwjCe8fVD53ul+UPWrqld9VrXuQ49X2WN2jlSp6L8EH4Ne963/pD9V7nWoXNaXk9NvdT0ieYNEa2paus8O88r5bPcKnMyvr5mvtQM3WcdzRvNZ647vNjgY9ds78o9/NSJ7o3fPNlgPrnTbC6/5bnu8z8/3L1i59XLq792oNv/6POn1MsaUvupaw+fEh+b/QHoD8TL6vU8q8v4ur56z8/P2Dpbb8eerdUaO/ZsrdZktcrP8WyNr7frKJsv1WXsHD/2x0xtnVVTa2tK9ZKrVTvP1kX6atbN18jWWPf6JWf1xW2+JqZsTtf0sno9j+psPhq31LTR/HPnlYd8LiMf6j/29O5XIdIwZF//2csv7j+2iL/vykOnxB/bOrFYS9aUtW1uTNHNL/1wsly0Tk3cH/v4umx+7Xolq6xRe30lpdpVrilj15KxZ+NaF/H5rF7X6uPnRGOvlLOy9bO4Pa81ZI7dYxXRmiqqV7amVG/jviab45XqolztnqU6jfmaqG5sTRuNvt312Z1XNVFe3i6TVy6Hju7e9/zLDy4+k/Hxz11/sjlFb8ONRW++/4H4sa1TUb3l49GcaG5Ul8lq++b1GbqW1FhRTONZLqNzdJ49X0fNWn37Z2uMdZ2yTkk2JxpHstq+eTWG7L2qbI1SXHO+JppTWieKR0q1klM25se2TkX1VlSX1Y6paaORX7yUdW+4L/4A/8ntF7q/P7X7lckzR7vurG8d6F7/jQO7cjf+9eSrHVnb59alNz268Tbm8z7nlXLKrqNHryZfy9f3zff7rFLvx9F5plQnuT59tTav46i+FI/Glq+xVo1FNRmtzeZIvFY0t3Ru432ieUNEa6qozsfsuY9la3g+Z+doLorV1Pu8z3m21urLj6lpo9n37YOLxYe8zXXk+a77wg0nX7Vc8tsju/KyluRkbZ8bS3Tzbczno5w/ekPm9J17teuU4qXaoevYuJ5btj5TqqtdQ0S1NubzpdzY+vaqjXm+pm+O5mvnjRXfC/quTfJKz+3Rj6PzLKb66kvr69gfPYlnuRaaNhr5szKyrrxCifKeNBn98oC8YpFf4vQ1EpO8fFbjc2OJfgA25vP2h5YdvShemmNj2ZrC5+ya2bxsjmfX8rksLjEV1UTnXlRnlXJeVGtjPi/nVlSzDr9+JporSjnL1g1ZT8/lGM2z+Zq4xvpE9TYWsfP7RPP72Ln2GPHzonMfV1HcxqL1NJYdPTtnCpM0mqefrVtXX8nIL3RGTUbspUajP6wsZ486zmRza9l5Q9l5fo1ozWyfbK6Ny9jTnOXjWZ3QnK4X8bVWKR/lsnoZ14rm1/JrWbV1ntbb+UPVrGNzNWM997FaffN07RJfXzr6cencx1UUtzE7X0U5e/T8vNaaNhp96+zBJ/rfOpMaqX3vDw51z+68solqxJRvnWU/rOxcjhlbb+dEsSinSjkh+T7RnL65Ub03JJ7VqiFzNN6X13Ekqo3qbY0eI6WcVVuXGTq/r17yfaJ5qpT3OXuejUuxjF/Ly2ojWb09Rvrm2KPXV5edyzFj60+Hpo1G/jKzrJt9GcCSOhHlrJZfBlD+h+N/ULXnPm6tkrNxGUd1viaLWVHM8vmsvi8ux0w2J4rZXDa2amqUz0dz5RjFs/NSPKutNWS+rZVx3/XoOIpFovpMac2+8z6ltb2heTlXNm/r7FjPo7roXGM23jcnO/dxS3Kl/NiaNpq+rzdbUieinDXV15ujcRYr1UfzNW75nD/3MZvLznUcxfy5j5dktbXxmj0lZ/m4Pfe5iNb08bX2XMd9NX2yuauomR/ta3PZuY6jmCUxH49iNheNS7FaOtcfM5Lv4+tLRz8ekotifXl/Xsr5eJZroWmjkb/KXPqFzaHkFzblcx9ZU9aOasYU/dBKMZ9TNm/rIzbfV6t8fQ07z66T8XX+PKqzeT36GhvTsa/xbH0U9/rWE1KjfNzmbdzSeB+/hs31sfv1sfV+Hc/X17D1di3P15TGvnYoP9eu6WVzvFI+yvn1fW6deLS2jfmcyuJTatpohP72v/zZ/yivpEZEOSVrSE3rP0EDABhP80Zj/6im/C2zqEZIXkQ5IXMlP8Uf1QQAjKd5oxHX33P0xX8TcOXtwz9b+eHOHP03AbJWVAMA2JsmaTTC/uOzj15d/4/P9C82S5O54tZ2XwAAALQxWaMR/l85y7fR5OvK8sH+4WPdgowlJjmpkVp5u+zau3klAwBzNGmjEfL5inyYr69uSqRGavlMBgDma/JGo6R5XHbTkcUvdcpv+b9y59WLkLHEJCf/GC2aCwCYj9PWaAAAm4FGAwBoikYDAGiKRgMAaIpGAwBoikYDAGiKRgMAaIpGAwBoikYDAGiKRgMAaIpGAwBoikYDAGiKRgMAaIpGA8zMmZc+gYLonkXkmYdcdM9WRaMBZiZ6uGIpumeRsR+m/09oNMCGix6uWIruWYRGk6PRABsuerhiKbpnERpNjkYDbLjo4Yql6J5FaDQ5Gg2w4aKHK5aiexah0eRoNMCGix6uWIruWYRGk6PRABsuerhiKbpnERpNjkYDbLjo4TqF2r1P5zUKe69K5tRopr5WGg2w4aKH65iy/bJ4pC/fkr/OTOuHt6wfiWqVzdeMWxl7DxoNMDPRw7UFu5ff1+dq2TVaifaNTP3A1rEcLc37Ojv2x9bG3odGA8xM9HBtIdvLx2uvaaprl31qTPHQtntE49prmOJarbH3o9EAMxM9XMfm9/HXoGzNXhFdZ2SKh7fsYdm4PfqxnmdsXQtj70GjAWYmeriOze/njz5WS+e2FO0bmfqBHY39NWT1VhYf09h70GiAmYkermOy+9hjxM6zSrnW/DVmpnpgWzZujxE7z4vqxzT2HjQaYGaih+vYdJ/s6Md9uSnJ3jWmfmBH49I1ZLnSnLGMvQeNBpiZ6OE6Nt3HHiPRnKze1rYU7R2Z+oEtY3+uY0vjWh/xc8Y29h40GmBmoofr2Px+/ujHfbkpyd41Wj+wZX3P5+25j0X5UnxMY+9BowFmJnq4jk33yY7ZOKqbmuxdY4oHtmX303EUy8774mMaew8aDTAz0cO1pWhPey0+r7mIrWsl2jcyxQPb0v38vtl1RHGJZfVjGnsPGg0wM9HDFUvRPYtM8cCeKxoNsOGihyuWonsWodHkaDTAhoserliK7lmERpOj0QAbLnq4Yim6ZxEaTY5GA2y46OGKpeieRWg0ORoNsOGihyuWonsWodHkaDTAhoserliK7lmERpOj0QAbLnq4Yim6ZxEaTY5GA2y46OGKpeieReSZh1x0z1ZFowEANEWjAQA0RaMBADRFowEANEWjAQA0RaMBADRFowEANEWjAQA0RaMBADRFowEANEWjAQA0RaMBADRFowEANEWjAQA0RaMBADRFowEANEWjAQA0RaMBADRFowEANLWr0QAAMLYXGw0AAG1sdf8FcEIGaAyMU64AAAAASUVORK5CYII="},256:function(t,s,n){t.exports=n.p+"assets/img/xtqmt07.02a6563a.png"},257:function(t,s,n){t.exports=n.p+"assets/img/xtqmt28.dc9b5e3c.png"},277:function(t,s,n){t.exports=n.p+"assets/img/xtqmtyao.dd80c0aa.jpg"},278:function(t,s,n){t.exports=n.p+"assets/img/xtqmt00.3136002f.png"},279:function(t,s,n){t.exports=n.p+"assets/img/xtqmt02.63b27b78.png"},280:function(t,s,n){t.exports=n.p+"assets/img/xtqmt01.07786f04.png"},281:function(t,s,n){t.exports=n.p+"assets/img/xtqmt05.3d127f80.png"},282:function(t,s,n){t.exports=n.p+"assets/img/xtqmt09.9b7d81e0.png"},283:function(t,s,n){t.exports=n.p+"assets/img/xtqmt10.4227149d.png"},284:function(t,s,n){t.exports=n.p+"assets/img/xtqmt11.9bcfe97e.png"},285:function(t,s,n){t.exports=n.p+"assets/img/xtqmt32.35170d9e.png"},286:function(t,s,n){t.exports=n.p+"assets/img/xtqmt42.26b84dab.png"},287:function(t,s,n){t.exports=n.p+"assets/img/xtqmt43.bff948c0.png"},288:function(t,s,n){t.exports=n.p+"assets/img/xtqmt12.1f548a9d.png"},289:function(t,s,n){t.exports=n.p+"assets/img/xtqmt13.8211915c.png"},290:function(t,s,n){t.exports=n.p+"assets/img/xtqmt18.ea47fa71.png"},291:function(t,s,n){t.exports=n.p+"assets/img/xtqmt19.c915a129.png"},292:function(t,s,n){t.exports=n.p+"assets/img/xtqmt20.1b0eef73.png"},293:function(t,s,n){t.exports=n.p+"assets/img/xtqmt22.394a5507.png"},294:function(t,s,n){t.exports=n.p+"assets/img/xtqmt23.49105b1c.png"},295:function(t,s,n){t.exports=n.p+"assets/img/xtqmt24.5ae013e9.png"},296:function(t,s,n){t.exports=n.p+"assets/img/xtqmt21.4d600005.png"},297:function(t,s,n){t.exports=n.p+"assets/img/xtqmt29.7b31e752.png"},298:function(t,s,n){t.exports=n.p+"assets/img/tickdata.89a22034.png"},299:function(t,s,n){t.exports=n.p+"assets/img/600ft.384dcb66.png"},300:function(t,s,n){t.exports=n.p+"assets/img/xtqmt26.d2bb81c0.png"},301:function(t,s,n){t.exports=n.p+"assets/img/xtqmt30.d8494483.png"},302:function(t,s,n){t.exports=n.p+"assets/img/xtqmt44.2eb07b58.jpg"},303:function(t,s,n){t.exports=n.p+"assets/img/xtqmt31.14c95590.png"},304:function(t,s,n){t.exports=n.p+"assets/img/xtqmt45.d4ec8038.png"},305:function(t,s,n){t.exports=n.p+"assets/img/xtqmt33.c2a318c0.png"},306:function(t,s,n){t.exports=n.p+"assets/img/xtqmt35.60f4b7f8.png"},307:function(t,s,n){t.exports=n.p+"assets/img/xtqmt36.77ec9d11.png"},308:function(t,s,n){t.exports=n.p+"assets/img/xtqmt37.b8c9756e.png"},309:function(t,s,n){t.exports=n.p+"assets/img/xtqmt38.644962dd.png"},310:function(t,s,n){t.exports=n.p+"assets/img/xtqmt39.a451d93d.png"},311:function(t,s,n){t.exports=n.p+"assets/img/xtqmt40.79835713.png"},312:function(t,s,n){t.exports=n.p+"assets/img/xtqmt41.ebc3bacf.png"},320:function(t,s,n){"use strict";n.r(s);var a=n(13),e=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[s("img",{attrs:{src:n(277),alt:"封面logo"}})]),t._v(" "),s("p",[s("font",{attrs:{size:"16",color:"blue"}},[t._v("迅投QMT开发上手指南")])],1),t._v(" "),s("p",[s("font",{attrs:{size:"4",color:"gray"}},[t._v("基于官方知识库，写给股民朋友们的迅投内置Python开发入门指南")])],1),t._v(" "),s("p",[t._v("【腾讯文档】迅投QMT开发上手指南\nhttps://docs.qq.com/doc/DR1dTc2d6T3hUUGFz")]),t._v(" "),s("h2",{attrs:{id:"_0-安装软件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_0-安装软件"}},[t._v("#")]),t._v(" 0） 安装软件")]),t._v(" "),s("p",[t._v("本文档由 "),s("strong",[t._v("智能交易*姚")]),t._v(" 个人维护 "),s("font",{attrs:{color:"blue"}},[t._v(" vx: 21523544")]),t._v("，"),s("font",{attrs:{color:"red"}},[t._v("欢迎加入QQ群：861129742 ")]),t._v("\n基于 迅投官方知识库（https://dict.thinktrader.net/?id=PN4WZC）")],1),t._v(" "),s("p",[t._v("迅投QMT 是一款国产的量化交易工具。类似于通达信、同花顺、大智慧、文华财经等，是国内A股、期货市场上，投资者电脑（PC）上应用的一套软件，目前（2024年）还没有手机端的应用App。目前已经 覆盖了绝大部分的券商和期货公司。支持 Python 语言编程，同时兼容 VBA 公式的运用。")]),t._v(" "),s("p",[t._v("安装迅投QMT最低配置只需要 Windows 7 x 32 位操作系统即可，但强烈建议还是用 Win10 x 64位以上的操作系统吧，别怀旧了。内存建议 8G - 16G，硬盘至少 1T以上了吧，现在硬件真的不贵了。何必为难自己呢。")]),t._v(" "),s("p",[t._v("获取迅投QMT最简单的方式就是直接找你的客户经理，从券商那里获得一个安装文件比较可靠，同时也能获取一个或多个仿真帐户，用于之后的练习操作，简单方便。（然后你会发现客户经理一问三不知，牛头不对马嘴。还是得靠自己啊。）")]),t._v(" "),s("p",[t._v("我看看，都4202年了，还有谁不知道 迅投的投研版是可以直接下载试用的？同时还可以申请A股和期货的仿真帐号，24小时都可以模拟交易。链接如下：\nhttps://xuntou.net/#/download?id=PN4WZC\n普通券商版的，也可以通过网页，全程自助下载，申请仿真帐号。通常24小时之内就可以用上了。")]),t._v(" "),s("p",[t._v("一，需要先申请一个 迅投 的帐号，以便登入 迅投 的软件，通常是 手机号。（不用挣扎了，天朝之下谈什么隐私嘛。）并且，要求开通 程序化交易 的权限，才有用。")]),t._v(" "),s("p",[t._v("二，需要至少一个仿真帐号，就是一个可以交易股票的模拟帐号。并且这个帐号也需要开通 程序化交易 的权限，并且这个程序化交易特指是 来自迅投QMT的程序化交易指令，用别的程序化还不行！")]),t._v(" "),s("p",[t._v("到目前为止 ，国信证券的 iQuant （就是迅投QMT换了个名）仍然是 0 门坎，完全免费。网页上直接申请，一步到位。")]),t._v(" "),s("p",[t._v("国信证券的 iQuant 可访问下面的链接直接下载：\nhttps://www.guosen.com.cn/gs/iquant/index.html")]),t._v(" "),s("p",[t._v("下载后可得到一个安装文件包，解压安装即可。以上操作如果有疑问，可参考视频内容，更加流畅直观。或在线寻求帮助。")]),t._v(" "),s("p",[s("img",{attrs:{src:n(278),alt:"安装包"}})]),t._v(" "),s("p",[t._v("如前所述，迅投QMT目前流行的版本，主要为 券商提供的普通版，和官方推行的投研版（高级版）。2者都包含 miniQMT 库，有经验的 Python 开发者可以作为一个第三方库导入使用。")]),t._v(" "),s("p",[t._v("本文档主要介绍 迅投QMT 中 内置 的 Python 语言调用的方法。暂不涉及 miniQMT ，VBA 等内容。其中 迅投QMT投研版 中用到的高级函数和功能，也会在文档中标注，敬请留意。")]),t._v(" "),s("p",[t._v("相关文档、视频也可通过以下链接观看：\nB站视频\nhttps://www.bilibili.com/video/BV1rh4y1z7e3/?spm_id_from=333.337.search-card.all.click\n迅投视频中心的课程\nhttps://www.xuntou.net/plugin.php?id=keke_video_base&ac=list&cid=1&scid=5&user_code=PN4WZC")]),t._v(" "),s("p",[t._v("如果你是一名初学者，希望本文档能成为你的入门指引。从上手安装软件 到 运行你的第一个量化程序。通过实例建立起基本概念，从而打开你的思路，进入量化交易的世界，进而成为你终身事业版图中的一块拼图，即是本文档的意义所在。")]),t._v(" "),s("p",[t._v("如果你是一名有经验 Python 开发人员，那么本文档对你而言就是一个简明参考手册。在开发过程中，调用需要的函数即可。在目录大纲中，我已尽可能的按功能需求做了编号。希望能帮助到你快速的找到需求对应的方法。同时欢迎你随时提出宝贵意见，不胜感谢。")]),t._v(" "),s("p",[t._v("如果你完全不了解量化交易，更没有 Python语言的基础。就是要硬啃本文档，那......劝退吧！（我就是这么傲骄！咋的！！）建议从本人写的另一个文档开始，即 Python 语言基础，链接如下：\nPython 基础文档\nhttps://zilchyao.github.io/python/")]),t._v(" "),s("p",[t._v("如果你还对其它量化工具感兴趣，也可以参考本人创建的其它文档。同样欢迎各种高手、大神们的不吝赐教。\nMQL5中文手册线上精校版\nhttps://zilchyao.github.io/mql5yao\n新手小白 功夫量化上手指南\nhttps://zilchyao.github.io/kungfu")]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("安装过程。一路点击 next 即可，此过程就不再赘述。\n安装完成，成功登录之后，请先检查以下3点：")]),t._v(" "),s("h3",{attrs:{id:"_0-1-下载-python-库"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_0-1-下载-python-库"}},[t._v("#")]),t._v(" 0.1 下载 Python 库")]),t._v(" "),s("p",[t._v("如果用 Python 语言做为开发语言，请先下载 Python库。\n请参考下图操作（如图片显示太小，不清晰。可用鼠标右键点击图片，然后在菜单中点击 “在新标签页中打开图像”，即可看到高清大图 ）：")]),t._v(" "),s("p",[s("img",{attrs:{src:n(279),alt:"添加帐号"}})]),t._v(" "),s("p",[t._v("点击界面顶部的“设置”铵钮，然后在弹出的 系统设置 窗口中，点击 “交易设置” 最下面的 “模型设置” ，然后点击 Python库下载。下载过程中，请不要断网。如果很卡慢，也可以直接找券商技术支持部门要一个压缩包。")]),t._v(" "),s("p",[s("strong",[t._v("迅投QMT自带的 Python 环境")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[s("strong",[t._v("名称")])]),t._v(" "),s("th",[s("strong",[t._v("说明")])])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("NumPy")]),t._v(" "),s("td",[t._v("NumPy (Numeric Python) 提供了许多高级的数值编程工具。")])]),t._v(" "),s("tr",[s("td",[t._v("Pandas")]),t._v(" "),s("td",[t._v("Python Data Analysis Library 或 Pandas 是基于 NumPy 的一种工具，该工具是为了解决数据分析任务而创建的。")])]),t._v(" "),s("tr",[s("td",[t._v("Patsy")]),t._v(" "),s("td",[t._v("一个线性模型分析和构建工具库。")])]),t._v(" "),s("tr",[s("td",[t._v("SciPy")]),t._v(" "),s("td",[t._v("SciPy 函数库在 NumPy 库的基础上增加了众多的数学、科学以及工程计算中常用的库函数。例如线性代数、常微分方程数值求解、信号处理、图像处理、稀疏矩阵等等。")])]),t._v(" "),s("tr",[s("td",[t._v("Statsmodels")]),t._v(" "),s("td",[t._v("Python 的统计建模和计量经济学工具包，包括一些描述统计、统计模型估计和推断。")])]),t._v(" "),s("tr",[s("td",[t._v("TA_Lib")]),t._v(" "),s("td",[t._v("技术分析库，是一种广泛用在程序化交易中进行金融市场数据的技术分析的函数库。")])])])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("迅投自带 Python 版本 3.6 版。因此无需再安装  Python 相关的软件。")])]),t._v(" "),s("p",[t._v("新手用户无需过多关注，直接使用就可以了。有Python基础的朋友可以通过下面的操作来查看一下这些库的版本号：")]),t._v(" "),s("p",[t._v("第一步，在主界面中点击 “新建策略”按钮，选择“Python 策略”，打开代码编辑窗口；")]),t._v(" "),s("p",[t._v("第二步，把下列代码粘帖到文本窗口中；")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:gbk")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" sys"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("numpy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pandas"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("patsy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("scipy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("statsmodels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("talib\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Python的版本是："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("sys"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("version"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"模块 NumPy 的版本是："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("numpy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__version__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"模块 Pandas 的版本是："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pandas"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__version__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"模块 Patsy 的版本是："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("patsy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__version__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"模块 SciPy 的版本是："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("scipy"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__version__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"模块 statsmodels 的版本是："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("statsmodels"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__version__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"模块 TA-Lib 的版本是："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("talib"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__version__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果:\nPython的版本是： 3.6.8 (default, Dec 19 2022, 22:05:09) [MSC v.1900 64 bit (AMD64)]\n模块 NumPy 的版本是： 1.19.1\n模块 Pandas 的版本是： 0.22.0\n模块 Patsy 的版本是： 0.5.0\n模块 SciPy 的版本是： 1.5.2\n模块 statsmodels 的版本是： 0.12.0\n模块 TA-Lib 的版本是： 0.4.17\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br")])]),s("p",[t._v("第三步，点击策略代码编辑器顶部的“编译”按钮；")]),t._v(" "),s("p",[t._v("第四步，点击“运行”按钮，即可 在日志窗口中看到相关信息。")]),t._v(" "),s("h3",{attrs:{id:"_0-2-补充历史数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-补充历史数据"}},[t._v("#")]),t._v(" 0.2 补充历史数据")]),t._v(" "),s("p",[t._v("1） 点击界面顶部的 “操作” 铵钮；"),s("br"),t._v("\n2） 然后在出现的下拉菜单中点击选择 “数据管理”；"),s("br"),t._v("\n3） 然后在弹出的 数据管理 窗口中点击 “补充数据” ；"),s("br"),t._v("\n4） 在左侧，可以勾选交易所，选择数据类型；通常勾选上海和深圳交易所，K线数据；也可以根据自己的需要选择；"),s("br")]),t._v(" "),s("p",[t._v("5） 在右侧，可以选择数据范围；如最近1月，1分钟数据；"),s("br"),t._v("\n6） 决定之后记得点击 开始。"),s("br")]),t._v(" "),s("p",[s("img",{attrs:{src:n(251),alt:"补充历史数据"}})]),t._v(" "),s("p",[t._v("即会开始下载数据，视数据量大小，所需的时间不同。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("建议在休盘时间下载数据，速度较快。请尽可能下载好 1分钟的 K线数据以备用。另 投研版 与 普通券商版 提供的数据 有所差别。但基本的 K线数据、财务数据等，都是与交易所保持一致的。")])]),t._v(" "),s("h3",{attrs:{id:"_0-3-绑定模拟帐户"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_0-3-绑定模拟帐户"}},[t._v("#")]),t._v(" 0.3 绑定模拟帐户")]),t._v(" "),s("p",[t._v("确认模拟帐户是否已绑定到讯投的终端中。国信的iQuant自带仿真帐户，可以略过此步骤。如果没有看到模拟帐号，需手动添加，请按下图所示操作：")]),t._v(" "),s("p",[s("img",{attrs:{src:n(280),alt:"添加帐号"}})]),t._v(" "),s("p",[t._v("点击界面顶部的 “当前帐号” ，然后在弹出的 系统设置 窗口中，点击 “帐号管理”。如果已看到自己的帐号即表示已成功绑定；如果没有，则需要手动添加，点击 “添加”按钮，输入帐号信息即可。")]),t._v(" "),s("h3",{attrs:{id:"_0-4-测试程序下单指令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_0-4-测试程序下单指令"}},[t._v("#")]),t._v(" 0.4 测试程序下单指令")]),t._v(" "),s("p",[t._v("绑定了股票交易帐号后，需要先检证一下，是否可以通过程序指令下单。")]),t._v(" "),s("p",[t._v("第一步，在主界面中点击 “新建策略”按钮，选择“Python 策略”，打开代码编辑窗口；")]),t._v(" "),s("p",[s("img",{attrs:{src:n(252),alt:"复制粘帖代码"}})]),t._v(" "),s("p",[t._v("第二步，把下列代码粘帖到文本窗口中。注意其中的帐号要替换成你自己的帐号，并提前登录成功；")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" time  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 导入 time 模块")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("myHandlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 自定义函数")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Hello world'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在日志中打印输出 Hello world")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下单指令 在帐户 368920 中买入股票 000004.SZ 以对手价买入 100 股，即时下单。")]),t._v("\n    passorder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1101")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'00368920'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000004.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\tContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_account"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'00368920'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置交易帐号为 00368920 注意此处替换成你自己的帐号")]),t._v("\n\tstocklist "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000004.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("            \n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 每5秒执行一次自定义函数 myHandlebar")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run_time"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myHandlebar"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"5nSecond"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1970-01-01 00:00:00"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SH"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("本文档中的示例代码都可以按此操作步骤进行测试运行。")])]),t._v(" "),s("p",[t._v("第三步，给这段代码起外名称，如“TESTACC”，然后先点击“编译”，再点击“运行”。然后在下面的“日志输出”窗口中，应该可以看到每5秒有一行文字“ Hello world ” 输出。即表示这段代码运行成功了，此时可以点击停止按钮，以结束运行。然后关闭代码编写窗口。")]),t._v(" "),s("p",[s("img",{attrs:{src:n(281),alt:"编译运行代码"}})]),t._v(" "),s("p",[t._v("第四步，请点击主界面上的“模型交易”按钮，以切换到模型交易界面。在此界面左侧，可以找到刚刚创建的策略代码“TESTACC”，")]),t._v(" "),s("p",[s("img",{attrs:{src:n(253),alt:"新建策略交易"}})]),t._v(" "),s("p",[t._v("点击之后会弹出“新建策略交易”")]),t._v(" "),s("p",[s("img",{attrs:{src:n(254),alt:"新建策略交易"}})]),t._v(" "),s("p",[t._v("在此窗口中，请选择指定你的帐号类型、资金帐号、主图代码、运行周期。最后记得点击 “确定”。")]),t._v(" "),s("p",[t._v("第五步，点击了 “新建策略交易”窗口中的“确定”之后，即可在中间的策略列表部分看到刚刚选择的策略，其中策略名称就是上一步中选择的策略名称，主图标的、策略周期都是在“新建策略交易”窗口中的设定值，请仔细核对一下。")]),t._v(" "),s("p",[t._v("此时请点击“运行模式”下面的按钮，以切换到“实盘”模式，在弹出的“提示”窗口中，点击“确定”")]),t._v(" "),s("p",[s("img",{attrs:{src:n(255),alt:"确定运行策略"}})]),t._v(" "),s("p",[t._v("然后，请点击 “操作”下面的 三角符号，即可开始运行该策略。在下面的“成交”标签页中，如果看到了实际成交的股票，即表示该帐号已经通畅可用。")]),t._v(" "),s("p",[s("img",{attrs:{src:n(256),alt:"核对策略名称"}})]),t._v(" "),s("p",[t._v("如果下单失败，可能需要 "),s("u",[t._v("管理端  开放权限，这需要与券商联系")]),t._v("。")]),t._v(" "),s("h3",{attrs:{id:"小结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[t._v("#")]),t._v(" 小结：")]),t._v(" "),s("p",[t._v("到此，安装 迅投软件 的全部操作步骤，包含下载 Python 环境、补充历史数据，绑定模拟帐户，并用一段代码测试模拟帐户是否已开通交易权限的全过程即全部完成。之后即可顺利开始使用 迅投软件，来进行量化交易的程序开发、历史测试、模拟测试等工作。")]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_1-模型研究"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-模型研究"}},[t._v("#")]),t._v(" 1）模型研究")]),t._v(" "),s("p",[t._v("本文档主要描述 量化程序交易 的功能。因此 迅投QMT 的基本操作教程，并未涉及。如果对 QMT 基础操作还不熟悉的朋友，建议先熟悉一下界面风格、基本操作。")]),t._v(" "),s("h3",{attrs:{id:"_1-1-策略列表"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-策略列表"}},[t._v("#")]),t._v(" 1.1 策略列表")]),t._v(" "),s("p",[t._v("成功登录 迅投QMT之后，在主页界面中间部分即可看到 “策略列表”，其中应该包含的是 “我的策略”。如果点击 “返回”按钮，可以看到全部的（更多的）策略列表，如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:n(282),alt:"全部策略"}})]),t._v(" "),s("p",[t._v("其中在“类型”一栏中标明了该策略运用的语言，vba/python。在 PYTHON 模型指标 中，有一个 《PY简单示例》，请点击它后面的“编辑”按钮，即可打开策略编辑器，看到源代码，如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:n(283),alt:"PY简单示例"}})]),t._v(" "),s("p",[t._v("从这个简单示例中，可以看到。在 迅投QMT中，编写 Python 程序，第一行声明了字符集是 "),s("code",[t._v("#coding:gbk")]),t._v(" 。其中最重要的两个自定义函数就是 "),s("strong",[t._v("init()")]),t._v(" 和  "),s("strong",[t._v("handlebar()")])]),t._v(" "),s("p",[s("font",{attrs:{size:"6",color:"red"}},[t._v("init()")]),t._v(" —— 是初始化函数，即策略程序一启动，首先执行此函数。通常在这个函数中，书写获取股票池、验证帐号、声明全局变量等语句；")],1),t._v(" "),s("p",[s("font",{attrs:{size:"6",color:"red"}},[t._v("handlebar()")]),t._v(" —— 表示每一根 K 线收盘后，即执行一次此函数。策略的核心逻辑都是写在该函数中的，比如，需要获取什么数据，获取后如何计算，得出结果后是否下单交易等等。通常用户还可以通过 paint() 方法将需要绘图输出的结果展示出来。")],1),t._v(" "),s("p",[t._v("其中 "),s("font",{attrs:{size:"4",color:"red"}},[s("b",[t._v("ContextInfo")])]),t._v("  是整个 Python 框架中的"),s("u",[t._v("核心对象")]),t._v("。它包含了各种与 Python 底层框架交互的 API 方法，也是一个全局的关联上下文的对象（object），可以在 init 以及 handlebar 这两个函数中自由地传递用户创建的各种自定义数据。")],1),t._v(" "),s("p",[t._v("现在我们来创建第一个策略程序吧。如之前在安装步骤中的操作，请点击中间上侧的 “新建策略”按钮，然后选择 “Python” 策略，然后把下列代码复制到窗口中。")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'这是初始化函数 init() 中的 Hello World'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'这是 handlebar 中的 say hi~~~'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[s("img",{attrs:{src:n(252),alt:"新建策略"}})]),t._v(" "),s("p",[t._v("然后点击“运行”按钮，在下面的“日志输出”窗口中能看到输出的文字即表示成功。")]),t._v(" "),s("p",[s("img",{attrs:{src:n(284),alt:"运行策略"}})]),t._v(" "),s("h3",{attrs:{id:"_1-2-参数设置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-参数设置"}},[t._v("#")]),t._v(" 1.2 参数设置")]),t._v(" "),s("p",[t._v("在“策略编辑器”的右侧，基本信息面板的底部，中间的标签是“参数设置”，用鼠标点击一下该标签，即可在这里可以设置策略程序中的外部参数。通常用于策略程序源码必须加密，但同时又要允许用户可以自己修改参数的需求；或者用历史数据回测时，优化参数时使用。最多允许设置20个外部参数。在对应的栏位中填上“参数名”、“最新（值）”、“最小（值）”、“最大（值）”、“步长”、“初始（值）”，填完之后回车即可。")]),t._v(" "),s("p",[s("img",{attrs:{src:n(285),alt:"PY模型回测示例"}})]),t._v(" "),s("p",[t._v("在“参数设置”面板中填写的参数，可以理解为就是在策略程序中声明的全局变量，在策略中的各个方法（函数）中都是可见的，包括用户自定义的函数中，也是可见的。因此在程序中可以直接使用，赋值、参与运算都可以。如上图中的示例，在参数设置中，填写了3个变量，"),s("code",[t._v("xyz,abc,message")]),t._v("，并且填写了各自的值。回车之后，在策略程序中，就可以直接打印出这些变量的值。并不需要提前声明或赋值操作。")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("参数在最外层的代码中是 不可见 的。意即，顶格书写的代码是看不到这些外部设置的参数的。在 方法（函数）中都是可见的。")])]),t._v(" "),s("p",[t._v("但在代码最外层是不可见的，即：顶格书写的代码是找不到这些变量的!")]),t._v(" "),s("p",[t._v("如上图中的示例，在参数设置中，填写了3个变量，"),s("code",[t._v("xyz,abc,message")]),t._v("，并且填写了各自的值。回车之后，在策略程序中，就可以直接打印出这些变量的值。并不需要提前声明或赋值操作。")]),t._v(" "),s("p",[t._v("在“策略交易”中运行某一个策略时，在“编辑策略交易”的窗口，对应的变量如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:n(286),alt:"模型内置变量"}})]),t._v(" "),s("p",[t._v("另，如果想要在 “模型/策略交易”界面，让策略程序给出如下的参数设置面板：")]),t._v(" "),s("p",[s("img",{attrs:{src:n(287),alt:"模型交易参数设置"}})]),t._v(" "),s("p",[t._v("可以在迅投QMT的安装文件夹中，具体路径为：")]),t._v(" "),s("p",[t._v("X:\\QMT\\python\\formulaLayout")]),t._v(" "),s("p",[t._v("找到 .xml 类型的文件，用文本编辑器打开，即可发现，其中就是扩展的参数。对应的参数名称（name），参数提示（note），默认值（value），输入类型（type），绑定的变量名称（bind），（学过前端的朋友应该秒懂了。）都可以由用户根据需求自已定制。")]),t._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token prolog"}},[t._v('<?xml version="1.0" encoding="utf-8"?>')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("TCStageLayout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("control")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("note")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("控件"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("variable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("note")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("控件"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("item")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("position")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("bind")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("xyz"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("10000"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("note")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("变量xyz"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("xyz"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("intput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("item")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("position")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("bind")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("abc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("3.4"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("note")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("变量abc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("abc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("intput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("item")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("position")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("bind")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("value")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("面板设置参数"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("note")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("变量message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("intput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("variable")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("control")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("TCStageLayout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("p",[t._v("建议复制其中一个文件，然后修改成与你的模型程序文件同名，后缀为 .xml 即可。如 “TEST01.xml” ，对应的策略模型名称为 “TEST01.py”。")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# TEST01.py 即可接收到来自面板设置的参数")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"从模型交易面板获取的变量 xyz："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("xyz"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"从模型交易面板获取的变量 abc："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("abc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"从模型交易面板获取的变量 message："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("message"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果：\n从模型交易面板获取的变量 xyz： 10000\n从模型交易面板获取的变量 abc： 3.4\n从模型交易面板获取的变量 message： 面板设置参数\n\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("h3",{attrs:{id:"_1-3-历史数据回测"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-历史数据回测"}},[t._v("#")]),t._v(" 1.3 历史数据回测")]),t._v(" "),s("p",[t._v("在 迅投 的主界面中，“我的” --\x3e “模型研究” 中，有一个 “PY模型回测示例” ，如下图所示：")]),t._v(" "),s("p",[s("img",{attrs:{src:n(288),alt:"PY模型回测示例"}})]),t._v(" "),s("p",[t._v("点击其后的编辑按钮，即可看到源代码。其策略大致为：")]),t._v(" "),s("p",[s("img",{attrs:{src:n(289),alt:"PY模型回测示例源码"}})]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("此模型文件已是老旧版本，建议参考本文档附录中的案例")])]),t._v(" "),s("p",[t._v("策略说明描述大致如下："),s("br"),t._v("\n观察“上证50”成份股中的全部股票，关注 5日均线 和 20日均线。"),s("br"),t._v("\n如果发现某只股票 5日均线 在 20日均线之下，并且持有该股票，即卖出。"),s("br"),t._v("\n如果发现某只股票 5日均线 在 20日均线之上，并且没有持有该股票，即买入。")]),t._v(" "),s("p",[t._v("该示例中，导入了 time, datetime 和 numpy 模块，分别用来计算日期时间和平均值（均线）。同时还用到自定义函数来获取持仓股票列表。调取历史数据（如果之前没有补齐历史数据，会导致失败和错误）等功能，具体代码的解析，在阅读理解了 api 手册之后会有更详细的讨论。")]),t._v(" "),s("p",[t._v("第一步，点击右侧面板底部的“回测参数”按钮，以切换到 回测参数 面板。在此处可以选择回测的时间段，前提条件是下载过历史数据。其它参数可按需填写，如：初始资金、保证金比例、印花税等......（如图片显示太小，不清晰。可用鼠标右键点击图片，然后在菜单中点击 “在新标签页中打开图像”，即可看到高清大图 ）")]),t._v(" "),s("p",[s("img",{attrs:{src:n(290),alt:"回测参数"}})]),t._v(" "),s("p",[t._v("第二步，点击“策略编辑器”顶部的 "),s("kdb",[t._v("“回测”")]),t._v("按钮，即可开始历史数据回测。如果有历史数据，回测过程会顺利进行。在“模型研究”窗口，可以看到数据变化。（如图片显示太小，不清晰。可用鼠标右键点击图片，然后在菜单中点击 “在新标签页中打开图像”，即可看到高清大图 ）")],1),t._v(" "),s("p",[s("img",{attrs:{src:n(291),alt:"回测参数"}})]),t._v(" "),s("p",[t._v("在 “模型研究” 窗口中，分为左右两个部分。 左边是K线图表，右边是 操作明细 和 日志输出。")]),t._v(" "),s("p",[s("img",{attrs:{src:n(292),alt:"回测参数"}})]),t._v(" "),s("p",[t._v("左边的K线图表，可以用键盘上的 上下箭头键放大和缩小。左右箭头键可以前进或后退到某一根K线对应的日期时间，同时，右边的数据会显示对应的K线时间的操作。右侧底部有四个按钮，分别是：持仓明细、持仓分析、历史汇总和日志输出。")]),t._v(" "),s("ul",[s("li",[t._v("持仓明细 是随着左边的K线图联动的，当十字光标停留在某一根K线上时，在右侧即可看到对应的时间上，当时的操作记录。本例是日线图上的策略，因此每根K线对应一天，在右侧上半部分可以看到 “当日买入” 和 “当日卖出”，在下半部分可以看到“当日持仓明细”。")])]),t._v(" "),s("p",[s("img",{attrs:{src:n(293),alt:"持仓明细"}})]),t._v(" "),s("ul",[s("li",[t._v("持仓分析 标签页中可以看到当时持有的股票的权重。有饼形图 和 直方图表示，一目了然。这些数据也是和 十字光标对应的K线，对应的时间联动的。可以按左右键移动光标，观察数据的变化。")])]),t._v(" "),s("p",[s("img",{attrs:{src:n(294),alt:"持仓分析"}})]),t._v(" "),s("ul",[s("li",[t._v("历史汇总 面板，其中包括了历史回测时间段内的全部交易结果。可以看到合计交易次数、盈亏、交易量等信息。")])]),t._v(" "),s("p",[s("img",{attrs:{src:n(295),alt:"历史汇总"}})]),t._v(" "),s("ul",[s("li",[t._v("日志输出 面板中的内容和 “策略编辑器”窗口下面的 日志输出 是一致的，用于显示程序运行过程中的各种文本输出信息，如： print()的输出，错误消息等......")])]),t._v(" "),s("p",[s("img",{attrs:{src:n(296),alt:"持仓分析"}})]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("一般约定 在 迅投 中编写一个 Python 策略时，第一行我们写上")]),t._v(" "),s("p",[s("code",[t._v("# coding:gbk")])]),t._v(" "),s("p",[t._v("这表示程序的编码格式统一是GBK")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_2-重要方法-函数-和对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-重要方法-函数-和对象"}},[t._v("#")]),t._v(" 2） 重要方法（函数）和对象")]),t._v(" "),s("p",[t._v("在 迅投 中编写 Python 策略时，实际上是已经继承了一个来自底层的 基类（class） 。我们需要且仅能够在这个 类（class） 的框架之内，编写我们自己的程序来描述策略需求。其中有2个重要的 方法，就是 "),s("code",[t._v("init()")]),t._v(" 和 "),s("code",[t._v("handlebar()")]),t._v(" 和一个重要的 对象（Object）， "),s("code",[t._v("ContextInfo")]),t._v("。")]),t._v(" "),s("h3",{attrs:{id:"_2-1-初始化函数-init"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-初始化函数-init"}},[t._v("#")]),t._v(" 2.1 初始化函数 init()")]),t._v(" "),s("p",[s("font",{attrs:{size:"4",color:"red"}},[s("b",[t._v(" init() ")])]),t._v(" —— 初始化方法（函数），只执行一次。一般在程序开始启动时，在这个方法的代码中，把交易佣金、滑点、基准，订阅品种、帐户等信息设置好。这些只需要设置一次的操作，就放在初始化方法 init() 中；")],1),t._v(" "),s("p",[t._v("功能： 初始化函数，只在整个策略开始时调用运行一次")]),t._v(" "),s("p",[t._v("语法："),s("code",[t._v("def init(ContextInfo)")])]),t._v(" "),s("p",[t._v("参数： ContextInfo——继承自底层 基类 的策略运行环境对象，可以绑定自定义的属性、全局可见。")]),t._v(" "),s("p",[t._v("返回： 无")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("initProfit "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 这个 initProfit 绑定到 ContextInfo 上，即是一个全局可见的属性（变量）")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h3",{attrs:{id:"_2-2-行情事件函数-handlebar"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-行情事件函数-handlebar"}},[t._v("#")]),t._v(" 2.2 行情事件函数 handlebar()")]),t._v(" "),s("p",[s("font",{attrs:{color:"red"}},[s("b",[t._v("handlebar()")])]),t._v(" —— 行情处理函数。当点击 “运行” 时，此方法会在每根K线上执行一次此函数。如果不点击“停止”，并且没有休市，实时行情仍在跳动，则会在每一次价格跳动时，即每一个 tick 都会执行一次此函数。因此在这个方法中，书写整个策略的执行代码。")],1),t._v(" "),s("p",[t._v("功能： 此函数会在每根 K 线上运行一次；在实时联网，获取行情的状态下，会先每根据附着的主图上的K 线数量，每根K线运行一次；然后每接收到一次 tick 数据，即运行一次。")]),t._v(" "),s("p",[t._v("语法："),s("code",[t._v("def handlebar(ContextInfo)")])]),t._v(" "),s("p",[t._v("参数： ContextInfo —— 继承自底层 基类 的策略运行环境对象，可以绑定自定义的属性、全局可见。")]),t._v(" "),s("p",[t._v("返回： 无")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 打印输出当前运行到的 K 线的索引编号（位置序号）")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("barpos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("在 迅投 中，编写 Python 策略必须包含以上这两个基本方法，否则策略将运行不起来。")]),t._v(" "),s("h3",{attrs:{id:"_2-3-最重要的对象-contextinfo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-最重要的对象-contextinfo"}},[t._v("#")]),t._v(" 2.3 最重要的对象 ContextInfo")]),t._v(" "),s("p",[s("b",[s("font",{attrs:{size:"4",color:"red"}},[t._v(" ContextInfo ")])],1),t._v(" 是 迅投QMT 中策略程序运行环境中最重要的对象，没有之一！前述的 "),s("code",[t._v("init()")]),t._v(" 和 "),s("code",[t._v("handlebar()")]),t._v(" 这两个基本方法运行时必须要传入这个参数。")]),t._v(" "),s("p",[t._v("ContextInfo 里面已经封装了多达 100+  个属性 和 方法。因版本变化，此数量仍在变化中。当然，"),s("code",[t._v("ContextInfo")]),t._v(" 这个对象（Object）也可以随时绑定 自定义 的 属性 和 方法，如同使用一般 对象（Object） 的方式一模一样，并无二致。"),s("br")]),t._v(" "),s("p",[t._v("接下来介绍一些常用的 "),s("code",[t._v("ContextInfo")]),t._v(" 自带的 属性和方法。更详细的信息，请参考附录和官方发布的文档为准。")]),t._v(" "),s("h3",{attrs:{id:"_2-3-01-设置帐户-contextinfo-set-account"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-01-设置帐户-contextinfo-set-account"}},[t._v("#")]),t._v(" 2.3.01 设置帐户  "),s("br"),t._v("ContextInfo.set_account()")]),t._v(" "),s("p",[t._v("功能： 设定交易账号。在参数中传入的账号用于之后的交易操作。"),s("br"),t._v("\n语法： ContextInfo.set_account(account)"),s("br"),t._v("\n*注："),s("br"),t._v("\n一、可多次调用以设置多个账号，应在 init() 中设置完毕，init() 执行之后再设置将无效；"),s("br"),t._v("\n二、调用 passorder 交易指令时，如果传入的账号为空，将会使用最后一次设置的账号作为交易下单账号。"),s("br"),t._v("\n参数： 字符串（string） "),s("br"),t._v("\n返回： 无 "),s("br"),t._v("\n示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:gbk")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    account "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'6000000223'")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 假设这是一个 股票帐号")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_account"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("account"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("设定交易帐号是最常用、也是必须用的第一个方法（函数），连帐号都没设置好，那程序咋交易呢？往哪儿下单呢？因此在 "),s("code",[t._v("init()")]),t._v(" 这个方法（函数）中，第一个要用到的，就是这个设置帐号的方法（函数），也必须写在 "),s("code",[t._v("init()")]),t._v(" 这个方法（函数）中。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("如果在代码中没有声明变量 account ，那么在 “策略交易”中，会自动读出策略选择的帐号。")])]),t._v(" "),s("p",[t._v("实际运用中，更多情况是结合以下方法（函数）来设置关注的股票池：")]),t._v(" "),s("p",[t._v("获取指数成份股；ContextInfo.get_sector()"),s("br"),t._v("获取行业成份股；ContextInfo.get_industry()"),s("br"),t._v("获取板块成份股；ContextInfo.get_stock_list_in_sector()"),s("br")]),t._v(" "),s("p",[t._v("可以一次设置多个品种，简单方便。")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置股票池为 沪深300指数 000300.SH 中的全部品种")]),t._v("\n    stock_list "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_sector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000300.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_universe"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stock_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("在实际运用中，通常是先获取一个板块中的全部品种，保存到一个列表中。然后再经过筛选，最终传给订阅品种的方法 "),s("code",[t._v("ContextInfo.set_universe()")]),t._v("，完成设置股票池的动作。")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置股票池为 沪深转债  中的全部品种")]),t._v("\n    stock_list "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_stock_list_in_sector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'沪深转债'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_universe"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stock_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("另一种常见的操作就是文件单，意即从文件中读取想要订阅的品种，会用到 "),s("code",[t._v("ContextInfo.load_stk_list()")]),t._v(" 和 "),s("code",[t._v("ContextInfo.load_stk_vol_list()")]),t._v("方法，后面会有更详细的讨论。")]),t._v(" "),s("h3",{attrs:{id:"_2-3-02-将毫秒时间转换成日期时间timetag-to-datetime"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-02-将毫秒时间转换成日期时间timetag-to-datetime"}},[t._v("#")]),t._v(" 2.3.02 将毫秒时间转换成日期时间"),s("br"),t._v("timetag_to_datetime()")]),t._v(" "),s("p",[t._v("功能： 将毫秒时间戳格式 转换为 日期时间格式参数：")]),t._v(" "),s("p",[t._v("语法： timetag_to_datetime(timetag, format)"),s("br"),t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("timetag——时间戳：毫秒，如：1512748800000")]),t._v(" "),s("li",[t._v("Format——日期时间格式字符串，如：'%Y-%m-%d %H:%M:%S'")])]),t._v(" "),s("p",[t._v("返回： str，日期时间")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:gbk")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'把时间戳 1512748860000 转换为 日期时间格式：\\n'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timetag_to_datetime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1512748860000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%Y%m%d %H:%M:%S'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果：\n把时间戳 1512748860000 转换为 日期时间格式：\n20171209 00:01:00\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("h3",{attrs:{id:"_2-3-03-设置定时运行-contextinfo-run-time"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-03-设置定时运行-contextinfo-run-time"}},[t._v("#")]),t._v(" 2.3.03 设置定时运行  "),s("br"),t._v("ContextInfo.run_time()")]),t._v(" "),s("p",[t._v("功能： 设置定时器"),s("br"),t._v("\n语法： run_time(funcName,period,startTime,market)"),s("br")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("*注：模型回测时无效，定时器没有结束方法，会随着策略的结束而结束。另外定时器函数在第一次运行前\n会先等待一个 时间周期（period）")])]),t._v(" "),s("p",[t._v("参数："),s("br")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("funcName——想要复重执行的函数名称，通常是一个 自定义 函数的名称"),s("br")])]),t._v(" "),s("li",[s("p",[t._v("period——重复调用的时间间隔。"),s("br"),t._v("'5nSecond'表示每5秒运行1次,"),s("br"),t._v("'5nDay'表示每5天运行一次,"),s("br"),t._v("'500nMilliSecond'表示每500毫秒运行1次"),s("br")])]),t._v(" "),s("li",[s("p",[t._v("startTime——表示定时器第一次启动的时间。如果想立刻启动,可以设置为已过去的历史时间"),s("br")])])]),t._v(" "),s("p",[t._v("回调函数参数： ContextInfo"),s("br")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:gbk")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 从 2019-10-14 13:20:00 之后开始 每5s 运行一次 myHandlebar 函数")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("run_time"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myHandlebar"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"5nSecond"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"2019-10-14 13:20:00"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SH"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("myHandlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 此函数必须带一个参数 ContextInfo")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'每5秒打印输出一次 hello world'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("h3",{attrs:{id:"_2-3-04-程序停止-stop"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-04-程序停止-stop"}},[t._v("#")]),t._v(" 2.3.04 程序停止 "),s("br"),t._v("stop()")]),t._v(" "),s("p",[t._v("功能： 停止处理。Python策略模型中用来关闭停止之前运行的函数。在一个复杂的策略模型程序中，如果其中有发起多线程时，可通过此函数实现停止线程的操作。")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("*注：Python策略程序基本不用此函数"),s("br")])]),t._v(" "),s("p",[t._v("语法： stop(ContextInfo)"),s("br"),t._v("\n参数： ContextInfo：策略模型全局对象")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:gbk")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pass")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pass")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("stop")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'strategy is stop !'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("h3",{attrs:{id:"小结-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#小结-2"}},[t._v("#")]),t._v(" 小结：")]),t._v(" "),s("p",[t._v("以上只是简单的介绍了在 迅投QMT 中开始自动交易程序时的基本要素，包括："),s("br"),t._v("\n两个重要的方法（函数）"),s("code",[t._v("init()")]),t._v(" 和 "),s("code",[t._v("handlebar()")]),t._v(" ；"),s("br"),t._v("\n关联上下文的重要 对象（Object）"),s("code",[t._v("ContextInfo")]),t._v("，它自带很多属性和方法（函数）。")]),t._v(" "),s("p",[t._v("更多的信息，请继续阅读以下内容，或参考附录和官方手册为准。")]),t._v(" "),s("h3",{attrs:{id:"品种相关"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#品种相关"}},[t._v("#")]),t._v(" =====品种相关=====")]),t._v(" "),s("h3",{attrs:{id:"_2-3-05-根据代码获取股票中文名称-contextinfo-get-stock-name"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-05-根据代码获取股票中文名称-contextinfo-get-stock-name"}},[t._v("#")]),t._v(" 2.3.05  根据代码获取股票中文名称  "),s("br"),t._v("ContextInfo.get_stock_name()")]),t._v(" "),s("p",[t._v("功能： 根据品种代码获取品种的中文名称 "),s("br"),t._v("\n语法： ContextInfo.get_stock_name('stockcode')"),s("br"),t._v("\n参数： stockcode——字符串型，代表一个股票代码，如'000001.SZ'，如果缺省，则默认为当前图表上的品种代码。一次只能传入一个字符串。如果传入的字符串没有对应的名称，则返回 空。"),s("br"),t._v("\n返回： 返回字符串；（GBK编码）"),s("br"),t._v("\n示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_stock_name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000001.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 返回字符串，“平安银行”    ")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h3",{attrs:{id:"_2-3-06-根据代码获取该股票的上市时间-get-open-date"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-06-根据代码获取该股票的上市时间-get-open-date"}},[t._v("#")]),t._v(" 2.3.06  根据代码获取该股票的上市时间 "),s("br"),t._v("get_open_date()")]),t._v(" "),s("p",[t._v("功能： 根据代码返回对应股票的上市时间")]),t._v(" "),s("p",[t._v("语法： get_open_date('stockcode')")]),t._v(" "),s("p",[t._v("参数： stockcode——股票代码，如'000001.SZ'，缺省值 ' ' 默认为当前图代码")]),t._v(" "),s("p",[t._v("返回： int 整数")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_open_date"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000001.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n返回值是一个 int 如：\n20050523\n即表示该品种是 2005年5月23日上市的\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("h3",{attrs:{id:"_2-3-07-判断股票是否停牌-contextinfo-is-suspended-stock"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-07-判断股票是否停牌-contextinfo-is-suspended-stock"}},[t._v("#")]),t._v(" 2.3.07  判断股票是否停牌  "),s("br"),t._v("ContextInfo.is_suspended_stock()")]),t._v(" "),s("p",[t._v("功能： 判断一支股票是否停牌"),s("br"),t._v("\n语法： ContextInfo.is_suspended_stock(stockcode.market)"),s("br"),t._v("\n参数： 字符串（string），指定品种代码；"),s("br"),t._v("\n返回： 返回一个 布尔值，True 表示 停牌， False 表示 未停牌；"),s("br"),t._v("\n示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"600004.SH 是否停牌： "')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("is_suspended_stock"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600004.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('""" 运行结果\n600004.SH 是否停牌：  False\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("h3",{attrs:{id:"_2-3-8-获取板块目录信息-get-sector-list"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-8-获取板块目录信息-get-sector-list"}},[t._v("#")]),t._v(" 2.3.8  获取板块目录信息 "),s("br"),t._v("get_sector_list()")]),t._v(" "),s("p",[t._v("功能： 获取板块目录信息")]),t._v(" "),s("p",[t._v("语法： get_sector_list(node)")]),t._v(" "),s("p",[t._v("参数：node——str，板块节点名。如果传入空字符串 '' ，即表示 顶层目录\n返回： info_list：[[s1,s2,...],[f1,f2,...]]s为板块名，f为目录节点名，例如[['我的自选'],['新建分类1']]")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\n'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示顶层目录 中的板块名称")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("get_sector_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"----------------------------------"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示 沪市板块 中的板块名称")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("get_sector_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'沪市板块'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("\"\"\"\n运行结果：\n[[], ['我的', '沪深板块', '沪市板块', '深市板块', '期货板块', '期权板块', '指数板块', '持仓板块', '全球市场', '扩展数据', 'WIND数据库', '过期合约']]\n----------------------------------\n[['沪深A股', '沪深B股', '沪深指数', '沪深基金', '沪深ETF', '沪深债券', '沪深CDR', '沪深转债', '沪深回购'], []]\n\"\"\"")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br")])]),s("p",[t._v("此方法中的板块目录，与 QMT 界面中的 “行情” --\x3e “板块” 中的标签文件夹名称相对应，如下图：")]),t._v(" "),s("p",[s("img",{attrs:{src:n(257),alt:"添加帐号"}})]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("如果想获取板块中所包含的具体品种代码，需要用以下方法：")]),t._v(" "),s("p",[t._v("ContextInfo.get_stock_list_in_sector('沪深转债')")])]),t._v(" "),s("h3",{attrs:{id:"_2-3-9-判定给定股票代码是否在指定的板块中-is-sector-stock"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-9-判定给定股票代码是否在指定的板块中-is-sector-stock"}},[t._v("#")]),t._v(" 2.3.9 判定给定股票代码是否在指定的板块中 "),s("br"),t._v("is_sector_stock()")]),t._v(" "),s("p",[t._v("功能： 判定给定股票代码是否在指定的板块中")]),t._v(" "),s("p",[t._v("语法： is_sector_stock(sectorname, market, stockcode)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("sectorname——string，板块名")]),t._v(" "),s("li",[t._v("market——string，市场")]),t._v(" "),s("li",[t._v("stockcode——string，股票代码")])]),t._v(" "),s("p",[t._v("返回： bool，返回值含义：True：在板块中  False：不在板块中")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("is_sector_stock"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'沪深300'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h3",{attrs:{id:"_2-3-10-判定给定股票是否属于某个类别-is-typed-stock"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-10-判定给定股票是否属于某个类别-is-typed-stock"}},[t._v("#")]),t._v(" 2.3.10 判定给定股票是否属于某个类别 "),s("br"),t._v("is_typed_stock()")]),t._v(" "),s("p",[t._v("功能： 判定给定股票是否属于某个类别")]),t._v(" "),s("p",[t._v("语法： is_typed_stock(stocktypenum, market, stockcode)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("stocktypenum——number，类别标号，如股票类别标号为100003，详细见 附录 http://docs.thinktrader.net/pages/b5fc7f/")]),t._v(" "),s("li",[t._v("market——string，市场")]),t._v(" "),s("li",[t._v("stockcode——string，股票代码")])]),t._v(" "),s("p",[t._v("返回： number，返回值含义：1：True    0：False")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("is_typed_stock"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100003")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h3",{attrs:{id:"_2-3-11-判定给定股票代码是否在指定的行业分类中-get-industry-name-of-stock"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-11-判定给定股票代码是否在指定的行业分类中-get-industry-name-of-stock"}},[t._v("#")]),t._v(" 2.3.11  判定给定股票代码是否在指定的行业分类中 "),s("br"),t._v("get_industry_name_of_stock()")]),t._v(" "),s("p",[t._v("语法： get_industry_name_of_stock(industryType, stockcode)")]),t._v(" "),s("p",[t._v("功能： 判定给定股票代码是否在指定的行业分类中")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("industryType——string，行业类别，有 'CSRC' 和 'SW' 两种")]),t._v(" "),s("li",[t._v("stockcode——string，形式如 'stockcode.market'，如 '600000.SH'")])]),t._v(" "),s("p",[t._v("返回： string：对应行业名，找不到则返回空 string")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("get_industry_name_of_stock"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SW'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h3",{attrs:{id:"_2-3-12-创建板块-create-sector"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-12-创建板块-create-sector"}},[t._v("#")]),t._v(" 2.3.12  创建板块 "),s("br"),t._v("create_sector()")]),t._v(" "),s("p",[t._v("功能： 创建板块")]),t._v(" "),s("p",[t._v("语法： create_sector(parent_node,sector_name,overwrite)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("parent_node——str，父节点，''为'我的'（默认目录）")]),t._v(" "),s("li",[t._v("sector_name——str，要创建的板块名")]),t._v(" "),s("li",[t._v("overwrite——bool，是否覆盖。如果目标节点已存在，为True时跳过，为False时在sector_name后增加数字编号，编号为从1开始自增的第一个不重复的值。")])]),t._v(" "),s("p",[t._v("返回： sector_name2：实际创建的板块名")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("sector"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("create_sector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'我的'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'新建板块'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("通常用户都是手动去创建一个“我的自选”，然后将自己所关心的品种，添加到这个板块文件夹中。用程序代码来操作板块在日常工作中几乎很少用到。")])]),t._v(" "),s("h3",{attrs:{id:"_2-3-13-创建板块目录节点-create-sector-folder"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-13-创建板块目录节点-create-sector-folder"}},[t._v("#")]),t._v(" 2.3.13 创建板块目录节点 "),s("br"),t._v("create_sector_folder()")]),t._v(" "),s("p",[t._v("功能： 创建板块目录节点")]),t._v(" "),s("p",[t._v("语法： create_sector_folder(parent_node,folder_name,overwrite)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("parent_node——str，父节点，''为'我的'（默认目录）")]),t._v(" "),s("li",[t._v("sector_name——str，要创建的节点名")]),t._v(" "),s("li",[t._v("overwrite——bool，是否覆盖。如果目标节点已存在，为True时跳过，为False时在folder_name后增加数字编号，编号为从1开始自增的第一个不重复的值。")])]),t._v(" "),s("p",[t._v("返回： sector_name2：实际创建的节点名")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("folder"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("create_sector_folder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'我的'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'新建分类'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"_2-3-14-设置板块成分股-reset-sector-stock-list"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-14-设置板块成分股-reset-sector-stock-list"}},[t._v("#")]),t._v(" 2.3.14  设置板块成分股 "),s("br"),t._v("reset_sector_stock_list()")]),t._v(" "),s("p",[t._v("功能： 设置板块成分股")]),t._v(" "),s("p",[t._v("语法： reset_sector_stock_list(sector,stock_list)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("sector——板块名")]),t._v(" "),s("li",[t._v("stock_list——list，品种代码列表，例如['000001.SZ','600000.SH']")])]),t._v(" "),s("p",[t._v("返回： bool值，操作成功为True，失败为False")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("reset_sector_stock_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'我的自选'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000001.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"_2-3-15-移除板块成分股-remove-stock-from-sector"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-15-移除板块成分股-remove-stock-from-sector"}},[t._v("#")]),t._v(" 2.3.15 移除板块成分股 "),s("br"),t._v("remove_stock_from_sector()")]),t._v(" "),s("p",[t._v("功能： 移除板块成分股")]),t._v(" "),s("p",[t._v("语法： remove_stock_from_sector(sector,stock_code)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("sector——板块名")]),t._v(" "),s("li",[t._v("stock_code——品种代码，例如'000001.SZ'")])]),t._v(" "),s("p",[t._v("返回： bool值。操作成功为True，失败为False")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("remove_stock_from_sector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'我的自选'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000001.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"_2-3-16-添加板块成分股-add-stock-to-sector"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-16-添加板块成分股-add-stock-to-sector"}},[t._v("#")]),t._v(" 2.3.16  添加板块成分股 "),s("br"),t._v("add_stock_to_sector()")]),t._v(" "),s("p",[t._v("功能： 添加板块成分股")]),t._v(" "),s("p",[t._v("语法： add_stock_to_sector(sector,stock_code)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("sector——板块名")]),t._v(" "),s("li",[t._v("stock_code——品种代码，例如'000001.SZ'")])]),t._v(" "),s("p",[t._v("返回： bool值。操作成功为True，失败为False")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("add_stock_to_sector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'我的自选'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000001.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"图表k线相关"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#图表k线相关"}},[t._v("#")]),t._v(" =====图表K线相关=====")]),t._v(" "),s("p",[t._v("前面介绍过，在 迅投QMT 中， 策略程序必须是附着在一个 K 线图表上，才能运行的。如果想要知道当前的程序附着在哪个品种的K线图上，就可以打印输出对应的属性（变量）值就可以了。")]),t._v(" "),s("h3",{attrs:{id:"_2-3-17-获取当前主图市场-contextinfo-market"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-17-获取当前主图市场-contextinfo-market"}},[t._v("#")]),t._v(" 2.3.17  获取当前主图市场 "),s("br"),t._v("ContextInfo.market")]),t._v(" "),s("p",[t._v('这是一个属性（变量），获取当前主图市场，只读。其值为一个字符串（string），对应主图市场的代码，"SH" 表示 上海沪市，"SZ" 表示 深市。')]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"当前主图的市场代码是："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("market"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#当前主图的市场代码是： SH")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h3",{attrs:{id:"_2-3-18-获取当前图表的品种代码-contextinfo-stockcode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-18-获取当前图表的品种代码-contextinfo-stockcode"}},[t._v("#")]),t._v(" 2.3.18  获取当前图表的品种代码 "),s("br"),t._v("ContextInfo.stockcode")]),t._v(" "),s("p",[t._v("这是一个属性（变量）， 获取当前图代码，只读。其值为一个字符串（string），对应主图品种的代码。")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"当前程序附着的K线图品种是："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stockcode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 当前程序附着的K线图品种是： 000300")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h3",{attrs:{id:"_2-3-19-获取当前图表的复权方式-contextinfo-dividend-type"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-19-获取当前图表的复权方式-contextinfo-dividend-type"}},[t._v("#")]),t._v(" 2.3.19  获取当前图表的复权方式 "),s("br"),t._v("ContextInfo.dividend_type")]),t._v(" "),s("p",[t._v("这是一个属性（变量）， 获取当前主图复权处理方式，只读。其值为一个字符串（string）。")]),t._v(" "),s("p",[t._v("'none'：不复权"),s("br"),t._v("\n'front'：向前复权"),s("br"),t._v("\n'back'：向后复权"),s("br"),t._v("\n'front_ratio'：等比向前复权"),s("br"),t._v("\n'back_ratio'：等比向后复权"),s("br")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"当前图表的复权方法是："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dividend_type"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 当前图表的复权方法是： front_ratio")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h3",{attrs:{id:"_2-3-20-获取当前周期-contextinfo-period"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-20-获取当前周期-contextinfo-period"}},[t._v("#")]),t._v(" 2.3.20  获取当前周期 "),s("br"),t._v("ContextInfo.period")]),t._v(" "),s("p",[t._v("这是一个属性（变量）， 获取当前图表的时间框架周期，只读。其值为一个字符串（string）。\n'1d'\t日线、'1m'\t1分钟线、'3m'\t3分钟线、'5m'\t5分钟线、'15m'\t15分钟线、'30m'\t30分钟线、'1h'\t小时线、'1w'\t周线、'1mon'\t月线、'1q'\t季线、'1hy'\t半年线、'1y'\t年线。")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"当前图表的时间周期是："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("period"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 当前图表的时间周期是： 1d")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h3",{attrs:{id:"_2-3-21-获取当前图表上k线的数量-contextinfo-time-tick-size"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-21-获取当前图表上k线的数量-contextinfo-time-tick-size"}},[t._v("#")]),t._v(" 2.3.21  获取当前图表上K线的数量 "),s("br"),t._v("ContextInfo.time_tick_size")]),t._v(" "),s("p",[t._v("这是一个属性（变量）， 获取当前图表上 K 线的总数量，只读。其值为一个整数（int）。")]),t._v(" "),s("p",[t._v("*注：只有 handlebar()方法启动后才会去计算图表上的K线。init() 只是初始化，还没有开始读取图表。")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"当前图表上包含的K线数量为："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("time_tick_size"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 当前图表上包含的K线数量为：4858")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("h3",{attrs:{id:"_2-3-22-获取当前运行到-k-线索引号contextinfo-barpos"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-22-获取当前运行到-k-线索引号contextinfo-barpos"}},[t._v("#")]),t._v(" 2.3.22  获取当前运行到 K 线索引号"),s("br"),t._v("ContextInfo.barpos")]),t._v(" "),s("p",[t._v("这是一个属性（变量）， 获取当前运行到 K 线索引号，只读。其值为一个整数（int），\n只读，索引号从0开始。")]),t._v(" "),s("p",[t._v("*注： K线的序号是从左向右排序的，最早的K线是图表最左边的第 0 根，最新的K线是图表最右边的，索引号最大的那一根。")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("barpos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h3",{attrs:{id:"_2-3-23-判定是否为最后一根-k-线contextinfo-is-last-bar"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-23-判定是否为最后一根-k-线contextinfo-is-last-bar"}},[t._v("#")]),t._v(" 2.3.23  判定是否为最后一根 K 线"),s("br"),t._v("ContextInfo.is_last_bar()")]),t._v(" "),s("p",[t._v("功能： 判定是否为最后一根 K 线")]),t._v(" "),s("p",[t._v("语法： ContextInfo.is_last_bar()")]),t._v(" "),s("p",[t._v("参数： 无")]),t._v(" "),s("p",[t._v("返回： bool，返回值含义：True：是  False：否")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("is_last_bar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h3",{attrs:{id:"_2-3-24-判定是否为新的-k-线contextinfo-is-new-bar"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-24-判定是否为新的-k-线contextinfo-is-new-bar"}},[t._v("#")]),t._v(" 2.3.24  判定是否为新的 K 线"),s("br"),t._v("ContextInfo.is_new_bar()")]),t._v(" "),s("p",[t._v("功能： 某根 K 线的第一个 tick 数据到来时，判定该 K 线为新的 K 线。")]),t._v(" "),s("p",[t._v("语法： ContextInfo.is_new_bar()")]),t._v(" "),s("p",[t._v("参数： 无")]),t._v(" "),s("p",[t._v("返回： bool，返回值含义：True：是  False：否")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("is_new_bar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h3",{attrs:{id:"回测相关"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#回测相关"}},[t._v("#")]),t._v(" =====回测相关=====")]),t._v(" "),s("p",[t._v("以下属性和方法与 策略编辑器 右侧的面板中的设置参数相对应，可相互参考。")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("一、只支持回测模式；")]),t._v(" "),s("p",[t._v("二、仅在 init() 中设置生效；")]),t._v(" "),s("p",[t._v("三、如果在 init() 中未设置，则以 策略编辑器 界面右侧设定的回测时间范围为准；")]),t._v(" "),s("p",[t._v("四、如果同时在 策略编辑器 右侧参数面板中也设置了回测时间范围，则以 init() 中的设置为准；")]),t._v(" "),s("p",[t._v("五、如果设置的结束时间 小于等于 开始时间 ，则回测时计算范围为空。")])]),t._v(" "),s("p",[s("img",{attrs:{src:n(297),alt:"回测参数"}})]),t._v(" "),s("h3",{attrs:{id:"_2-3-25-设定回测起止时间contextinfo-start-contextinfo-end"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-25-设定回测起止时间contextinfo-start-contextinfo-end"}},[t._v("#")]),t._v(" 2.3.25  设定回测起止时间"),s("br"),t._v("ContextInfo.start / ContextInfo.end")]),t._v(" "),s("p",[t._v('功能： 设定回测起止时间，标准格式如"2009-07-14 01:13:30"。这2个属性值可以修改。')]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("start "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2012-06-06 10:00:00'")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("end "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2013-08-08 14:30:00'")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h3",{attrs:{id:"_2-3-26-获取回测基准品种contextinfo-benchmark"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-26-获取回测基准品种contextinfo-benchmark"}},[t._v("#")]),t._v(" 2.3.26  获取回测基准品种"),s("br"),t._v("ContextInfo.benchmark")]),t._v(" "),s("p",[t._v("这是一个属性（变量）， 获取回测基准，只读。其值为一个字符串（string）。")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("benchmark"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h3",{attrs:{id:"_2-3-27-设定回测初始资金contextinfo-capital"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-27-设定回测初始资金contextinfo-capital"}},[t._v("#")]),t._v(" 2.3.27  设定回测初始资金"),s("br"),t._v("ContextInfo.capital")]),t._v(" "),s("p",[t._v("这是一个属性（变量）， 用于设定回测初始资金，默认为 1000000。")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("capital "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000000")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("capital"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h3",{attrs:{id:"_2-3-28-获取策略回测的净值contextinfo-get-net-value"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-28-获取策略回测的净值contextinfo-get-net-value"}},[t._v("#")]),t._v(" 2.3.28 获取策略回测的净值"),s("br"),t._v("ContextInfo.get_net_value()")]),t._v(" "),s("p",[t._v("功能：获取策略回测的净值\n语法：ContextInfo.get_net_value()\n参数：index 任意整数即可。\n返回：number")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置手续费 ")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_net_value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("h3",{attrs:{id:"_2-3-29-设定回测滑点contextinfo-set-slippage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-29-设定回测滑点contextinfo-set-slippage"}},[t._v("#")]),t._v(" 2.3.29  设定回测滑点"),s("br"),t._v("ContextInfo.set_slippage()")]),t._v(" "),s("p",[t._v("功能： 设定策略回测滑点，默认值 0.00")]),t._v(" "),s("p",[t._v("语法： ContextInfo.set_slippage(slippageType, slippage)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("slippageType——滑点类型，可选值："),s("br"),t._v("0 —— tick跳数设置滑点"),s("br"),t._v(" 1 —— 按照固定值（价格）设置滑点 "),s("br"),t._v("2 ——价格比例设置滑点")]),t._v(" "),s("li",[t._v("slippage：滑点值")])]),t._v(" "),s("p",[t._v("返回： 无")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 按照固定值（价格）设置滑点值为 0.01")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_slippage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.01")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h3",{attrs:{id:"_2-3-30-获取策略设定的滑点contextinfo-get-slippage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-30-获取策略设定的滑点contextinfo-get-slippage"}},[t._v("#")]),t._v(" 2.3.30 获取策略设定的滑点"),s("br"),t._v("ContextInfo.get_slippage()")]),t._v(" "),s("p",[t._v("功能：获取策略设定的滑点，对应设置 set 滑点的方法。用来检验 get 设定是否生效。\n语法： ContextInfo.get_slippage()\n参数： 无\n返回： 一个字典 dict")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置滑点值 ")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_slippage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.003")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"设置的滑点为：\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_slippage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果：\n设置的滑点为： \n{\'slippage_type\': 0, \'slippage\': 0.003}\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("h3",{attrs:{id:"_2-3-31-设定回测手续费率contextinfo-set-commission"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-31-设定回测手续费率contextinfo-set-commission"}},[t._v("#")]),t._v(" 2.3.31  设定回测手续费率"),s("br"),t._v("ContextInfo.set_commission()")]),t._v(" "),s("p",[t._v("功能： 设定策略回测时的各种手续费率，默认类型值 0 按比例，默认值 0.000")]),t._v(" "),s("p",[t._v("语法： ContextInfo.set_commission(commissionType, commissionList)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("commissionType——整数型，可选值：0 表示 按比例  1表示 按每手（股）")])]),t._v(" "),s("li",[s("p",[t._v("commissionList——列表型。包含如下六个值")])])]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("commissionList "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("open_tax"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("               "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 买入印花税")]),t._v("\n                  close_tax"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("              "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 卖出印花税")]),t._v("\n                  open_commission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 开仓手续费")]),t._v("\n                  close_commission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 平仓（平昨）手续费")]),t._v("\n                  close_tdaycommission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 平今手续费")]),t._v("\n                  min_commission          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 最少手续费")]),t._v("\n                 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("如果只填写一个参数则代表输入的参数值同时 赋值给 "),s("br"),t._v("open_commission = close_commission = close_today_commission "),s("br")]),t._v(" "),s("p",[t._v("而其他的值均为 0，这时 commissionType 亦为 0")])]),t._v(" "),s("p",[t._v("返回： 无")]),t._v(" "),s("p",[t._v("示例1：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 万三")]),t._v("\n    commission "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0003")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设定开仓手续费和平仓手续费以及平今手续费均为 0.0003，其余为 0   ")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_commission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("commission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[t._v("示例2：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    commissionList "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0001")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0003")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0003")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设定买入印花税为 0，卖出印花税为 0.0001，开仓手续费和平仓（平昨）手续费均为万三，平今手续费为 0，最小手续费为 5")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_commission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" commissionList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h3",{attrs:{id:"_2-3-32-获取策略设定的各种手续费率contextinfo-get-commission"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-32-获取策略设定的各种手续费率contextinfo-get-commission"}},[t._v("#")]),t._v(" 2.3.32 获取策略设定的各种手续费率"),s("br"),t._v("ContextInfo.get_commission()")]),t._v(" "),s("p",[t._v("功能： 获取策略设定的各种手续费率。对应设置 set 手续费的方法。用来检验 get 设定是否生效。")]),t._v(" "),s("p",[t._v("参数： 无")]),t._v(" "),s("p",[t._v("返回：一个字典 dict，其中包含的信息请见示例中的注释。")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置手续费 ")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_commission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0003")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"设置的手续费为：\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_commission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("\"\"\"\n设置的手续费为： \n{'commission_type': 0,            # 手续费类型\n 'open_tax': 0.0,                 # 开仓印花税\n 'close_tax': 0.0,                # 平仓印花税\n 'open_commission': 0.0003,       # 开仓手续费\n 'close_commission': 0.0003,      # 平仓手续费\n 'close_tdaycommission': 0.0003,  # 平今手续费 \n 'min_commission': 0.0,           # 最小手续费\n 'margin_ratio': 0.05             # 保证金比例\n}\n\"\"\"")]),t._v("\n    \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br")])]),s("h3",{attrs:{id:"_2-3-33-表示当前是否开启回测模式contextinfo-do-back-test"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-33-表示当前是否开启回测模式contextinfo-do-back-test"}},[t._v("#")]),t._v(" 2.3.33  表示当前是否开启回测模式"),s("br"),t._v("ContextInfo.do_back_test")]),t._v(" "),s("p",[t._v("这是一个属性（变量）， 用于判断是否开启回测模式，只读，默认值为 False。此属性常用于在一个策略中同时包含回测和实时运行的代码时，用于区分执行哪部分的代码。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("强烈建议，回测模型程序和实时运行程序，代码分开编写。")])]),t._v(" "),s("h3",{attrs:{id:"_2-3-34-获取某个记录类型对应的某个时刻的记录情况get-result-records"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-34-获取某个记录类型对应的某个时刻的记录情况get-result-records"}},[t._v("#")]),t._v(" 2.3.34  获取某个记录类型对应的某个时刻的记录情况"),s("br"),t._v("get_result_records()")]),t._v(" "),s("p",[t._v("功能： 官网的文档语文真心不及格。此方法的用法是根据指定的时刻（参数 index），记录类型（参数 Recordtype），获取对应的历史回测记录。如：“电脑，告诉我运行到第 84根K线的时候，持仓的品种有哪些？交易明细列出来，我看看。”")]),t._v(" "),s("p",[t._v("语法： get_result_records (recordtype, index, ContextInfo)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("Recordtype——字符串，记录类型："),s("br")])]),t._v(" "),s("p",[t._v("'buys'：买入持仓"),s("br"),t._v("\n'sells'：卖出持仓"),s("br"),t._v("\n'holdings'：当前持仓"),s("br"),t._v("\n'historysums'：历史汇总"),s("br"),t._v("\n'dealdetails'：交易明细"),s("br")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("index——number，当前主图对应 K 线索引，即第几根K线。从最左边开始，索引编号是： 0")])]),t._v(" "),s("li",[s("p",[t._v("ContextInfo——这里必须是ContextInfo")])])]),t._v(" "),s("p",[t._v("返回值： list。其中可能包含 0 个或多个 Python 对象，对象的属性值及表达意义如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("属性名称")]),t._v(" "),s("th",[t._v("数据类型")]),t._v(" "),s("th",[t._v("表达意义")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("market")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("市场代码")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("stockcode")]),t._v(" "),s("td",[t._v("string")]),t._v(" "),s("td",[t._v("合约品种代码")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("open_close")]),t._v(" "),s("td",[t._v("number")]),t._v(" "),s("td",[t._v("期货：1 开 0 平"),s("br"),t._v("股票： 1 买 0 卖")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("direction")]),t._v(" "),s("td",[t._v("number")]),t._v(" "),s("td",[t._v("方向：1 多 -1 空"),s("br"),t._v("回购：1 逆回购 -1 正回购")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("trade_price")]),t._v(" "),s("td",[t._v("number")]),t._v(" "),s("td",[t._v("持仓成本")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("current_price")]),t._v(" "),s("td",[t._v("number")]),t._v(" "),s("td",[t._v("最新价，持仓中用这个价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("profit")]),t._v(" "),s("td",[t._v("number")]),t._v(" "),s("td",[t._v("持仓盈亏")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("position")]),t._v(" "),s("td",[t._v("number")]),t._v(" "),s("td",[t._v("仓位数量")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("current_weight")]),t._v(" "),s("td",[t._v("number")]),t._v(" "),s("td",[t._v("仓位权重")]),t._v(" "),s("td",[t._v("[暂无有效数据]")])]),t._v(" "),s("tr",[s("td",[t._v("benefit_weight")]),t._v(" "),s("td",[t._v("number")]),t._v(" "),s("td",[t._v("盈利占比权重")]),t._v(" "),s("td",[t._v("记录类型是 'historysums' 时有效")])]),t._v(" "),s("tr",[s("td",[t._v("holding_periods")]),t._v(" "),s("td",[t._v("number")]),t._v(" "),s("td",[t._v("累计持仓天数")]),t._v(" "),s("td",[t._v("记录类型是 'historysums' 时有效")])]),t._v(" "),s("tr",[s("td",[t._v("buy_sell_times")]),t._v(" "),s("td",[t._v("number")]),t._v(" "),s("td",[t._v("交易次数")]),t._v(" "),s("td",[t._v("记录类型是 'historysums' 时有效")])]),t._v(" "),s("tr",[s("td",[t._v("commission")]),t._v(" "),s("td",[t._v("number")]),t._v(" "),s("td",[t._v("手续费")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("trade_balance")]),t._v(" "),s("td",[t._v("number")]),t._v(" "),s("td",[t._v("成交额或市值")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("operate_type")]),t._v(" "),s("td",[t._v("number")]),t._v(" "),s("td",[t._v("操作类型")]),t._v(" "),s("td",[t._v("记录类型是 'dealdetails' 时有效")])]),t._v(" "),s("tr",[s("td",[t._v("trade_date")]),t._v(" "),s("td",[t._v("number")]),t._v(" "),s("td",[t._v("交易日期，毫秒标记")]),t._v(" "),s("td",[t._v("记录类型是 'dealdetails' 时有效")])])])]),t._v(" "),s("p",[t._v("示例：（这个例子写得真是和没写一样）")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    index "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("barpos\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("get_result_records"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'buys'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("一、此方法只支持回测模式；")]),t._v(" "),s("p",[t._v("二、获取的是回测面板中的记录结果；")])]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_3-获取数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-获取数据"}},[t._v("#")]),t._v(" 3） 获取数据")]),t._v(" "),s("p",[t._v("通过前面的学习，已经认识了 迅投QMT 中基本的方法（函数）和 重要的对象 "),s("code",[t._v("ContextInfo")]),t._v(" 了。接下来，就要按策略的要求，开始写自动交易的程序了。")]),t._v(" "),s("p",[t._v("其实开发自动交易程序，和写其它程序其实都一样，就三步："),s("br"),t._v("\n一、获取数据；"),s("br"),t._v("\n二、计算数据；"),s("br"),t._v("\n三、展示数据；"),s("br"),t._v("\n没别的了。")]),t._v(" "),s("p",[t._v("一个自动交易的程序更具体的一些基本动作，大致如下："),s("br"),t._v("\n（1）首先要检查一下帐户、登录的状态是否正常，看看帐户里的资金是否充足，帐户里有没有持仓......等等；"),s("br"),t._v("\n股票帐户里可能会有三种订单："),s("br"),t._v(" "),s("b",[t._v("持有单（Position）")]),t._v(" —— 已买入还未卖出的单子；"),s("br"),t._v(" "),s("b",[t._v("挂单/委托单（Order）")]),t._v(" —— 已委托交易，但还没成交的单子 ；"),s("br"),t._v(" "),s("b",[t._v("成交单（Trade/deal）")]),t._v(" —— 以及今天已成交的单子；"),s("br"),t._v("\n因此，获取这 3 个列表"),s("b",[s("u",[t._v("（委托单、成交单、持有单）")])]),t._v("的数据，是很重要、必不可少的一个步骤；"),s("br")]),t._v(" "),s("p",[t._v("（2）当然要看看时间、和市场对对时间；尤其现在都要玩高频交易的，时间更显得尤为重要；"),s("br")]),t._v(" "),s("p",[t._v("（3）获取市场上的报价行情；股票市场通常是 快照行情，也就是 3秒一跳的报价；更快的还有 逐笔（成交）行情 和 逐笔委托；当然有时还要参考历史行情，比如、分钟级、小时级、或日线级别的历史数据；"),s("br")]),t._v(" "),s("p",[t._v("（4）根据获取到的行情数据、经过计算，比如比较最高价、最低价、均价或者交易量等，这就是指标了。设置指标达到了某个条件，也就是什么时候买入，什么时候卖出，满足了，就下单交易；无非 两种可能，买入一个品种 或者 把已持有一个品种 卖出。注意这时下的单，是一个委托单，应该会有一个委托单号，如果没有，那就是出错了，要有处理出错的后续操作；关于交易相关的方法（函数）会在下一章讨论；"),s("br")]),t._v(" "),s("p",[t._v("（5）如果委托成功了，有了委托单号。接下来就可以决定是 等待成交 或 是撤消这个委托；如果委托单已经成交了，那当然就无法撤消了，那么会就生成对应的 成交单号，意即 成交单 里会出现对应的单子；"),s("br")]),t._v(" "),s("p",[t._v("（6）既然成交了，那肯定 持有单 会有一些变化 ，要么添加了一条买入的记录，或者是一条卖出的记录。检查下，然后再回到第（1）步；")]),t._v(" "),s("p",[t._v("有买入、有卖出，就形成了一个完整的交易。这个过程交给电脑程序自动完成，这就是自动交易，也没什么神秘吧？")]),t._v(" "),s("p",[t._v("必须要吐槽两句：迅投的官方文档，就是把一堆方法（函数），堆在一起。意思就是：你自己看着办。潜台词儿就是：我就给这么一堆，你自己用，不会用？用不好？那是你没水平，怨不得我。你要真一看就懂，一用就会，那岂不是显得我不牛逼了？")]),t._v(" "),s("p",[t._v("我真是......服了，厉害厉害，牛逼牛逼，66666")]),t._v(" "),s("p",[t._v("吐槽结束，还得说正事儿吧。下面的内容，是来源于个人心得，期望从那一堆方法（函数）当中，先选出那些主要用于A股交易的，常用的、简单的、容易理解的，让大家先容易上手嘛。上手之后，再根据自己的需要、深入研究、灵活运用，方成大器嘛。如果你必须要对自己下手狠一点、非要硬核一点，还请参考官方文档。顺祝一切都好。")]),t._v(" "),s("p",[t._v("本章所讨论的，主要是一些 获取数据 的方法（函数），有关更多 指标 的数据以及参数的动用，可以参考 TA_lib 这个库中的信息。")]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("接下来按个人经验，把官方文档中的那一堆方法（函数）简单分了几个类别，目的就是希望让新手思路更清晰，更容易上手。"),s("br")]),t._v(" "),s("p",[t._v("最常用的、行情相关、品种相关、期货相关、几乎不用。")]),t._v(" "),s("h3",{attrs:{id:"最常用的方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#最常用的方法"}},[t._v("#")]),t._v(" =====最常用的方法=====")]),t._v(" "),s("h3",{attrs:{id:"_3-01-获取帐户交易数据get-trade-detail-data"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-01-获取帐户交易数据get-trade-detail-data"}},[t._v("#")]),t._v(" 3.01  获取帐户交易数据"),s("br"),t._v("get_trade_detail_data()")]),t._v(" "),s("p",[t._v("第一个必须要用的、当然也是最常用的，就是检查帐户的方法（函数）。但官方文档却把这个放在“交易函数”中，哎......  因为它是每一个策略程序中肯定要用上的方法（函数），所以我们先来学习它的语法：")]),t._v(" "),s("p",[t._v("功能： 这个方法（函数）十分强大，可以用来获取："),s("u",[t._v("帐户、持仓单、委托单、成交单")]),t._v(" 的信息。是必须、也是最常用的方法（函数）之一。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("这是重点！这个方法（函数）没学好，后面就不用看了！")])]),t._v(" "),s("p",[t._v("语法：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("get_trade_detail_data(\n                      accountID,        # 帐号\n                      strAccountType,   # 帐号类型，如 STOCK表示股票帐号\n                      strDatatype,      # 数据类型，如 POSITION 表示持仓单，ORDER 表示委托单\n                      strategyName      # 策略名称\n                     ) \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[t._v("参数："),s("br")]),t._v(" "),s("ol",[s("li",[t._v("accountID —— 字符串型（String），表达 资金账号；"),s("br")]),t._v(" "),s("li",[t._v("strAccountType —— 字符串型（String），表达 账号类型。"),s("br")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数值")]),t._v(" "),s("th",[t._v("表达意义")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("'FUTURE'")]),t._v(" "),s("td",[t._v("期货")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("'STOCK'")]),t._v(" "),s("td",[t._v("股票")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("'CREDIT'")]),t._v(" "),s("td",[t._v("信用")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("'HUGANGTONG'")]),t._v(" "),s("td",[t._v("沪港通")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("'SHENGANGTONG'")]),t._v(" "),s("td",[t._v("深港通")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("'STOCK_OPTION'")]),t._v(" "),s("td",[t._v("期权")]),t._v(" "),s("td")])])]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("strDatatype —— 字符串型（String），")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数值")]),t._v(" "),s("th",[t._v("表达意义")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("'POSITION'")]),t._v(" "),s("td",[t._v("持仓")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("'ORDER'")]),t._v(" "),s("td",[t._v("委托")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("'DEAL'")]),t._v(" "),s("td",[t._v("成交")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("'ACCOUNT'")]),t._v(" "),s("td",[t._v("账号")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("'TASK'")]),t._v(" "),s("td",[t._v("任务")]),t._v(" "),s("td")])])]),t._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[t._v("strategyName —— 字符串（String）策略名，对应 passorder 下单函数中的参数 strategyName 的值，只对   委托 'ORDER' 和 成交 'DEAL' 有效。")])]),t._v(" "),s("p",[t._v("返回：列表（Llist），在列表（List） 中保存的是一个对象，通过 "),s("code",[t._v("dir()")]),t._v(" 可返回对象的属性列表。有五种交易相关信息：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数值")]),t._v(" "),s("th",[t._v("表达意义")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("POSITION")]),t._v(" "),s("td",[t._v("持仓")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("ORDER")]),t._v(" "),s("td",[t._v("委托")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("DEAL")]),t._v(" "),s("td",[t._v("成交")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("ACCOUNT")]),t._v(" "),s("td",[t._v("账号")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("TASK")]),t._v(" "),s("td",[t._v("任务")]),t._v(" "),s("td")])])]),t._v(" "),s("p",[t._v("我们来看几个例子，就更直观了。")]),t._v(" "),s("p",[t._v("先查询一个股票帐户的信息：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取股票 stock 帐户信息。注意提前登录该帐户，否则无结果返回")]),t._v("\n\taccount_list "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_trade_detail_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2000515'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stock'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'account'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"===========Account 帐户对象==============================="')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"帐户 2000515 的相关信息 ："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" acc "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" account_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 遍历这个 列表（List），取出其中的 对象（Object）打印输出属性值")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"帐号ID "')]),t._v("        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strAccountID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"帐号类型 "')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nBrokerType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"保证金比率 "')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dMaxMarginRate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"冻结保证金 "')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dFrozenMargin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"冻结金额 "')]),t._v("        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dFrozenCash"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"冻结手续费 "')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dFrozenCommission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"风险度 "')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dRisk"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"单位净值 "')]),t._v("        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dNav"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"期初权益 "')]),t._v("        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dPreBalance"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"总资产 "')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dBalance"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"可用金额 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dAvailable"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"手续费 "')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dCommission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"持仓盈亏 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dPositionProfit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"平仓盈亏 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dCloseProfit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"出入金净值 "')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dCashIn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"当前使用的保证金 "')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dCurrMargin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"初始权益 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dInitBalance"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"帐户状态 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strStatus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"期初平仓盈亏 "')]),t._v("     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dInitCloseMoney"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"总市值 "')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dInstrumentValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"入金 "')]),t._v("            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dDeposit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"出金 "')]),t._v("            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dWithdraw"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"上次信用额度 "')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dPreCredit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"上次质押 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dPreMortgage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"质押 "')]),t._v("            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dMortgage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"信用额度 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dCredit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"证券初始资金 "')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dAssetBalance"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"起始日期 "')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strOpenDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"可取金额 "')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dFetchBalance"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"交易日 "')]),t._v("            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strTradingDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"股票总市值 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dStockValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"债券总市值 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dLoanValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"基金总市值 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dFundValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"回购总市值 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dRepurchaseValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"多单总市值 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dLongValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"空单总市值 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dShortValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"净持仓总市值 "')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dNetValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"总负债 "')]),t._v("            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dTotalDebit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"可信资产 "')]),t._v("           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dEntrustAsset"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"总市值（人民币） "')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dInstrumentValueRMB"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"申购费 "')]),t._v("            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dSubscribeFee"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"库存市值 "')]),t._v("           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dGoldValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"现货冻结 "')]),t._v("           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dGoldFrozen"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"占用保证金 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dMargin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"币种 "')]),t._v("              "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strMoneyType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"购买力 "')]),t._v("            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dPurchasingPower"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"原始保证金 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dRawMargin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"买入待交收金额（元） "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dBuyWaitMoney"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"卖出待交收金额（元） "')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dSellWaitMoney"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"本期间应计利息 "')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dReceiveInterestTotal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"权利金收支 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dRoyalty"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"冻结权利金 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dFrozenRoyalty"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"实时占用保证金 "')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dRealUsedMargin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"实时风险度 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" acc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dRealRiskDegree"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\t\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-----------------------------------------------------"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -------------------------------------------------------------------------------")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('""" 运行结果\nstart trading mode\n===========Account 帐户对象===============================\n帐户 2000515 的相关信息 ：\n帐号ID  2000515\n帐号类型  2   （1-期货账号,2-股票账号,3-信用账号,5-期货期权账号,6-股票期权账）\n保证金比率  0.0\n冻结保证金  4195596.793568001\n冻结金额  708883.2000000001\n冻结手续费  0.0\n风险度  0.0\n单位净值  0.0\n期初权益  4195596.793568001\n总资产  10093132.85904\n可用金额  4195596.793568001\n手续费  0.0\n持仓盈亏  23470.272214303957\n平仓盈亏  0.0\n出入金净值  0.0\n当前使用的保证金  0.0\n初始权益  0.0\n帐户状态  登录成功\n期初平仓盈亏  2374.9999999999927\n总市值  5129332.0\n入金  0.0\n出金  0.0\n上次信用额度  0.0\n上次质押  0.0\n质押  0.0\n信用额度  0.0\n证券初始资金  10093132.85904\n起始日期  \n可取金额  4904628.8590400005\n交易日  20231123\n股票总市值  5129332.0\n债券总市值  0.0\n基金总市值  0.0\n回购总市值  0.0\n多单总市值  0.0\n空单总市值  0.0\n净持仓总市值  0.0\n总负债  0.0\n可信资产  0.0\n总市值（人民币）  0.0\n申购费  0.0\n库存市值  0.0\n现货冻结  0.0\n占用保证金  0.0\n币种  \n购买力  0.0\n原始保证金  0.0\n买入待交收金额（元）  0.0\n卖出待交收金额（元）  0.0\n本期间应计利息  0.0\n权利金收支  0.0\n冻结权利金  0.0\n实时占用保证金  0.0\n实时风险度  0.0\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br"),s("span",{staticClass:"line-number"},[t._v("58")]),s("br"),s("span",{staticClass:"line-number"},[t._v("59")]),s("br"),s("span",{staticClass:"line-number"},[t._v("60")]),s("br"),s("span",{staticClass:"line-number"},[t._v("61")]),s("br"),s("span",{staticClass:"line-number"},[t._v("62")]),s("br"),s("span",{staticClass:"line-number"},[t._v("63")]),s("br"),s("span",{staticClass:"line-number"},[t._v("64")]),s("br"),s("span",{staticClass:"line-number"},[t._v("65")]),s("br"),s("span",{staticClass:"line-number"},[t._v("66")]),s("br"),s("span",{staticClass:"line-number"},[t._v("67")]),s("br"),s("span",{staticClass:"line-number"},[t._v("68")]),s("br"),s("span",{staticClass:"line-number"},[t._v("69")]),s("br"),s("span",{staticClass:"line-number"},[t._v("70")]),s("br"),s("span",{staticClass:"line-number"},[t._v("71")]),s("br"),s("span",{staticClass:"line-number"},[t._v("72")]),s("br"),s("span",{staticClass:"line-number"},[t._v("73")]),s("br"),s("span",{staticClass:"line-number"},[t._v("74")]),s("br"),s("span",{staticClass:"line-number"},[t._v("75")]),s("br"),s("span",{staticClass:"line-number"},[t._v("76")]),s("br"),s("span",{staticClass:"line-number"},[t._v("77")]),s("br"),s("span",{staticClass:"line-number"},[t._v("78")]),s("br"),s("span",{staticClass:"line-number"},[t._v("79")]),s("br"),s("span",{staticClass:"line-number"},[t._v("80")]),s("br"),s("span",{staticClass:"line-number"},[t._v("81")]),s("br"),s("span",{staticClass:"line-number"},[t._v("82")]),s("br"),s("span",{staticClass:"line-number"},[t._v("83")]),s("br"),s("span",{staticClass:"line-number"},[t._v("84")]),s("br"),s("span",{staticClass:"line-number"},[t._v("85")]),s("br"),s("span",{staticClass:"line-number"},[t._v("86")]),s("br"),s("span",{staticClass:"line-number"},[t._v("87")]),s("br"),s("span",{staticClass:"line-number"},[t._v("88")]),s("br"),s("span",{staticClass:"line-number"},[t._v("89")]),s("br"),s("span",{staticClass:"line-number"},[t._v("90")]),s("br"),s("span",{staticClass:"line-number"},[t._v("91")]),s("br"),s("span",{staticClass:"line-number"},[t._v("92")]),s("br"),s("span",{staticClass:"line-number"},[t._v("93")]),s("br"),s("span",{staticClass:"line-number"},[t._v("94")]),s("br"),s("span",{staticClass:"line-number"},[t._v("95")]),s("br"),s("span",{staticClass:"line-number"},[t._v("96")]),s("br"),s("span",{staticClass:"line-number"},[t._v("97")]),s("br"),s("span",{staticClass:"line-number"},[t._v("98")]),s("br"),s("span",{staticClass:"line-number"},[t._v("99")]),s("br"),s("span",{staticClass:"line-number"},[t._v("100")]),s("br"),s("span",{staticClass:"line-number"},[t._v("101")]),s("br"),s("span",{staticClass:"line-number"},[t._v("102")]),s("br"),s("span",{staticClass:"line-number"},[t._v("103")]),s("br"),s("span",{staticClass:"line-number"},[t._v("104")]),s("br"),s("span",{staticClass:"line-number"},[t._v("105")]),s("br"),s("span",{staticClass:"line-number"},[t._v("106")]),s("br"),s("span",{staticClass:"line-number"},[t._v("107")]),s("br"),s("span",{staticClass:"line-number"},[t._v("108")]),s("br"),s("span",{staticClass:"line-number"},[t._v("109")]),s("br"),s("span",{staticClass:"line-number"},[t._v("110")]),s("br"),s("span",{staticClass:"line-number"},[t._v("111")]),s("br"),s("span",{staticClass:"line-number"},[t._v("112")]),s("br"),s("span",{staticClass:"line-number"},[t._v("113")]),s("br"),s("span",{staticClass:"line-number"},[t._v("114")]),s("br"),s("span",{staticClass:"line-number"},[t._v("115")]),s("br"),s("span",{staticClass:"line-number"},[t._v("116")]),s("br"),s("span",{staticClass:"line-number"},[t._v("117")]),s("br"),s("span",{staticClass:"line-number"},[t._v("118")]),s("br"),s("span",{staticClass:"line-number"},[t._v("119")]),s("br"),s("span",{staticClass:"line-number"},[t._v("120")]),s("br"),s("span",{staticClass:"line-number"},[t._v("121")]),s("br"),s("span",{staticClass:"line-number"},[t._v("122")]),s("br"),s("span",{staticClass:"line-number"},[t._v("123")]),s("br")])]),s("p",[t._v("查询一个股票帐户中持有的交易品种：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取股票 stock 帐户的现有持仓。注意提前登录该帐户，否则无结果返回")]),t._v("\n\tpos_list "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_trade_detail_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2000515'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stock'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'position'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"帐户 2000515 的持仓信息，共有多少条记录 ："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pos_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" pos "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" pos_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"账号ID "')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strAccountID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"市场ID "')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strExchangeID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"市场名称 "')]),t._v("   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strExchangeName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"品种代码 "')]),t._v("   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strProductID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"品种名称 "')]),t._v("   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strProductName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"证券代码 "')]),t._v("   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strInstrumentID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"证券名称 "')]),t._v("   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strInstrumentName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"投保类型 "')]),t._v("   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nHedgeFlag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"买卖方向 "')]),t._v("   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交日期 "')]),t._v("   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strOpenDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交ID "')]),t._v("     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strTradeID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"当前拥股 "')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"开仓价格 "')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dOpenPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"交易日 "')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strTradingDay"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"保证金 "')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dMargin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"持仓成本 "')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dOpenCost"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"结算价 "')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dSettlementPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"平仓量 "')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nCloseVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"平仓额 "')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dCloseAmount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"浮动盈亏 "')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dFloatProfit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"平仓盈亏 "')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dCloseProfit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"市值 "')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dMarketValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"持有成本 "')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dPositionCost"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"持仓盈亏 "')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dPositionProfit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"最新结算价 "')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dLastSettlementPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"合约价值 "')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dInstrumentValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"是否今仓 "')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_bIsToday"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"股东帐号 "')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strStockHolder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"冻结数量 "')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nFrozenVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 期货不用这个字段，只用于股票品种")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"可用数量 "')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nCanUseVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 期货不用这个字段，只用于股票品种")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"在途股份 "')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nOnRoadVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 期货不用这个字段，只用于股票品种")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"昨仓数量 "')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nYesterdayVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 期货不用这个字段，只用于股票品种")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"最新价 "')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dLastPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"开仓均价 "')]),t._v("     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dAvgOpenPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"盈亏比例 "')]),t._v("     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dProfitRate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交类型 "')]),t._v("     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_eFutureTradeType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"到期日 "')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strExpireDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"组合成交号 "')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strComTradeID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"组合序号 "')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nLegId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"累计成本 "')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dTotalCost"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"单股成本 "')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dSingleCost"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"备兑数量 "')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nCoveredVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"持仓类型 "')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_eSideFlag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"汇率 "')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dReferenceRate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"基金拆合数量 "')]),t._v("   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dStructFundVol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"基金可赎回量 "')]),t._v("   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dRedemptionVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"申赎可用量 "')]),t._v("     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nPREnableVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"实时占用保证金 "')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dRealUsedMargin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"权利金 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dRoyalty"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"标的证券最新价 "')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dStockLastPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"静态持仓保证金 "')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dStaticHoldMargin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"期权组合占用量 "')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nOptCombUsedVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"可行权数量 "')]),t._v("     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nEnableExerciseVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"账号key "')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strAccountKey"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"++++++++++++++++++++++++++++++++++++++++++++++++++++"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""运行结果\nstart trading mode\n帐户 2000515 的持仓信息，共有多少条记录 ： 8\n账号ID  2000515\n市场ID  SH\n市场名称  上证所\n品种代码  \n品种名称  \n证券代码  600027\n证券名称  华电国际\n投保类型  49\n买卖方向  48\n成交日期  \n成交ID  \n当前拥股  0\n开仓价格  0.0\n交易日  20231123\n保证金  0.0\n持仓成本  0.0\n结算价  5.07\n平仓量  0\n平仓额  0.0\n浮动盈亏  0.0\n平仓盈亏  0.0\n市值  0.0\n持有成本  0.0\n持仓盈亏  0.0\n最新结算价  0.0\n合约价值  0.0\n是否今仓  True\n股东帐号  \n冻结数量  0\n可用数量  0\n在途股份  0\n昨仓数量  0\n最新价  5.07\n开仓均价  0.0\n盈亏比例  0.0\n成交类型  48   （48：普通成交 49：期权成交  50：OTC 成交  51：期转现衍生成交  52：组合衍生成交）\n到期日  \n组合成交号  \n组合序号  0\n累计成本  0.0\n单股成本  0.0\n备兑数量  0\n持仓类型  48 \n汇率  0.0\n基金拆合数量  0\n基金可赎回量  0\n申赎可用量  0\n实时占用保证金  0.0\n权利金  0.0\n标的证券最新价  1.7976931348623157e+308\n静态持仓保证金  1.7976931348623157e+308\n期权组合占用数量  0\n可行权数量  -1\n账号key  2____11194____114911____49____2000515____\n++++++++++++++++++++++++++++++++++++++++++++++++++++\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br"),s("span",{staticClass:"line-number"},[t._v("58")]),s("br"),s("span",{staticClass:"line-number"},[t._v("59")]),s("br"),s("span",{staticClass:"line-number"},[t._v("60")]),s("br"),s("span",{staticClass:"line-number"},[t._v("61")]),s("br"),s("span",{staticClass:"line-number"},[t._v("62")]),s("br"),s("span",{staticClass:"line-number"},[t._v("63")]),s("br"),s("span",{staticClass:"line-number"},[t._v("64")]),s("br"),s("span",{staticClass:"line-number"},[t._v("65")]),s("br"),s("span",{staticClass:"line-number"},[t._v("66")]),s("br"),s("span",{staticClass:"line-number"},[t._v("67")]),s("br"),s("span",{staticClass:"line-number"},[t._v("68")]),s("br"),s("span",{staticClass:"line-number"},[t._v("69")]),s("br"),s("span",{staticClass:"line-number"},[t._v("70")]),s("br"),s("span",{staticClass:"line-number"},[t._v("71")]),s("br"),s("span",{staticClass:"line-number"},[t._v("72")]),s("br"),s("span",{staticClass:"line-number"},[t._v("73")]),s("br"),s("span",{staticClass:"line-number"},[t._v("74")]),s("br"),s("span",{staticClass:"line-number"},[t._v("75")]),s("br"),s("span",{staticClass:"line-number"},[t._v("76")]),s("br"),s("span",{staticClass:"line-number"},[t._v("77")]),s("br"),s("span",{staticClass:"line-number"},[t._v("78")]),s("br"),s("span",{staticClass:"line-number"},[t._v("79")]),s("br"),s("span",{staticClass:"line-number"},[t._v("80")]),s("br"),s("span",{staticClass:"line-number"},[t._v("81")]),s("br"),s("span",{staticClass:"line-number"},[t._v("82")]),s("br"),s("span",{staticClass:"line-number"},[t._v("83")]),s("br"),s("span",{staticClass:"line-number"},[t._v("84")]),s("br"),s("span",{staticClass:"line-number"},[t._v("85")]),s("br"),s("span",{staticClass:"line-number"},[t._v("86")]),s("br"),s("span",{staticClass:"line-number"},[t._v("87")]),s("br"),s("span",{staticClass:"line-number"},[t._v("88")]),s("br"),s("span",{staticClass:"line-number"},[t._v("89")]),s("br"),s("span",{staticClass:"line-number"},[t._v("90")]),s("br"),s("span",{staticClass:"line-number"},[t._v("91")]),s("br"),s("span",{staticClass:"line-number"},[t._v("92")]),s("br"),s("span",{staticClass:"line-number"},[t._v("93")]),s("br"),s("span",{staticClass:"line-number"},[t._v("94")]),s("br"),s("span",{staticClass:"line-number"},[t._v("95")]),s("br"),s("span",{staticClass:"line-number"},[t._v("96")]),s("br"),s("span",{staticClass:"line-number"},[t._v("97")]),s("br"),s("span",{staticClass:"line-number"},[t._v("98")]),s("br"),s("span",{staticClass:"line-number"},[t._v("99")]),s("br"),s("span",{staticClass:"line-number"},[t._v("100")]),s("br"),s("span",{staticClass:"line-number"},[t._v("101")]),s("br"),s("span",{staticClass:"line-number"},[t._v("102")]),s("br"),s("span",{staticClass:"line-number"},[t._v("103")]),s("br"),s("span",{staticClass:"line-number"},[t._v("104")]),s("br"),s("span",{staticClass:"line-number"},[t._v("105")]),s("br"),s("span",{staticClass:"line-number"},[t._v("106")]),s("br"),s("span",{staticClass:"line-number"},[t._v("107")]),s("br"),s("span",{staticClass:"line-number"},[t._v("108")]),s("br"),s("span",{staticClass:"line-number"},[t._v("109")]),s("br"),s("span",{staticClass:"line-number"},[t._v("110")]),s("br"),s("span",{staticClass:"line-number"},[t._v("111")]),s("br"),s("span",{staticClass:"line-number"},[t._v("112")]),s("br"),s("span",{staticClass:"line-number"},[t._v("113")]),s("br"),s("span",{staticClass:"line-number"},[t._v("114")]),s("br"),s("span",{staticClass:"line-number"},[t._v("115")]),s("br"),s("span",{staticClass:"line-number"},[t._v("116")]),s("br"),s("span",{staticClass:"line-number"},[t._v("117")]),s("br"),s("span",{staticClass:"line-number"},[t._v("118")]),s("br"),s("span",{staticClass:"line-number"},[t._v("119")]),s("br"),s("span",{staticClass:"line-number"},[t._v("120")]),s("br"),s("span",{staticClass:"line-number"},[t._v("121")]),s("br"),s("span",{staticClass:"line-number"},[t._v("122")]),s("br"),s("span",{staticClass:"line-number"},[t._v("123")]),s("br")])]),s("p",[t._v("看了上例之后，你是不是马上就想到了，这可以设置 止盈止损了嘛。因为这已经获取到了持仓单的品种、浮动盈亏的金额、甚至还有盈亏比例。这设置一个条件，比较一下大小，就立即卖出，这不就是 止盈止损 嘛。")]),t._v(" "),s("p",[t._v("接下来，我们再来看看 委托单 的例子：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\n\tord_list "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_trade_detail_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2000515'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stock'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'order'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"===========Order  委托对象==============================="')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\t\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"帐户 2000515 的委托单信息，共有多少条记录 ："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ord_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" ord_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"账号ID "')]),t._v("        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strAccountID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"市场ID "')]),t._v("        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strExchangeID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"市场名称 "')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strExchangeName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"品种代码 "')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strProductID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"品种名称 "')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strProductName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"证券代码 "')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strInstrumentID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"证券名称 "')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strInstrumentName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"内部委托号 "')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strOrderRef"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托价格类型 "')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nOrderPriceType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托操作方向 "')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"买卖/开平标志 "')]),t._v("   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nOffsetFlag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"投保标志 "')]),t._v("        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nHedgeFlag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托价格 "')]),t._v("        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dLimitPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"最初委托量 "')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nVolumeTotalOriginal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托状态 "')]),t._v("        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nOrderStatus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"已成交量 "')]),t._v("        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nVolumeTraded"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托剩余量 "')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nVolumeTotal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"错误代码 "')]),t._v("        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nErrorID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"错误消息 "')]),t._v("        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strErrorMsg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"任务号 "')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nTaskId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"冻结保证金 "')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dFrozenMargin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"冻结手续费 "')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dFrozenCommission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托日期 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strInsertDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托时间 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strInsertTime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交均价 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dTradedPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"已撤数量 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dCancelAmount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"买卖中文标记 "')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strOptName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交金额 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dTradeAmount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托类型 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_eEntrustType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"废单原因"')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strCancelInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"标的证券代码"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strUnderCode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"备兑标记"')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_eCoveredFlag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托价格（人民币）"')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dOrderPriceRMB"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交金额（人民币）"')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dTradeAmountRMB"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"汇率"')]),t._v("             "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dReferenceRate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"合约编号"')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strCompactNo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"头寸来源"')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_eCashgroupProp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"预估在途占用保证金"')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dShortOccupedMargin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"是否是迅投交易"')]),t._v("     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strXTTrade"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"账号key"')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strAccountKey"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"投资备注"')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("ord")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strRemark"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"+++++++++++++++++++++++++++++++++++++++++++++++++++"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""运行结果\n账号ID  2000515\n市场ID  SZ\n市场名称  深交所\n品种代码  \n品种名称  \n证券代码  300607\n证券名称  拓斯达\n内部委托号  SZ____895\n委托价格类型  50\n委托操作方向  48\n买卖/开平标志  49\n投保标志  49\n委托价格  16.5\n最初委托量  2400\n委托状态  56\n已成交量  2400\n委托剩余量  0\n错误代码  2147483647\n错误消息  \n任务号  -1\n冻结保证金  0.0\n冻结手续费  0.0\n委托日期  20231123\n委托时间  100658\n成交均价  16.5\n已撤数量  0.0\n买卖中文标记  限价卖出\n成交金额  39600.0\n委托类型  48\n废单原因 \n标的证券代码 \n备兑标记 0\n委托价格（人民币） 0.0\n成交金额（人民币） 0.0\n汇率 0.0\n合约编号 \n头寸来源 48\n预估在途占用保证金 1.7976931348623157e+308\n是否是迅投交易 其他终端\n账号key 2____11194____114911____49____2000515____\n投资备注 \n+++++++++++++++++++++++++++++++++++++++++++++++++++\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br"),s("span",{staticClass:"line-number"},[t._v("58")]),s("br"),s("span",{staticClass:"line-number"},[t._v("59")]),s("br"),s("span",{staticClass:"line-number"},[t._v("60")]),s("br"),s("span",{staticClass:"line-number"},[t._v("61")]),s("br"),s("span",{staticClass:"line-number"},[t._v("62")]),s("br"),s("span",{staticClass:"line-number"},[t._v("63")]),s("br"),s("span",{staticClass:"line-number"},[t._v("64")]),s("br"),s("span",{staticClass:"line-number"},[t._v("65")]),s("br"),s("span",{staticClass:"line-number"},[t._v("66")]),s("br"),s("span",{staticClass:"line-number"},[t._v("67")]),s("br"),s("span",{staticClass:"line-number"},[t._v("68")]),s("br"),s("span",{staticClass:"line-number"},[t._v("69")]),s("br"),s("span",{staticClass:"line-number"},[t._v("70")]),s("br"),s("span",{staticClass:"line-number"},[t._v("71")]),s("br"),s("span",{staticClass:"line-number"},[t._v("72")]),s("br"),s("span",{staticClass:"line-number"},[t._v("73")]),s("br"),s("span",{staticClass:"line-number"},[t._v("74")]),s("br"),s("span",{staticClass:"line-number"},[t._v("75")]),s("br"),s("span",{staticClass:"line-number"},[t._v("76")]),s("br"),s("span",{staticClass:"line-number"},[t._v("77")]),s("br"),s("span",{staticClass:"line-number"},[t._v("78")]),s("br"),s("span",{staticClass:"line-number"},[t._v("79")]),s("br"),s("span",{staticClass:"line-number"},[t._v("80")]),s("br"),s("span",{staticClass:"line-number"},[t._v("81")]),s("br"),s("span",{staticClass:"line-number"},[t._v("82")]),s("br"),s("span",{staticClass:"line-number"},[t._v("83")]),s("br"),s("span",{staticClass:"line-number"},[t._v("84")]),s("br"),s("span",{staticClass:"line-number"},[t._v("85")]),s("br"),s("span",{staticClass:"line-number"},[t._v("86")]),s("br"),s("span",{staticClass:"line-number"},[t._v("87")]),s("br"),s("span",{staticClass:"line-number"},[t._v("88")]),s("br"),s("span",{staticClass:"line-number"},[t._v("89")]),s("br"),s("span",{staticClass:"line-number"},[t._v("90")]),s("br"),s("span",{staticClass:"line-number"},[t._v("91")]),s("br"),s("span",{staticClass:"line-number"},[t._v("92")]),s("br"),s("span",{staticClass:"line-number"},[t._v("93")]),s("br"),s("span",{staticClass:"line-number"},[t._v("94")]),s("br")])]),s("p",[t._v("通过上例，可以看到获取到的 委托单 的信息。")]),t._v(" "),s("p",[t._v("再来看一个关于 成交单 的示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取股票 stock 帐户的现有持仓。注意提前登录该帐户，否则无结果返回")]),t._v("\n\tdeal_list "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_trade_detail_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2000515'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stock'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'DEAL'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"帐户 2000515 的成交信息，共有多少条记录 ："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("deal_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" deal "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" deal_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"账号ID "')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strAccountID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"市场ID "')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strExchangeID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"市场名称 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strExchangeName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"品种代码 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strProductID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"品种名称 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strProductName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"证券代码 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strInstrumentID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"证券名称 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strInstrumentName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交ID "')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strTradeID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"下单引用 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strOrderRef"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"合同编号 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strOrderSysID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"买卖方向 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"开平标志 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nOffsetFlag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"投保类型 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nHedgeFlag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交均价 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交量 "')]),t._v("           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交日期 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strTradeDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交时间 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strTradeTime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"手续费 "')]),t._v("           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dCommission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交额 "')]),t._v("           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dTradeAmount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"任务号 "')]),t._v("           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nTaskId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托价格类型 "')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nOrderPriceType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"买卖标记 "')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strOptName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托类别 "')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_eEntrustType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交类型 "')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_eFutureTradeType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"实际开平 "')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nRealOffsetFlag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"备兑标记 "')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_eCoveredFlag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"平今量 "')]),t._v("            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nCloseTodayVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托价格（人民币） "')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dOrderPriceRMB"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交价格（人民币） "')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dPriceRMB"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交金额（人民币） "')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dTradeAmountRMB"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"汇率 "')]),t._v("              "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dReferenceRate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"是否是迅投交易 "')]),t._v("     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strXTTrade"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"合约编号 "')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strCompactNo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"平仓盈亏 "')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dCloseProfit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"投资备注 "')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strRemark"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"账号key "')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strAccountKey"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"订单编号 "')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nRef"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"++++++++++++++++++++++++++++++++++++++++++++++++++++"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""运行结果\n账号ID  2000515\n市场ID  SH\n市场名称  上证所\n品种代码  \n品种名称  \n证券代码  605555\n证券名称  德昌股份\n成交ID  12\n下单引用  \n合同编号  670\n买卖方向  48\n开平标志  49\n投保类型  49\n成交均价  22.89\n成交量  600\n成交日期  20231123\n成交时间  94239\n成交额  13734.0\n任务号  -1\n委托价格类型  50\n买卖标记  限价卖出\n委托类别  48\n成交类型  48\n实际开平  -1\n备兑标记  48\n平今量  0\n委托价格（人民币）  0.0\n成交价格（人民币）  0.0\n成交金额（人民币）  0.0\n汇率  0.0\n是否是迅投交易  其他终端\n合约编号  \n平仓盈亏  0.0\n投资备注  \n账号key  2____11194____114911____49____2000515____\n订单编号  0\n++++++++++++++++++++++++++++++++++++++++++++++++++++\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br"),s("span",{staticClass:"line-number"},[t._v("58")]),s("br"),s("span",{staticClass:"line-number"},[t._v("59")]),s("br"),s("span",{staticClass:"line-number"},[t._v("60")]),s("br"),s("span",{staticClass:"line-number"},[t._v("61")]),s("br"),s("span",{staticClass:"line-number"},[t._v("62")]),s("br"),s("span",{staticClass:"line-number"},[t._v("63")]),s("br"),s("span",{staticClass:"line-number"},[t._v("64")]),s("br"),s("span",{staticClass:"line-number"},[t._v("65")]),s("br"),s("span",{staticClass:"line-number"},[t._v("66")]),s("br"),s("span",{staticClass:"line-number"},[t._v("67")]),s("br"),s("span",{staticClass:"line-number"},[t._v("68")]),s("br"),s("span",{staticClass:"line-number"},[t._v("69")]),s("br"),s("span",{staticClass:"line-number"},[t._v("70")]),s("br"),s("span",{staticClass:"line-number"},[t._v("71")]),s("br"),s("span",{staticClass:"line-number"},[t._v("72")]),s("br"),s("span",{staticClass:"line-number"},[t._v("73")]),s("br"),s("span",{staticClass:"line-number"},[t._v("74")]),s("br"),s("span",{staticClass:"line-number"},[t._v("75")]),s("br"),s("span",{staticClass:"line-number"},[t._v("76")]),s("br"),s("span",{staticClass:"line-number"},[t._v("77")]),s("br"),s("span",{staticClass:"line-number"},[t._v("78")]),s("br"),s("span",{staticClass:"line-number"},[t._v("79")]),s("br"),s("span",{staticClass:"line-number"},[t._v("80")]),s("br"),s("span",{staticClass:"line-number"},[t._v("81")]),s("br"),s("span",{staticClass:"line-number"},[t._v("82")]),s("br"),s("span",{staticClass:"line-number"},[t._v("83")]),s("br"),s("span",{staticClass:"line-number"},[t._v("84")]),s("br"),s("span",{staticClass:"line-number"},[t._v("85")]),s("br"),s("span",{staticClass:"line-number"},[t._v("86")]),s("br")])]),s("p",[t._v("由此可见，get_trade_detail_data() 是一个强大的方法（函数），通过传入不同的形式参数，它就可以返回帐户信息、持有单、委托单的信息。当然还有其它的参数，在此就不一一举例了，有兴趣的话可以参考官方文档为准。")]),t._v(" "),s("p",[t._v("再来看一个关于 任务 的示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取股票 stock 帐户的现有持仓。注意提前登录该帐户，否则无结果返回")]),t._v("\n\tdeal_list "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_trade_detail_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'620000123673'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stock'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'TASK'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"帐户 620000123673 的成交信息，共有多少条记录 ："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("deal_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" deal "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" deal_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"任务ID号 "')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nTaskId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"任务状态 "')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_eStatus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 2 提交中 3 执行中 7完成  4 暂停")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"任务消息 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strMsg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"任务开始时间 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_startTime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 时间戳格式")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"任务结束时间 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_endTime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"任务取消时间 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_cancelTime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"已成交量 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nBusinessNum"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"组合Id "')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nGroupId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"下单品种代码 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_stockCode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"下单用户 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strAccountID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"下单操作 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_eOperationType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 0 开多 3 开空 14 平多 15 平空 18 买入 19卖出")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"交易类型 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_eOrderType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 0 常规交易  1 算法交易 11 智能VWAP")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"报价方式 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_ePriceType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 5 最新价  14对手价 11 指定价 18 市价最优价")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托价 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dFixPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托量 "')]),t._v("           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nNum"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"投资备注 "')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strRemark"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"++++++++++++++++++++++++++++++++++++++++++++++++++++"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果\n任务ID号  1\n任务状态  4\n任务消息  12.8200全部委托! 报价行情已31秒未更新!\n任务开始时间  1734261320\n任务结束时间  2147483647\n任务取消时间  2147483647\n已成交量  0\n组合Id  1\n下单品种代码  600089.SH\n下单用户  620000123673\n下单操作  18\n交易类型  0\n报价方式  5\n委托价  12.82\n委托量  1000\n投资备注  ++++++++++++++++++++++++++++++++++++++++++++++++++++\n"""')]),t._v("\n             \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br")])]),s("h3",{attrs:{id:"_3-02-获取板块成份股contextinfo-get-stock-list-in-sector"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-02-获取板块成份股contextinfo-get-stock-list-in-sector"}},[t._v("#")]),t._v(" 3.02 获取板块成份股"),s("br"),t._v("ContextInfo.get_stock_list_in_sector()")]),t._v(" "),s("p",[t._v("语法： ContextInfo.get_stock_list_in_sector(sectorname, realtime)")]),t._v(" "),s("p",[t._v("功能： 获取板块中包含的股票品种代码列表。板块名称即 “行情”界面中，“板块”标签中的板块名称。也支持自定义板块名称。")]),t._v(" "),s("p",[s("img",{attrs:{src:n(257),alt:"添加帐号"}})]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("p",[t._v("string——板块名称，如“沪深转债”，“创业板”、“上证50”、“我的自选”等\nrealtime——毫秒级时间戳\n返回： list：其中包含板块中的全部股票代码，如：['000002.SZ','000257.SZ'] 等。")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    index "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("barpos  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 图表中最新一根K线的索引编号")]),t._v("\n    realtime "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_bar_timetag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 最新一根K线对应的时间戳")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"板块 上证50 中包含哪些股票：\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_stock_list_in_sector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'上证50'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" realtime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("h3",{attrs:{id:"_3-03-获取市场行情第二版contextinfo-get-market-data-ex"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-03-获取市场行情第二版contextinfo-get-market-data-ex"}},[t._v("#")]),t._v(" 3.03 获取市场行情第二版"),s("br"),t._v("ContextInfo.get_market_data_ex()")]),t._v(" "),s("p",[t._v("功能：这个方法（函数）功能也很强大，并且这是第二版，可见又添加了一些新的功能。因此要好好理解、熟练掌握！")]),t._v(" "),s("p",[t._v("据说这个 第二版 是为了接收 Level 2 行情的 逐笔行情 和 逐笔委托 的。但是，前提也是需要帐户支持；同时，至今为止（2022年9月），迅投官方也自称，软件的性能仅能够最多支持 20 个品种的 Level 2 逐笔行情数据。最多的数据，软件处理不了，会导致崩溃。这也是 迅投QMT 只能做为一款个人量化工具的原因。用比喻的话就是一辆奥托，也不是不能开。但性能也就那样。")]),t._v(" "),s("p",[t._v("语法：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("ContextInfo.get_market_data_ex(\n    fields=[ ],                  # 默认为一个空列表（[]），表示获取所有字段 \n    stock_code=[],               # 品种代码列表。如：['600027.SZ','000187.SH']\n    period='follow',             # 时间周期，默认为 'follow' 表示当前主图表的时间周期 \n    start_time='',               # 开始时间，如果为空字符串，表示取当前主图表上最左边K线的时间\n    end_time='',                 # 结束时间，字符串格式为'2020093000'。如果为空，表示此时此刻\n    count=-1,                    # 表示从图表右边开始，向左取 多少根 K线。 -1 表示无限制\n    dividend_type='follow',      # 复权类型\n    fill_data=True,              # 如果休市停牌期间，是否自动填充数据\n    subscribe=True               # 订阅数据开关，默认为True\n)\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("p",[t._v("参数：\nfields —— 字段列表")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("字符串")]),t._v(" "),s("th",[t._v("表达意义")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("'time'")]),t._v(" "),s("td",[t._v("时间")])]),t._v(" "),s("tr",[s("td",[t._v("'open'")]),t._v(" "),s("td",[t._v("开盘价")])]),t._v(" "),s("tr",[s("td",[t._v("'high'")]),t._v(" "),s("td",[t._v("最高价")])]),t._v(" "),s("tr",[s("td",[t._v("'low'")]),t._v(" "),s("td",[t._v("最低")])]),t._v(" "),s("tr",[s("td",[t._v("'close'")]),t._v(" "),s("td",[t._v("收盘价")])]),t._v(" "),s("tr",[s("td",[t._v("'volume'")]),t._v(" "),s("td",[t._v("成交量")])]),t._v(" "),s("tr",[s("td",[t._v("'amount'")]),t._v(" "),s("td",[t._v("成交额")])]),t._v(" "),s("tr",[s("td",[t._v("'settle'")]),t._v(" "),s("td",[t._v("结算价")])]),t._v(" "),s("tr",[s("td",[t._v("'openInterest'")]),t._v(" "),s("td",[t._v("持仓量")])]),t._v(" "),s("tr",[s("td",[t._v("'preClose'")]),t._v(" "),s("td",[t._v("前收盘价")])]),t._v(" "),s("tr",[s("td",[t._v("'suspendFlag'")]),t._v(" "),s("td",[t._v("1 -停牌 0 - 不停牌")])])])]),t._v(" "),s("p",[t._v("对于不同时间周期的数据，其取值范围不同。默认为空列表（List）时，即代表所有字段。")]),t._v(" "),s("p",[t._v("period周期为tick时，field字段可选:")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("字符串")]),t._v(" "),s("th",[t._v("数据类型")]),t._v(" "),s("th",[t._v("表达意义")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("time")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("时间")])]),t._v(" "),s("tr",[s("td",[t._v("lastPrice")]),t._v(" "),s("td",[t._v("float")]),t._v(" "),s("td",[t._v("最新价")])]),t._v(" "),s("tr",[s("td",[t._v("lastClose\tfloat")]),t._v(" "),s("td",[t._v("前收盘价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("open")]),t._v(" "),s("td",[t._v("float")]),t._v(" "),s("td",[t._v("开盘价")])]),t._v(" "),s("tr",[s("td",[t._v("high")]),t._v(" "),s("td",[t._v("float")]),t._v(" "),s("td",[t._v("最高价")])]),t._v(" "),s("tr",[s("td",[t._v("low")]),t._v(" "),s("td",[t._v("float")]),t._v(" "),s("td",[t._v("最低价")])]),t._v(" "),s("tr",[s("td",[t._v("close")]),t._v(" "),s("td",[t._v("float")]),t._v(" "),s("td",[t._v("收盘价")])]),t._v(" "),s("tr",[s("td",[t._v("volume")]),t._v(" "),s("td",[t._v("float")]),t._v(" "),s("td",[t._v("成交量")])]),t._v(" "),s("tr",[s("td",[t._v("amount")]),t._v(" "),s("td",[t._v("float")]),t._v(" "),s("td",[t._v("成交额")])]),t._v(" "),s("tr",[s("td",[t._v("settle")]),t._v(" "),s("td",[t._v("float")]),t._v(" "),s("td",[t._v("今结算")])]),t._v(" "),s("tr",[s("td",[t._v("openInterest")]),t._v(" "),s("td",[t._v("float")]),t._v(" "),s("td",[t._v("持仓量")])]),t._v(" "),s("tr",[s("td",[t._v("stockStatus")]),t._v(" "),s("td",[t._v("int")]),t._v(" "),s("td",[t._v("停牌 1停牌，0 不停牌")])])])]),t._v(" "),s("p",[t._v("stock_code —— 列表型（List），品种合约的代码列表。如：['600027.SZ','000187.SZ']")]),t._v(" "),s("p",[t._v("period：字符串型（String），表示时间框架周期，默认为'follow'，即表示取当前主图的周期。取值范围如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数值")]),t._v(" "),s("th",[t._v("表达意义说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("'tick'")]),t._v(" "),s("td",[t._v("分笔线")])]),t._v(" "),s("tr",[s("td",[t._v("'1d'")]),t._v(" "),s("td",[t._v("日线")])]),t._v(" "),s("tr",[s("td",[t._v("'1m'")]),t._v(" "),s("td",[t._v("1分钟线")])]),t._v(" "),s("tr",[s("td",[t._v("'5m'")]),t._v(" "),s("td",[t._v("5分钟线")])]),t._v(" "),s("tr",[s("td",[t._v("'l2quote'")]),t._v(" "),s("td",[t._v("Level2行情快照")])]),t._v(" "),s("tr",[s("td",[t._v("'l2quoteaux'")]),t._v(" "),s("td",[t._v("Level2行情快照补充")])]),t._v(" "),s("tr",[s("td",[t._v("'l2order'")]),t._v(" "),s("td",[t._v("Level2逐笔委托")])]),t._v(" "),s("tr",[s("td",[t._v("'l2transaction'")]),t._v(" "),s("td",[t._v("Level2逐笔成交")])]),t._v(" "),s("tr",[s("td",[t._v("'l2transactioncount'")]),t._v(" "),s("td",[t._v("Level2大单统计")])]),t._v(" "),s("tr",[s("td",[t._v("'l2orderqueue'")]),t._v(" "),s("td",[t._v("Level2委买委卖队列")])])])]),t._v(" "),s("p",[t._v("注：行情数据字段列表见附录5.5")]),t._v(" "),s("p",[t._v("start_time —— 开始时间，为空表示取当前主图表上最左边K线的时间，时间格式为'20201231'或'20201231093000'\nend_time —— 结束时间，为空视为此时此刻，时间格式为'20201231'或'20201231093000'\ncount：—— 数据最大个数，-1 表示无限制\ndividend_type —— 复权方式，默认为'follow'，为当前主图复权方式，可选值：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("字符串")]),t._v(" "),s("th",[t._v("表达意义")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("’none'")]),t._v(" "),s("td",[t._v("不复权")])]),t._v(" "),s("tr",[s("td",[t._v("'fornt'")]),t._v(" "),s("td",[t._v("向前复权")])]),t._v(" "),s("tr",[s("td",[t._v("'back'")]),t._v(" "),s("td",[t._v("向后复权")])]),t._v(" "),s("tr",[s("td",[t._v("'front_ratio'")]),t._v(" "),s("td",[t._v("等比向前复权")])]),t._v(" "),s("tr",[s("td",[t._v("'back_ratio'")]),t._v(" "),s("td",[t._v("等比向后复权")])])])]),t._v(" "),s("p",[t._v("fill_data —— 停牌填充方式，默认为 True（暂不可用）")]),t._v(" "),s("p",[t._v("subscribe —— 订阅数据开关，默认为 True，设置为 False时不做数据订阅，只读取本地已有数据。订阅模式下，除分笔以外的周期只会自动补充当天数据，分笔周期不自动补充数据。")]),t._v(" "),s("p",[t._v("返回：一个字典（Dict），这个字典的 key（键），当然参数 "),s("code",[t._v("stock_code")]),t._v(" 中想要获取的 品种代码 了，想要几个品种，就有几个对应的 key（键）。对应的 value（值），是一个 Pandas 的 数据帧。对 Pandas 不熟悉的同学请自行补课哈。简单说就象一个 excel 表格，表头就是 "),s("code",[t._v("fields")]),t._v(" 对应的字段，也就是 列（栏），然后每一行中包含获取到的数据。一共多少行由参数 "),s("code",[t._v("count")]),t._v(" 决定。")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取 000300.SH 这个品种，日线图 1d 的，最近 10 根 K 线的，高开低收 的价格数据。保存到 data 这个变量中。")]),t._v("\n    data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_market_data_ex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'open'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'high'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'low'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'close'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取 高开低收的价格")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000300.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取的品种是 00300.SH")]),t._v("\n        period"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1d'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取 日K线的 周期")]),t._v("\n        start_time"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 开始时间 缺省")]),t._v("\n        end_time"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 结束时间 缺省")]),t._v("\n        count"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 从最右边的一根K线开始，获取 10 根K线的数据")]),t._v("\n        dividend_type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'follow'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 复权方式以主图表的方式为准")]),t._v("\n        fill_data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                 "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 休市停盘时自动填充数据")]),t._v("\n        subscribe"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),t._v("                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 订阅数据")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出结果")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果如下：\n{\n \'000300.SH\':\nstime     open       high       low        close   \n20220221  4646.0520  4646.6720  4613.2970  4634.314\n20220222  4601.9180  4602.0660  4550.8040  4574.153\n20220223  4582.0060  4625.2980  4579.2940  4623.046\n20220224  4592.0690  4610.8790  4488.4760  4529.319\n20220225  4564.6320  4611.8600  4561.8960  4573.425\n20220228  4563.7430  4581.6460  4530.6760  4581.646\n20220301  4597.8550  4623.4310  4583.9170  4619.686\n20220302  4594.0170  4594.0170  4558.4420  4578.601\n20220303  4595.0250  4599.3970  4544.4310  4551.628\n20220304  4513.3636  4539.3924  4481.4928  4496.430\n}\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br")])]),s("p",[t._v("由例程的运行结果，可以看到，打印输出的结果是一个 字典。只有一个 key（键）， “000300.SH”，对应的 value（值）是一个 Pandas 的 数据帧，字段名是 stime、open、high、low、close，分别表示时间、开盘价、最高价、最低价和收盘价。然后是 10 条记录，从最近的日期开始向前一共 10 天的数据，就已经获取到了。")]),t._v(" "),s("p",[t._v("日线图 1d 有什么意思嘛，必须给我来 Level 2 级的 逐笔成交 数据，我要高频、高速的！行，把参数修改一下即可，请看下例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取 000300.SH 这个品种，最新的报价数据， level 2 逐笔行情，最近 10 次的价格数据。保存到 data 这个变量中。")]),t._v("\n    data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_market_data_ex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                             "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取 全部字段的数据")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000300.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取的品种是 00300.SH")]),t._v("\n        period"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'l2transaction'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取 Level 2 级 逐笔行情 的数据")]),t._v("\n        start_time"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 开始时间 缺省")]),t._v("\n        end_time"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 结束时间 缺省")]),t._v("\n        count"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 从最右边的一根K线开始，获取 10 根K线的数据")]),t._v("\n        dividend_type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'follow'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 复权方式以主图表的方式为准")]),t._v("\n        fill_data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                 "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 休市停盘时自动填充数据")]),t._v("\n        subscribe"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),t._v("                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 订阅数据")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出结果")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果如下：\n请求失败, 没有Level-2增强版权限\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br")])]),s("p",[t._v("如示例显示，你会收到错误消息，没有 Level - 2  增强版极限。简单说，要花钱（目前还不见得有效）。")]),t._v(" "),s("p",[t._v("因此，通常在 迅投QMT 中，用此方法（函数），获取到的最快的行情数据，即 3秒一跳  的快照行情了。请参考下例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 订阅市场行情获取数据")]),t._v("\n    data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_market_data_ex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取 高开低收的价格")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000300.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取的品种是 000300.SH")]),t._v("\n        period"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'tick'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取 日K线的 周期")]),t._v("\n        start_time"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 开始时间 缺省")]),t._v("\n        end_time"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 结束时间 缺省")]),t._v("\n        count"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 从最右边的一根K线开始，获取 10 根K线的数据")]),t._v("\n        dividend_type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'follow'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 复权方式以主图表的方式为准")]),t._v("\n        fill_data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("                 "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 休市停盘时自动填充数据")]),t._v("\n        subscribe"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),t._v("                  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 订阅数据")]),t._v("\n       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出结果")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果如下：\n{\'000300.SH\':                           amount                   askPrice           askVol  \\\nstime                                                                          \n20220915155954.490  2.543675e+11  [0.0, 0.0, 0.0, 0.0, 0.0]  [0, 0, 0, 0, 0]   \n20220915155954.490  2.543675e+11  [0.0, 0.0, 0.0, 0.0, 0.0]  [0, 0, 0, 0, 0]   \n20220915155954.490  2.543675e+11  [0.0, 0.0, 0.0, 0.0, 0.0]  [0, 0, 0, 0, 0]   \n\n                                     bidPrice           bidVol     high  \\\nstime                                                                     \n20220915155954.490  [0.0, 0.0, 0.0, 0.0, 0.0]  [0, 0, 0, 0, 0]  4088.81   \n20220915155954.490  [0.0, 0.0, 0.0, 0.0, 0.0]  [0, 0, 0, 0, 0]  4088.81   \n20220915155954.490  [0.0, 0.0, 0.0, 0.0, 0.0]  [0, 0, 0, 0, 0]  4088.81   \n\n                    lastClose  lastPrice  lastSettlementPrice      low  \\\nstime                                                                    \n20220915155954.490    4065.36    4027.12                  0.0  3998.86   \n20220915155954.490    4065.36    4027.12                  0.0  3998.86   \n20220915155954.490    4065.36    4027.12                  0.0  3998.86   \n\n                       open  openInt      pvolume  settlementPrice  \\\nstime                                                                \n20220915155954.490  4078.65       15  12395119616              0.0   \n20220915155954.490  4078.65       15  12395119616              0.0   \n20220915155954.490  4078.65       15  12395119616              0.0   \n\n                                 stime  stockStatus           time  \\\nstime                                                                \n20220915155954.490  20220915155954.490            1  1663228794490   \n20220915155954.490  20220915155954.490            1  1663228794490   \n20220915155954.490  20220915155954.490            1  1663228794490   \n\n                    transactionNum     volume  \nstime                                          \n20220915155954.490               0  123951200  \n20220915155954.490               0  123951200  \n20220915155954.490               0  123951200  }\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br")])]),s("p",[t._v("看着有点乱哈，用 Excel 整理下，就明白多了。")]),t._v(" "),s("p",[s("img",{attrs:{src:n(298),alt:"获取市场行情Pandas数据帧"}})]),t._v(" "),s("p",[t._v("现在明白了 Pandas 的功能了吧？没学好的同学自己抓紧补课哈。由此可见，这个带 ex 的第二版方法（函数），主要是想用来获取 Level 2 行情的，但条件是客户的帐户需要购买对应的权限。而其基本功能，还是获取一个 Pandas 的数据帧，用于方便后面的计算，比如取一段时间的最高价/最低价啊、算一个平均值啊、因此结合 Pandas 运用好这个方法（函数），还是十分高效的。")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("前一个版本的 获取市场行情数据 的方法（函数） ContextInfo.get_market_data()，可以弃用了。"),s("br")]),t._v(" "),s("p",[t._v("同时 ContextInfo.get_history_data() 也可以弃用了。")])]),t._v(" "),s("p",[t._v("此方法可以 获取快照行情 和 历史行情 。实际运用中，如果只想要实时的市场行情，通常用下面这个方法：")]),t._v(" "),s("p",[s("code",[t._v("ContextInfo.get_full_tick()")])]),t._v(" "),s("h3",{attrs:{id:"_3-04-获取分笔数据contextinfo-get-full-tick"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-04-获取分笔数据contextinfo-get-full-tick"}},[t._v("#")]),t._v(" 3.04  获取分笔数据"),s("br"),t._v("ContextInfo.get_full_tick()")]),t._v(" "),s("p",[t._v("大多数股民的日常行为就是 盯盘，所谓 盯盘 其实就是看着屏幕上的数字跳动。其实这是一个毫无意义且消耗精力的行为。做量化自动交易程序，就是要解放这种行为，让电脑程序帮人 盯盘，效率高、准确度高、速度还快。")]),t._v(" "),s("p",[t._v("与上一个方法 "),s("code",[t._v("ContextInfo.get_market_data_ex()")]),t._v(" 相比，此方法主要用来接收实时的市场行情，记录每一次的价格变化、再根据需要进行计算，判断是否买卖。量化自动交易程序无非如此，没有什么神奇的秘密。")]),t._v(" "),s("p",[s("u",[t._v("到今天为止，根据国家政策， Level 2 级的 逐笔成交 行情报价 和 深圳市场才有的 逐笔委托 行情是不允许出券商的机房的；同时 迅投 QMT 自己也承受不了超过20+ 品种的 逐笔报价 的数据流量，软件自身都会崩溃。因此，在 迅投 QMT 中，如果在本地自己的电脑上运行，只可能用上 3秒一跳的 快照行情。市场上各种说法，各种名词，混淆概念，称之为 tick 行情啊、逐笔行情啊、高速行情啊、一口一跳啊，都是指的这种 3秒一跳 的报价行情。")])]),t._v(" "),s("p",[t._v("因此，在 迅投QMT 中的 "),s("code",[t._v("handlebar()")]),t._v(" 中使用此方法（函数），通常也只能接收到 3秒一跳 的快照行情。")]),t._v(" "),s("p",[t._v("语法： "),s("code",[t._v("ContextInfo.get_full_tick(stock_code=[])")])]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("p",[t._v("stock_code  —— 列表型（List）默认参数，品种代码的列表，如 "),s("code",[t._v("['600000.SH','600036.SH']")]),t._v("。如果此参数缺省，则取当前主图表上的品种合约。")]),t._v(" "),s("p",[t._v("返回：根据参数 stock_code 订阅的品种，返回一个 分笔数据 的字典（Dict）。该字典的 key 对应的就是每一个订阅的品种代码，每个 key 对应的 value 还是一个字典（Dict），在该字典中即存放着对应的 品种代码 的最新报价数据，这个字典的 key 如下所示：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("{  \n 'timetag':                 # 最近一次收到报价的时间\n 'lastPrice'：              # 最新价\n 'open':                    # 开盘价\n 'high':                    # 最高价\n 'low':                     # 最低价\n 'lastClose':               # 昨收盘价\n 'amount'：                 # 成交额  今日累积 \n 'volume'：                 # 成交量（手）今日累积  \n 'pvolumn'：                # 成交量（股）今日累积   \n 'stockStatus'：            # 股票状态  \n 'openInt'：                # 持仓量  \n 'settlementPrice'：        # 结算价  \n 'lastSettlementPrice'：    # 最新结算价  \n 'askPrice'：               # 列表（List)，卖价五档  \n 'bidPrice'：               # 列表（List)，买价五档  \n 'askVol'：                 # 列表（List)，卖量五档  \n 'bidVol'；                 # 列表（List)，买量五档  \n}  \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br")])]),s("p",[t._v("请参考以下示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_universe"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600036.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 订阅了两支股票")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\n\tfulltick "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_full_tick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600036.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取逐笔报价数据")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"返回的数据是什么类型？："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fulltick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"返回的字典包括的 KEY 为："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("fulltick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("keys"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 打印输出返回的字典（dict）的全部 key")]),t._v("\n\t\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" Asymbol "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" fulltick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("keys"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 遍历字典（dict）中的每一个品种")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"======================================"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"品种代码："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Asymbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"最新报价时间："')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("fulltick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Asymbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'timetag'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"最新价："')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("fulltick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Asymbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'lastPrice'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"开盘价："')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("fulltick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Asymbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'open'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"最高价："')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("fulltick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Asymbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'high'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"最低价："')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("fulltick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Asymbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'low'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"昨收盘价："')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("fulltick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Asymbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'lastClose'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交额："')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("fulltick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Asymbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'amount'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交量（手）："')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("fulltick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Asymbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'volume'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交量（股）："')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("fulltick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Asymbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'pvolume'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"股票状态："')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("fulltick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Asymbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stockStatus'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"结算价："')]),t._v("     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("fulltick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Asymbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'settlementPrice'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 适用期货")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"最新结算价："')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("fulltick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Asymbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'lastSettlementPrice'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 适用期货")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"卖价五档："')]),t._v("   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("fulltick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Asymbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'askPrice'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"买价五档："')]),t._v("   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("fulltick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Asymbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bidPrice'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"卖价量："')]),t._v("     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("fulltick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Asymbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'askVol'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"买价量："')]),t._v("     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("fulltick"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Asymbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bidVol'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("\"\"\"  运行结果如下\n返回的数据是什么类型？： <class 'dict'>\n返回的字典包括的 KEY 为： dict_keys(['600000.SH', '600036.SH'])\n======================================\n品种代码： 600000.SH\n最新报价时间： 20200902 10:00:04\n最新价： 7.21\n开盘价： 7.24\n最高价： 7.2700000000000005\n最低价： 7.2\n昨收盘价： 7.23\n成交额： 144223110.0\n成交量（手）： 199755\n成交量（股）： 199755\n股票状态： 0\n结算价： 0.0\n最新结算价： 0.0\n卖价五档： [0.0, 0.0, 0.0, 0.0, 0.0]\n买价五档： [0.0, 0.0, 0.0, 0.0, 0.0]\n卖价量： [0, 0, 0, 0, 0]\n买价量： [0, 0, 0, 0, 0]\n......\n\"\"\"")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br")])]),s("p",[t._v("通过上例，再看看下图。")]),t._v(" "),s("p",[s("img",{attrs:{src:n(299),alt:"获取报价行情"}})]),t._v(" "),s("p",[t._v("是不是感觉就对上了。解放了你的眼睛吧，电脑程序比你的肉眼精准多了，速度也快得多。")]),t._v(" "),s("h3",{attrs:{id:"_3-05-获取当日新股新债get-ipo-data"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-05-获取当日新股新债get-ipo-data"}},[t._v("#")]),t._v(" 3.05  获取当日新股新债"),s("br"),t._v("get_ipo_data()")]),t._v(" "),s("p",[t._v("功能： 自动打新的最爱。获取当日新股新债信息，返回结果为一个字典,包括新股申购代码,申购名称,最大申购数量,最小申购数量等数据。")]),t._v(" "),s("p",[t._v("语法： "),s("code",[t._v("get_ipo_data([,type])")])]),t._v(" "),s("p",[t._v('参数：\ntype ——  字符串型（String），缺省时返回新股新债信息。 type="STOCK" 表示只返回新股申购信息，type="BOND" 表示只返回新的可转债申购信息。\n示例：')]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\tipoData "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_ipo_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#返回新股新债信息")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'今天可以申购的新股和新债：'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ipoData"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\n'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\n\tipoStock "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_ipo_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"STOCK"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#返回新股信息")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'今天可以申购的新股：'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ipoStock"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\n'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\tipoCB "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_ipo_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"BOND"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 返回新债申购信息")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'今天可以申购的新债：'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ipoCB"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\n'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("\"\"\"\n运行结果：\n今天可以申购的新股和新债： {'732075.SH': {'name': '热威申购', 'type': 'STOCK', 'maxPurchaseNum': 12000, 'minPurchaseNum': 500, 'purchaseDate': '20200830', 'issuePrice': 23.1}}\n\n今天可以申购的新股： {'732075.SH': {'name': '热威申购', 'type': 'STOCK', 'maxPurchaseNum': 12000, 'minPurchaseNum': 500, 'purchaseDate': '20200830', 'issuePrice': 23.1}}\n\n今天可以申购的新债： {}\n\"\"\"")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br")])]),s("h3",{attrs:{id:"_3-06-获取账户新股申购额度get-new-purchase-limit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-06-获取账户新股申购额度get-new-purchase-limit"}},[t._v("#")]),t._v(" 3.06 获取账户新股申购额度"),s("br"),t._v("get_new_purchase_limit()")]),t._v(" "),s("p",[t._v("功能： 获取账户允许的新股申购额度")]),t._v(" "),s("p",[t._v("语法： get_new_purchase_limit(accid)")]),t._v(" "),s("p",[t._v("参数：\naccid —— 资金账号，必须是股票账号或者信用账号")]),t._v(" "),s("p",[t._v("返回：一个字典，包括上海主板,深圳市场,上海科创版的申购额度。")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\tpurchase_limit "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_new_purchase_limit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"410038216969"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 此处是一个 股票帐号")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"帐号 410038216969 的新股申购额度为："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("purchase_limit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("h3",{attrs:{id:"_3-07-获取指定市场的最新时间get-market-time"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-07-获取指定市场的最新时间get-market-time"}},[t._v("#")]),t._v(" 3.07 获取指定市场的最新时间"),s("br"),t._v("get_market_time()")]),t._v(" "),s("p",[t._v('功能： 根据指定的交易所市场，如沪市/深市，获取来自交易所的最新时间\n语法： get_market_time(market)\n参数：\nmarket —— 市场代码（如"SH"）\n返回： 整数型。市场最新时间，最小单位是 秒')]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"上海沪市的最新时间是："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("get_market_time"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SH"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"深市的最新时间是："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("get_market_time"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SZ"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""  运行结果\n上海沪市的最新时间是： 111530\n深市的最新时间是： 111530\n休市停盘之后，对应的时间也会停止。\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("p",[t._v("迅投QMT 中的这种 6 位整数的时间表达方式，一度让我感到很谜。后面才慢慢想明白，这意味着最小的单位，就到 秒。")]),t._v(" "),s("p",[t._v("111530 对应着 11:15:30 。用 6 位整数，可以直接比较大小，不必转换。一分钟之内的 秒 数，也可以直接用最后两位数直接相减即可。")]),t._v(" "),s("h3",{attrs:{id:"_3-08-获取当前k-线对应的时间戳contextinfo-get-bar-timetag"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-08-获取当前k-线对应的时间戳contextinfo-get-bar-timetag"}},[t._v("#")]),t._v(" 3.08 获取当前K 线对应的时间戳"),s("br"),t._v("ContextInfo.get_bar_timetag()")]),t._v(" "),s("p",[t._v("语法： ContextInfo.get_bar_timetag(index)")]),t._v(" "),s("p",[t._v("功能： 获取指定 索引号 K 线对应的时间戳（毫秒），如未指定，则默认为当前K线。")]),t._v(" "),s("p",[t._v("参数： index —— 指定主图表中某一根 K 线的索引序号")]),t._v(" "),s("p",[t._v("返回： 时间戳（毫秒）")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    t1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_bar_timetag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1080")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    t2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_bar_timetag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("580")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"当前主图表上 索引号为 1080 的K线，对应的时间是："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"毫秒时间戳为："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("t1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"转换后为 "')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("timetag_to_datetime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%Y%m%d %H:%M:%S'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"当前主图表上 索引号为 580 的K线，对应的时间是："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"毫秒时间戳为："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("t2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"转换后为 "')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("timetag_to_datetime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%Y%m%d %H:%M:%S'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"============================="')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果\n当前主图表上 索引号为 1080 的K线，对应的时间是：\n毫秒时间戳为： 1657072800000\n转换后为  20220706 10:00:00\n当前主图表上 索引号为 580 的K线，对应的时间是：\n毫秒时间戳为： 1648704600000\n转换后为  20220331 13:30:00\n=============================\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br")])]),s("h3",{attrs:{id:"_3-09-获取给定日期对应的-k-线索引号contextinfo-get-date-location"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-09-获取给定日期对应的-k-线索引号contextinfo-get-date-location"}},[t._v("#")]),t._v(" 3.09 获取给定日期对应的 K 线索引号"),s("br"),t._v("ContextInfo.get_date_location()")]),t._v(" "),s("p",[t._v("此方法与 "),s("code",[t._v("ContextInfo.get_bar_timetag()")]),t._v(" 正好互补，根据指定的日期，返回对应的K线索引号。")]),t._v(" "),s("p",[t._v("功能： 根据指定的一个日期时间，返回当前主图表上对应的 K 线索引序号。如果当前主图上的第 0 号K线的日期都在指定的日期之后，则返回 0 表示没找到对应的K线。")]),t._v(" "),s("p",[t._v("语法： ContextInfo.get_date_location(strdate)")]),t._v(" "),s("p",[t._v("参数： string：形式如 'yyyymmdd' ，如 '20170711'")]),t._v(" "),s("p",[t._v("返回： 时间戳（毫秒）")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" 20230120 对应的K线索引编号为："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_date_location"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"20230120"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" 20220720 10:30:00对应的K线索引编号为："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_date_location"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"20220720 10:30:00"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果\n20230120 对应的K线索引编号为： 2159\n20220720 10:30:00对应的K线索引编号为： 1159\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("h3",{attrs:{id:"_3-10-获取当前主图品种最新分笔报价对应的时间戳contextinfo-get-tick-timetag"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-10-获取当前主图品种最新分笔报价对应的时间戳contextinfo-get-tick-timetag"}},[t._v("#")]),t._v(" 3.10 获取当前主图品种最新分笔报价对应的时间戳"),s("br"),t._v("ContextInfo.get_tick_timetag()")]),t._v(" "),s("p",[t._v("语法： ContextInfo.get_tick_timetag()")]),t._v(" "),s("p",[t._v("功能： 获取当前主图品种最新分笔报价对应的时间戳")]),t._v(" "),s("p",[t._v("参数： 无")]),t._v(" "),s("p",[t._v("返回： 时间戳（毫秒）")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    t "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_tick_timetag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"转换后为 "')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("timetag_to_datetime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%Y%m%d %H:%M:%S'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果:\n1653265012659\n转换后为  20220831 10:30:12\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h3",{attrs:{id:"_3-11-获取一篮子证券编码数据contextinfo-load-stk-list"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-11-获取一篮子证券编码数据contextinfo-load-stk-list"}},[t._v("#")]),t._v(" 3.11 获取一篮子证券编码数据"),s("br"),t._v("ContextInfo.load_stk_list()")]),t._v(" "),s("p",[t._v("功能： 从指定的文件路径中，获取一篮子 证券代码")]),t._v(" "),s("p",[t._v("语法：ContextInfo.load_stk_list(filePath，fileName)")]),t._v(" "),s("p",[t._v("文件类型可以是 .txt 或 .csv 格式，内容如：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("600000.SH,600004.SH,600006.SH,\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("中间的分隔符为 英文半角逗号（,）。")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("p",[t._v("filePath —— 文件路径")]),t._v(" "),s("p",[t._v("fileName —— 文件名(比如：a.txt,b.csv)")]),t._v(" "),s("p",[t._v("返回： 一个列表（list），其中包含文档中的品种名称代码。")]),t._v(" "),s("p",[t._v("示例：请提前在 D:/data 文件夹中准备一个 list.txt 的文件。")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    df "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load_stk_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'D:/data'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'list.txt'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[s("img",{attrs:{src:n(300),alt:"示例图片"}})]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("文件名称和路径中，不要使用中文，否则可能会失败！")])]),t._v(" "),s("li",[s("p",[t._v("如果执行成功，会更改文件名，(在文件末尾以加上调用的时间)")])]),t._v(" "),s("li",[s("p",[t._v("如果不希望策略程序修改文件名称，可在 设置 面板，交易设置中，取消 “允许load_stk_list函数重命名文件”前面的 勾；")])])])]),t._v(" "),s("p",[s("img",{attrs:{src:n(301),alt:"示例图片"}})]),t._v(" "),s("h3",{attrs:{id:"_3-12-获取一篮子证券编码及数量数据contextinfo-load-stk-vol-list"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-12-获取一篮子证券编码及数量数据contextinfo-load-stk-vol-list"}},[t._v("#")]),t._v(" 3.12 获取一篮子证券编码及数量数据"),s("br"),t._v("ContextInfo.load_stk_vol_list()")]),t._v(" "),s("p",[t._v("功能： 与上一个方法类似，区别是可以一次读取到品种名称和数量的信息。从指定的文件路径中，获取自选的一篮子 证券代码 和 数量 信息。")]),t._v(" "),s("p",[t._v("语法： ContextInfo.load_stk_vol_list(filePath，fileName)")]),t._v(" "),s("p",[t._v("文件类型可以是 .txt 或 .csv 格式，内容如：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("600000.SH,100,600004.SH,500,600006.SH,200,\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("中间的分隔符为 英文半角逗号（,）。")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("参数：")]),t._v(" "),s("p",[t._v("filePath —— 文件路径")]),t._v(" "),s("p",[t._v("fileName —— 文件名(比如：a.txt,b.csv)")])])]),t._v(" "),s("p",[t._v("返回： 一个字典（dict），其中包含文档中的内容。key 为品种名称代码，value 为数量信息。")]),t._v(" "),s("p",[t._v("示例：请提前在 D：/data/ 文件夹中准备一个 list.txt 的文件，其中的内容如：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("load_stk_vol_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'D:/data'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'list.txt'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h3",{attrs:{id:"行情相关"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#行情相关"}},[t._v("#")]),t._v(" =====行情相关=====")]),t._v(" "),s("h3",{attrs:{id:"_3-13-订阅行情数据contextinfo-subscribe-quote"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-13-订阅行情数据contextinfo-subscribe-quote"}},[t._v("#")]),t._v(" 3.13 订阅行情数据"),s("br"),t._v("ContextInfo.subscribe_quote()")]),t._v(" "),s("p",[t._v("一般情况下，"),s("code",[t._v("handlebar()")]),t._v(" 基于主图品种的分笔数据，每3秒执行一次。因为 分笔数据 是3秒跳动一次。但有时因品种的交易活跃程度不一，某一个时段内，可能某个品种报价跳动快，次数多；而有的品种报价慢，半天都没有跳动。因此，就可以用上这个方法，单独订阅某一个品种，只要报价跳动了，就立即调用执行一个自定义函数。可以做为 "),s("code",[t._v("handlebar()")]),t._v("的补充。（其实在实际应用中，Level 1 行情，就是 3秒一跳，用 "),s("code",[t._v("handlebar()")]),t._v(" 足矣。Level 2 肯定用不着这个方法了。）")]),t._v(" "),s("p",[t._v("功能：订阅某一个品种的行情数据。在实际运行策略时，驱动方法 "),s("code",[t._v("handlebar()")]),t._v(" 执行的频次，只与主图品种的分笔报价频繁相关。如果需要同时监控另一个品种代码时，可能出现主图报价与品种报价不同步，一个更新快，一个更新慢的情况。此时，即可通过此 方法来实现，一旦接收到某个品种的报价后立即调用执行一个自定义函数的功能。此方法支持订阅 level-2 行情，需要额外开通 level-2 增强版权限。")]),t._v(" "),s("p",[t._v("语法：ContextInfo.subscribe_quote(stockcode,period,dividend_type,callback)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("p",[t._v("stockcode —— 字符串型，代表一个股票代码，如'000001.SZ'，如果缺省，则默认为当前图表上的品种代码"),s("br"),t._v("\nperiod —— 字符串型（String），指定 K 线图表的时间帧框架周期，取值如：'tick'：表示分笔线，'1d'：表示日K线，'1m'：表示一分钟K线，'5m'：表示5分钟K线"),s("br")]),t._v(" "),s("p",[t._v("dividend_type —— 默认参数可省略，数值型（number），指定复权类型，默认为 不复权，'follow'：表示用当前图复权方式，'none'：不复权，'front'：向前复权，'back'：向后复权，'front_ratio'：等比向前复权，'back_ratio'：等比向后复权,（分笔周期返回数据均为不复权）\ncallback —— 推送行情的回调\n返回：一个订阅号，整数型（number），取消订阅方法（函数） "),s("code",[t._v("ContextInfo.unsubscribe_quote()")]),t._v(" 需要用到这个订阅号。\n示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("quote_callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" callback  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 这里返回的是 函数名称。是Python 中高阶函数的用法。")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    T "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subscribe_quote"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"600000.SH"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tick"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"none"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("quote_callback"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"订阅号为："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("T"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h3",{attrs:{id:"_3-14-获取当前所有的行情订阅信息contextinfo-get-all-subscription"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-14-获取当前所有的行情订阅信息contextinfo-get-all-subscription"}},[t._v("#")]),t._v(" 3.14 获取当前所有的行情订阅信息"),s("br"),t._v("ContextInfo.get_all_subscription()")]),t._v(" "),s("p",[t._v("功能：如果之前用了多次 "),s("code",[t._v("ContextInfo.subscribe_quote()")]),t._v("方法，订阅了多个品种的行情报价。则可用此方法获取已订阅的品种信息。")]),t._v(" "),s("p",[t._v("语法：ContextInfo.get_all_subscription()")]),t._v(" "),s("p",[t._v('返回： 一个字典（Dict），其 Key 值为：订阅号；对应的 value 中包括，"func" 表示订阅的函数， "stockcode" 表示订阅的品种代码，  "period" 表示时间周期，"dividendType" 表示除权方式。')]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("quote_callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" callback  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 这里返回的是 函数名称。是Python 中高阶函数的用法。")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 调用了 2 次 subscribe_quote() ，分别订阅了 600027 和 600000 。")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subscribe_quote"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"600027.SH"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tick"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"none"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("quote_callback"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"600027.SH"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subscribe_quote"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"600000.SH"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tick"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"none"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_all_subscription"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("\"\"\"\n运行结果：\n{45:{\n     'func': 'subscribe_quote', \n     'stock_code': '600027.SH', \n     'stockCode': '600027.SH', \n     'period': 'tick', \n     'dividend_type': 'none', \n     'dividendType': 'none'\n    }, \n 46:{\n     'func': 'subscribe_quote', \n     'stock_code': '600000.SH', \n     'stockCode': '600000.SH', \n     'period': 'tick', \n     'dividend_type': 'none', \n     'dividendType': 'none'\n    }\n}\n\"\"\"")]),t._v("    \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br")])]),s("h3",{attrs:{id:"_3-15-订阅全推数据contextinfo-subscribe-whole-quote"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-15-订阅全推数据contextinfo-subscribe-whole-quote"}},[t._v("#")]),t._v(" 3.15 订阅全推数据"),s("br"),t._v("ContextInfo.subscribe_whole_quote()")]),t._v(" "),s("p",[t._v("功能： 订阅全推数据，全推数据只有分笔周期，每次增量推送数据有变化的品种。实际工作中很少用到此方法，不仅产生的负载消耗很大，更因为数据太多，不便提取。更多情况是用 "),s("code",[t._v("get_full_tick()")]),t._v(" 方法来获取品种的行情报价数据。")]),t._v(" "),s("p",[t._v("语法： ContextInfo.subscribe_whole_quote(code_list,callback=None)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("code_list：list([str,str,...])\n"),s("ul",[s("li",[t._v("市场代码列表，如['SH','SZ']")]),t._v(" "),s("li",[t._v("品种代码列表，如 ['600000.SH', '000001.SZ']")])])]),t._v(" "),s("li",[t._v("callback：数据推送回调")])]),t._v(" "),s("p",[t._v("返回：int，订阅号，可用unsubscribe_quote做反订阅。此方法传递给调用函数的参数是一个 分笔数据 的字典，与 "),s("code",[t._v("ContextInfo.get_full_tick()")]),t._v("的返回值一样。该字典的 key 对应的就是每一个订阅的品种代码，每个 key 对应的 value 还是一个字典（Dict），在该字典中即存放着对应的 品种代码 的最新报价数据。")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("on_quote")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("datas"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("datas"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    T "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subscribe_whole_quote"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" on_quote"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"订阅号为："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("T"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("\"\"\"\n运行结果\n订阅号为： 26\n其中 datas 是一个 分笔数据 的字典，其内容大致如下：\n\n{'000170.SH': {\n    'time': 1693884793805,             # 最近一次收到报价的时间\n    'stime': '20230905113313.805', \n    'lastPrice': 4850.68,              # 最新价\n    'amount': 19866300416.0,           # 成交额  今日累积 \n    'volume': 12083863,                # 成交量（手）今日累积  \n    'pvolume': 1208386304,             # 成交量（股）今日累积  \n    'openInt': 13,                     # 持仓量\n    'stockStatus': 1,                  # 股票状态 \n    'lastSettlementPrice': 0.0,        # 最新结算价（期货用）\n    'open': 4863.9,                    # 开盘价 \n    'high': 4865.89,                   # 最高价\n    'low': 4839.09,                    # 最低价\n    'settlementPrice': 0.0,            # 结算价    \n    'lastClose': 4883.29,              # 昨收盘价\n    'transactionNum': 0, \n    'askPrice': [0.0, 0.0, 0.0, 0.0, 0.0],  # 卖价五档 \n    'bidPrice': [0.0, 0.0, 0.0, 0.0, 0.0],  # 买价五档 \n    'askVol': [0, 0, 0, 0, 0],              # 卖量五档  \n    'bidVol': [0, 0, 0, 0, 0]               # 买量五档\n   }, \n '000867.SH':  {\n    'time': 1693884793805, \n    'stime': '20230905113313.805', \n    'lastPrice': 2054.43, \n    'amount': 3677979904.0, \n    'volume': 12047773, \n    'pvolume': 1204777344, \n    'openInt': 13, \n    'stockStatus': 1, \n    'lastSettlementPrice': 0.0, \n    'open': 2070.54, \n    'high': 2071.23, \n    'low': 2051.09, \n    'settlementPrice': 0.0, \n    'lastClose': 2071.52, \n    'transactionNum': 0, \n    'askPrice': [0.0, 0.0, 0.0, 0.0, 0.0], \n    'bidPrice': [0.0, 0.0, 0.0, 0.0, 0.0], \n    'askVol': [0, 0, 0, 0, 0], \n    'bidVol': [0, 0, 0, 0, 0]\n   }\n}\n\"\"\"")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br")])]),s("h3",{attrs:{id:"_3-16-反订阅行情数据contextinfo-unsubscribe-quote"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-16-反订阅行情数据contextinfo-unsubscribe-quote"}},[t._v("#")]),t._v(" 3.16 反订阅行情数据"),s("br"),t._v("ContextInfo.unsubscribe_quote()")]),t._v(" "),s("p",[t._v("功能： 如果之前使用过 "),s("code",[t._v("ContextInfo.subscribe_quote()")]),t._v(" 或 "),s("code",[t._v("ContextInfo.subscribe_whole_quote()")]),t._v(" 方法来订阅过行情数据，则会自动生成对应的订阅号。此时如果想取消订阅，即可用此方法，传入对应的订阅号即可。")]),t._v(" "),s("p",[t._v("语法： ContextInfo.unsubscribe_quote(subId)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("subId：行情订阅返回的订阅号")])]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    T1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subscribe_quote"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"600027.SH"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tick"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"none"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    T2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subscribe_quote"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"600000.SH"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tick"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"none"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    T3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("subscribe_quote"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"000010.SZ"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tick"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"none"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_all_subscription"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" k "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"订阅号为："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("k"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"对应的品种为："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("k"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stock_code'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        \n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("unsubscribe_quote"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("T1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 取消订阅 T1 600027.SH")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"========取消订阅后========================"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_all_subscription"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" k "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"订阅号为："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("k"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"对应的品种为："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("k"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stock_code'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果：\n订阅号为： 63 对应的品种为： 600027.SH\n订阅号为： 64 对应的品种为： 600000.SH\n订阅号为： 65 对应的品种为： 000010.SZ\n========取消订阅后========================\n订阅号为： 64 对应的品种为： 600000.SH\n订阅号为： 65 对应的品种为： 000010.SZ\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br")])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("以上4个有关 "),s("code",[t._v("subscribe")]),t._v("订阅行情的方法，是旧版的方法，实际中已几乎弃用。")])]),t._v(" "),s("h3",{attrs:{id:"_3-17-获取筹码分布-分价-完整档位数据get-chip-distribution"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-17-获取筹码分布-分价-完整档位数据get-chip-distribution"}},[t._v("#")]),t._v(" 3.17 获取筹码分布（分价）完整档位数据"),s("br"),t._v("get_chip_distribution()")]),t._v(" "),s("p",[t._v("功能： 获取筹码分布完整档位数据")]),t._v(" "),s("p",[t._v("语法： get_chip_distribution(stock_code, period, time)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("stock_code——str，合约代码")]),t._v(" "),s("li",[t._v("period——str，周期，目前仅支持日线 - '1d'")]),t._v(" "),s("li",[t._v("time——str，时间格式为'20201231'或'20201231093000'")])]),t._v(" "),s("p",[t._v("返回： 一个字典：其中的 key 值为 价格，对应的 value 即为该价格的成交量。")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("{\n price1: volume1, \n price2: volume2, \n ...\n}\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[s("img",{attrs:{src:n(302),alt:"筹码峰（分价）图例"}})]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_chip_distribution"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000001.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1d'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20210730'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果\n{1.76: 77057, 1.77: 1036973, 1.78: 4569153, 1.79: 8915689, 1.8: 11812067, 1.81: 12674887, 1.8199999999999998: 15296514, 1.83: 15627174, 1.8399999999999999: 11754403, 1.85: 10958208, 1.8599999999999999: 11655163, 1.87: 11894942, 1.88: 12139527, 1.8900000000000001: 11390879, 1.9: 12490094, 1.9100000000000001: 8650945, 1.92: 9108137, 1.9300000000000002: 8656432, 1.94: 8166178, 1.95: 5054632, 1.96: 5541973, 1.97: 5846457, 1.98: 4916237, 1.99: 4364013, 2.0: 6750606, 2.01: 5593591, 2.02: 5043607, 2.03: 5049569, 2.04: 7002185, 2.05: 9060798, 2.06: 9024885, 2.07: 5687880, 2.08: 4530077, 2.09: 2999774, 2.1: 2683479, 2.11: 2590133, 2.12: 2470753, 2.13: 1977601, 2.14: 2098021, 2.15: 1954859, 2.16: 1763790, 2.17: 1780889, 2.18: 1398368, 2.19: 1416188, 2.2: 1002104, 2.21: 749418, 2.22: 694715, 2.23: 589296, 2.24: 491357, 2.25: 546294, 2.26: 654860, 2.27: 676624, 2.2800000000000002: 618698, 2.29: 524735, 2.3: 376159, 2.31: 258452, 2.32: 206092, 2.33: 206635, 2.34: 246118, 2.35: 278052, 2.36: 481367, 2.37: 739283, 2.38: 878905, 2.39: 852924, 2.4: 735960, 2.41: 658182, 2.42: 586559, 2.43: 593200, 2.44: 555539, 2.45: 500903, 2.46: 445769, 2.4699999999999998: 367416, 2.48: 313680, 2.49: 292696, 2.5: 288422, 2.51: 284148, 2.52: 279874, 2.5300000000000002: 273631, 2.54: 249616, 2.55: 231401, 2.56: 213187, 2.57: 194973, 2.58: 184743, 2.59: 165205, 2.6: 178938, 2.61: 192673, 2.62: 206406, 2.63: 220141, 2.64: 233876, 2.65: 247610, 2.66: 200258, 2.67: 156415, 2.68: 112572, 2.69: 68729, 2.7: 34364, 2.71: 0}\n"""')]),t._v("    \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("p",[t._v("参考下图有助于理解此方法（函数）的功能，右侧即是筹码分布的图形指标，纵轴y为价格，横轴x为交易量。")]),t._v(" "),s("p",[s("img",{attrs:{src:n(303),alt:"筹码峰图例"}})]),t._v(" "),s("h3",{attrs:{id:"_3-18-获取筹码分布中指定价格所在的比例-get-winner-chips"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-18-获取筹码分布中指定价格所在的比例-get-winner-chips"}},[t._v("#")]),t._v(" 3.18 获取筹码分布中指定价格所在的比例 get_winner_chips()")]),t._v(" "),s("p",[t._v("功能： 获取筹码分布中指定价格所在的比例")]),t._v(" "),s("p",[t._v("语法： get_winner_chips(stock_code, period, time, price)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("stock_code——str，合约代码")]),t._v(" "),s("li",[t._v("period——str，周期，目前仅支持日线 - '1d'")]),t._v(" "),s("li",[t._v("time——str，时间格式为'20201231'或'20201231093000'")]),t._v(" "),s("li",[t._v("price——float，指定的价格")])]),t._v(" "),s("p",[t._v("返回： ratio：float，指定价格所在的比例")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    data02 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_winner_chips"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000001.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1d'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20230405'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23.04")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n2022年4月5日，品种 000001.SZ ，当天在价格 23.04 元的成交量占当天成交量的比例为："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data02"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果\n2022年4月5日，品种 000001.SZ ，当天在价格 23.04 元的成交量占当天成交量的比例为：0.9859408926072876\n\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("h3",{attrs:{id:"_3-19-获取筹码分布中指定比例所在的价格档位get-chips-price"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-19-获取筹码分布中指定比例所在的价格档位get-chips-price"}},[t._v("#")]),t._v(" 3.19 获取筹码分布中指定比例所在的价格档位"),s("br"),t._v('get_chips_price"()')]),t._v(" "),s("p",[t._v("功能： 获取筹码分布中指定比例所在的价格档位")]),t._v(" "),s("p",[t._v("语法： get_chips_price(stock_code, period, time, ratio)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("stock_code：str，合约代码")]),t._v(" "),s("li",[t._v("period：str，周期，目前仅支持日线 - '1d'")]),t._v(" "),s("li",[t._v("time：str，时间格式为'20201231'或'20201231093000'")]),t._v(" "),s("li",[t._v("ratio：float，指定的比例")])]),t._v(" "),s("p",[t._v("返回： price：float，指定比例所在的价格档位")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    data02 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_chips_price"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000001.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1d'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20220405'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.8")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n2022年4月5日，品种 000001.SZ ，当天成交量占 0.8 的价位为："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data02"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n2022年4月5日，品种 000001.SZ ，当天成交量占 0.8 的价位为：\n19.87\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("关于筹码分布的这3个方法（函数），其数值与其它软件中的 筹码峰 因计算方式不同，因此结果并不一致。")])]),t._v(" "),s("h3",{attrs:{id:"品种相关-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#品种相关-2"}},[t._v("#")]),t._v(" =====品种相关=====")]),t._v(" "),s("h3",{attrs:{id:"_3-20-根据代码获取合约详细信息-contextinfo-get-instrumentdetail"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-20-根据代码获取合约详细信息-contextinfo-get-instrumentdetail"}},[t._v("#")]),t._v(" 3.20 根据代码获取合约详细信息 "),s("br"),t._v("ContextInfo.get_instrumentdetail()")]),t._v(" "),s("p",[t._v("功能： 获取指定代码品种的合约详细信息")]),t._v(" "),s("p",[t._v("语法： ContextInfo.get_instrumentdetail(stockcode)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("stockcode：string，比如：某支股票代码 '600000.SH'")])]),t._v(" "),s("p",[t._v("返回： 根据stockcode返回一个字典（dict），其中包含的数据详见示例中的注释。")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_instrumentdetail"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("\"\"\"\n运行结果：\n{\n 'ExchangeID': 'SH',                # 交易所 ID\n 'InstrumentID': '600000',          # 品种代码\n 'InstrumentName': '浦发银行',       # 品种名称\n 'ProductID': None,                 # 产品 ID （期货品种）\n 'ProductName': None,               # 产品名称 （期货品种）\n 'CreateDate': 19991110,            # 创建日期 （期货品种）\n 'OpenDate': 19991110,              # 上市日期\n 'ExpireDate': 20991231,            # 过期日期\n 'PreClose': 7.04,                  # 前收盘价\n 'SettlementPrice': 0.0,            # 前结算价（期货品种）\n 'UpStopPrice': 7.74,               # 当日涨停价\n 'DownStopPrice': 6.34,             # 当日跌停价\n 'FloatVolumn': 29352170000.0,      # 流通股本\n 'TotalVolumn': 29352170000.0,      # 总股本\n 'LongMarginRatio': None,           # 多头保证金（期货品种）\n 'ShortMarginRatio': None,          # 空头保证金（期货品种）\n 'PriceTick': 0.01,                 # 报价最小跳动单位\n 'VolumeMultiple': 1,               # 合约单位（1手）\n 'MainContract': None,              # 主力合约标记（期货品种）\n 'LastVolume': 0,                   # 昨日持仓量\n 'InstrumentStatus': 0,             # 品种状态： 0 表示未停牌；n 表示已停牌n天, -1表示当天复牌\n 'IsTrading': True,                 # 是否可交易 True 表示可交易；False 表示不可交易\n 'IsRecent': None,                  # 是否近月合约（期货品种用）\n 'HSGTFlag': 0                      # 标的标记： 0: 非标的, 1: 沪港通标的, 2: 沪港通历史标的, 3: 深港通标的, 4:深港通历史标的, 5: 沪深港通标的, 6: 沪港通标的 深港通历史标的, 7: 沪港通历史标的 深港通标的, 8: 沪深港通历史标的\n}\n\"\"\"")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br")])]),s("p",[t._v("如想了解某一个品种的详细合约信息，用此方法足矣。字典中包含的数据已十分详细。")]),t._v(" "),s("h3",{attrs:{id:"_3-21-获取最新流通股本contextinfo-get-last-volume"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-21-获取最新流通股本contextinfo-get-last-volume"}},[t._v("#")]),t._v(" 3.21 获取最新流通股本"),s("br"),t._v("ContextInfo.get_last_volume()")]),t._v(" "),s("p",[t._v("功能： 获取最新流通股本。理论上与 方法   "),s("code",[t._v("ContextInfo.get_instrumentdetail()")]),t._v(" 返回的字典中的键 'FloatVolumn'对应的值是一致的。")]),t._v(" "),s("p",[t._v("语法：ContextInfo.get_last_volume(stockcode)")]),t._v(" "),s("p",[t._v("参数： string：必须是 'stock.market' 形式")]),t._v(" "),s("p",[t._v("返回： 整数型（int）")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    d "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_instrumentdetail"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000002.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n品种 000002.SZ 的流通股本（取字典中的KEY值 ）为："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'FloatVolumn'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n品种 000002.SZ 的流通股本（用方法获取）为："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_last_volume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000002.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果：\n品种 000002.SZ 的流通股本（取字典中的KEY值 ）为： 9716660000.0\n品种 000002.SZ 的流通股本（用方法获取）为： 9716660000\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br")])]),s("h3",{attrs:{id:"_3-22-获取总股数-本-contextinfo-get-total-share"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-22-获取总股数-本-contextinfo-get-total-share"}},[t._v("#")]),t._v(" 3.22 获取总股数（本）"),s("br"),t._v("ContextInfo.get_total_share()")]),t._v(" "),s("p",[t._v("功能： 获取总股本。理论上与 方法   "),s("code",[t._v("ContextInfo.get_instrumentdetail()")]),t._v(" 返回的字典中的键 'TotalVolumn'对应的值是一致的。")]),t._v(" "),s("p",[t._v("语法： ContextInfo.get_total_share(stockcode)")]),t._v(" "),s("p",[t._v("参数： stockcode：string，股票代码，如：'600000.SH'，默认为当前主图品种代码")]),t._v(" "),s("p",[t._v("返回： 整数型（int）")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    d "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_instrumentdetail"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600089.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n品种 600089.SH 的总股本（取字典中的KEY值 ）为："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("d"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'TotalVolumn'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n品种 600089.SH 的总股本（用方法获取）为："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_total_share"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600089.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n品种 600089.SH 的总股本（取字典中的KEY值 ）为： 5052790000.0\n\n品种 600089.SH 的总股本（用方法获取）为： 5052790000\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("p",[s("img",{attrs:{src:n(304),alt:"取总股本数据"}})]),t._v(" "),s("h3",{attrs:{id:"_3-23-获取换手率contextinfo-get-turnover-rate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-23-获取换手率contextinfo-get-turnover-rate"}},[t._v("#")]),t._v(" 3.23 获取换手率"),s("br"),t._v("ContextInfo.get_turnover_rate()")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("使用之前需要下载相关数据。如果未下载，将自动使用最新流通股本来计算历史换手率，结果可能不正确。")]),t._v(" "),s("p",[t._v("具体操作如下：")]),t._v(" "),s("p",[t._v("1 点击菜单栏中的“操作”--\x3e“数据管理”，在弹出的 数据管理 窗口中， 点击 数据选项 框右侧的 2 下三角，显示下拦菜单，选中其中相应的数据，然后在右侧选择 数据范围，确定时间段，建议最近1周或最近1月即可，最后点击窗口右下方的 “开始”按钮。")])]),t._v(" "),s("p",[s("img",{attrs:{src:n(305),alt:"取换手率数据"}})]),t._v(" "),s("p",[t._v("功能： 获取换手率")]),t._v(" "),s("p",[t._v("语法： ContextInfo.get_turnover_rate(stock_list,startTime,endTime)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("stock_list —— 股票列表，list,如['600000.SH','000001.SZ']")]),t._v(" "),s("li",[t._v("startTime —— 起始时间，如'20170101'")]),t._v(" "),s("li",[t._v("endTime —— 结束时间，如'20180101'")])]),t._v(" "),s("p",[t._v("返回： Pandas 的数据帧 dataframe")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_turnover_rate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000002.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20200901'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20200905'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果：\n           000002.SZ\n20200901   0.010809\n20200904   0.010958\n如果未提前下载好，则可能返回空数据，或不准确的数据。\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h3",{attrs:{id:"_3-24-根据代码获取对应股票的内盘-外盘成交量contextinfo-get-svol-contextinfo-get-bvol"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-24-根据代码获取对应股票的内盘-外盘成交量contextinfo-get-svol-contextinfo-get-bvol"}},[t._v("#")]),t._v(" 3.24 根据代码获取对应股票的内盘/外盘成交量"),s("br"),t._v("ContextInfo.get_svol()"),s("br"),t._v("ContextInfo.get_bvol()")]),t._v(" "),s("p",[t._v("功能： 获取指定品种代码对应股票的内盘/外盘成交量。")]),t._v(" "),s("p",[t._v("语法："),s("br"),t._v("ContextInfo.get_svol(stockcode)"),s("br"),t._v("ContextInfo.get_bvol(stockcode)")]),t._v(" "),s("p",[t._v("参数： stockcode —— 股票代码，如 '000001.SZ'，默认为当前图品种代码")]),t._v(" "),s("p",[t._v("返回： int 整数型")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"股票品种 000001.SZ 的内盘成交量为：\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_svol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000001.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"股票品种 000001.SZ 的外盘成交量为：\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_bvol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000001.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果：\n股票品种 000001.SZ 的内盘成交量为：\n 0\n股票品种 000001.SZ 的外盘成交量为： 0\n"""')]),t._v("\n    \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br")])]),s("h3",{attrs:{id:"_3-25-获取行业成份股contextinfo-get-industry"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-25-获取行业成份股contextinfo-get-industry"}},[t._v("#")]),t._v(" 3.25 获取行业成份股"),s("br"),t._v("ContextInfo.get_industry()")]),t._v(" "),s("p",[t._v("功能： 类似 "),s("code",[t._v("ContextInfo.get_stock_list_in_sector()")]),t._v("方法。用来获取行业成份股的品种。")]),t._v(" "),s("p",[t._v("语法： ContextInfo.get_industry(industry)")]),t._v(" "),s("p",[t._v("参数： string：如 'CSRC1矿业'")]),t._v(" "),s("p",[t._v("返回： list：内含成份股代码，里面股票代码为 '000002.SZ' 形式")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CSRC1采矿业 中包含哪些股票："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_industry"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CSRC1采矿业'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("\"\"\"\n运行结果：\n['600028.SH', '600121.SH', '600123.SH', '600188.SH', '600256.SH', '600259.SH', '600338.SH', '600339.SH', '600348.SH', '600395.SH', '600397.SH', '600403.SH', '600489.SH', '600497.SH', '600508.SH', '600547.SH', '600583.SH', '600711.SH', '600758.SH', '600759.SH', '600777.SH', '600871.SH', '600925.SH', '600938.SH', '600968.SH', '600971.SH', '600985.SH', '600988.SH', '601001.SH', '601020.SH', '601069.SH', '601088.SH', '601101.SH', '601121.SH', '601168.SH', '601225.SH', '601666.SH', '601699.SH', '601808.SH', '601857.SH', '601898.SH', '601899.SH', '601918.SH', '601958.SH', '601969.SH', '603132.SH', '603505.SH', '603619.SH', '603727.SH', '603979.SH', '603993.SH', '605086.SH', '000426.SZ', '000506.SZ', '000552.SZ', '000603.SZ', '000655.SZ', '000688.SZ', '000758.SZ', '000762.SZ', '000923.SZ', '000937.SZ', '000968.SZ', '000975.SZ', '000983.SZ', '001203.SZ', '001337.SZ', '002128.SZ', '002155.SZ', '002192.SZ', '002207.SZ', '002554.SZ', '002629.SZ', '002683.SZ', '002828.SZ', '002978.SZ', '300084.SZ', '300157.SZ', '300164.SZ', '300191.SZ', '300483.SZ']\n\"\"\"")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("h3",{attrs:{id:"_3-26-获取指数成份股contextinfo-get-sector"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-26-获取指数成份股contextinfo-get-sector"}},[t._v("#")]),t._v(" 3.26 获取指数成份股"),s("br"),t._v("ContextInfo.get_sector()")]),t._v(" "),s("p",[t._v("功能： 类似 "),s("code",[t._v("ContextInfo.get_stock_list_in_sector()")]),t._v("方法。获取板块成份股，只支持取指数中的成份股品种。")]),t._v(" "),s("p",[t._v("语法： ContextInfo.get_sector(sector, realtime)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("string：必须是 ‘stock.market’ 形式，如 ‘000300.SH’ ，可取如沪深300（000300.SH）、中证500（000905.SH）、上证50（000016.SH）等指数的历史成份股")]),t._v(" "),s("li",[t._v("realtime：毫秒级时间戳，如不填则默认取目前最新成份股")])]),t._v(" "),s("p",[t._v("返回： list：内含成份股代码，里面股票代码为 ‘000002.SZ’ 形式")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"指数 上证50（000016.SH） 中包含哪些股票："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_sector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000016.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("\"\"\"\n执行结果\n指数 上证50（000016.SH） 中包含哪些股票：\n['600010.SH', '600028.SH', '600030.SH', '600031.SH', '600036.SH', '600048.SH', '600050.SH', '600089.SH', '600104.SH', '600111.SH', '600196.SH', '600276.SH', '600309.SH', '600406.SH', '600436.SH', '600438.SH', '600519.SH', '600690.SH', '600745.SH', '600809.SH', '600887.SH', '600893.SH', '600900.SH', '600905.SH', '601012.SH', '601066.SH', '601088.SH', '601166.SH', '601225.SH', '601288.SH', '601318.SH', '601390.SH', '601398.SH', '601628.SH', '601633.SH', '601668.SH', '601669.SH', '601728.SH', '601857.SH', '601888.SH', '601899.SH', '601919.SH', '603259.SH', '603260.SH', '603288.SH', '603501.SH', '603799.SH', '603986.SH', '688111.SH', '688599.SH']\n\"\"\"")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h3",{attrs:{id:"_3-27-获取某只股票在某指数中的绝对权重contextinfo-get-weight-in-index"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-27-获取某只股票在某指数中的绝对权重contextinfo-get-weight-in-index"}},[t._v("#")]),t._v(" 3.27 获取某只股票在某指数中的绝对权重"),s("br"),t._v("ContextInfo.get_weight_in_index()")]),t._v(" "),s("p",[t._v("语法： ContextInfo.get_weight_in_index(indexcode, stockcode)")]),t._v(" "),s("p",[t._v("功能： 获取某只股票在某指数中的绝对权重")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("indexcode：string，指数代码，形式如 'stockcode.market'，如 '000300.SH'")]),t._v(" "),s("li",[t._v("stockcode：string，股票代码，形式如 'stockcode.market'，如 '600004.SH'")])]),t._v(" "),s("p",[t._v("返回： number：返回的数值单位是 %，如 1.6134 表示权重是 1.6134%")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n股票 000002.SZ 在指数 沪深300 （000300）中所占的权重为："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_weight_in_index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000300.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000002.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("' %'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果：\n股票 000002.SZ 在指数 沪深300 （000300）中所占的权重为：0.501  %\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("h3",{attrs:{id:"_3-28-获取财务数据contextinfo-get-financial-data"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-28-获取财务数据contextinfo-get-financial-data"}},[t._v("#")]),t._v(" 3.28 获取财务数据"),s("br"),t._v("ContextInfo.get_financial_data()")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("a .需要提前下载 “财务数据”。")]),t._v(" "),s("p",[t._v("b. 此方法（函数）是一个 重载函数，即拥有2套参数列表。传入不同的参数，返回的结果也不一样。")]),t._v(" "),s("p",[t._v("c. 必须提前导入 Pandas 模块")])]),t._v(" "),s("p",[t._v("功能：此方法用于获取财务数据，与界面中按 F10 键功能对应。\n语法一：\nContextInfo.get_financial_data(fieldList,stockList,startDate,endDate,report_type='announce_time')\n语法二：\nContextInfo.get_financial_data(tabname,colname,market,code,report_type='report_time',barpos)\n参数：\nfieldList —— 字段列表。对应 财务分析 中的报表；")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[s("strong",[t._v("报表名称")])]),t._v(" "),s("th",[s("strong",[t._v("内置字符串")])]),t._v(" "),s("th",[s("strong",[t._v("原生字符串")])])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("资产负债表")]),t._v(" "),s("td",[t._v("ASHAREBALANCESHEET")]),t._v(" "),s("td",[t._v("Balance")])]),t._v(" "),s("tr",[s("td",[t._v("利润表")]),t._v(" "),s("td",[t._v("ASHAREINCOME")]),t._v(" "),s("td",[t._v("Income")])]),t._v(" "),s("tr",[s("td",[t._v("现金流表")]),t._v(" "),s("td",[t._v("ASHARECASHFLOW")]),t._v(" "),s("td",[t._v("CashFlow")])]),t._v(" "),s("tr",[s("td",[t._v("股本表")]),t._v(" "),s("td",[t._v("CAPITALSTRUCTURE")]),t._v(" "),s("td",[t._v("Capital")])]),t._v(" "),s("tr",[s("td",[t._v("主要指标")]),t._v(" "),s("td",[t._v("PERSHAREINDEX")]),t._v(" "),s("td",[t._v("PershareIndex")])]),t._v(" "),s("tr",[s("td",[t._v("十大股东/十大流通股东")]),t._v(" "),s("td",[t._v("TOP10HOLDER/TOP10FLOWHOLDER")]),t._v(" "),s("td",[t._v("Top10holder/Top10flowholder")])]),t._v(" "),s("tr",[s("td",[t._v("股东数")]),t._v(" "),s("td",[t._v("SHAREHOLDER")]),t._v(" "),s("td",[t._v("Holdernum")])])])]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("以上表格中分别包括不同的字段，需配合下面的参数来获取具体的值。")])]),t._v(" "),s("p",[t._v("stockList —— 列表（List），想要查询的股票代码列表。如：['600000.SH', '000001.SZ']\nStartDate,endDate —— 查询时间段的开始时间和结束时间，格式如：“20220301”。\nreport_type —— 报表时间类型。此参数可省缺 ，默认按公告期区分数据。'report_time' 表示按报告时间，' announce_time' 表示按公告时间")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("'report_time' 和 ' announce_time' 的区别：\n若某公司当年 4 月 26 日发布上年度年报，如果选择按照公告期取数，则当年 4 月 26 日之后至下个财报发布日期之间的数据都是上年度年报的财务数据。\n若选择按照报告期取数，则上年度第 4 季度（上年度 10 月 1 日 - 12 月 31 日）的数据就是上年度报告期的数据。")])]),t._v(" "),s("p",[t._v("返回：根据参数不同，返回的结果也不同。有可能是一个 Pandas 的数据帧，也可能是一个数值。具体详情请参考官方文档中的 “财务数据接口”章节。\n“https://dict.thinktrader.net/dictionary/stock.html?id=PN4WZC#%E8%B4%A2%E5%8A%A1%E6%95%B0%E6%8D%AE%E5%88%97%E8%A1%A8”")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    fieldList "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ASHAREBALANCESHEET.tot_liab'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("   \n    stockList "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"000001.SZ"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"600000.SH"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    startDate "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20220920'")]),t._v("\n    endDate "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20220930'")]),t._v("\n    data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_financial_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fieldList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" stockList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" startDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" endDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" report_type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'report_time'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" 600000.SH 浦发银行 2022年9月底公布的 资产负债表中，负债合计是："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"600000.SH"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20220930'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" 0000001.SZ 平安银行 2022年9月底公布的 资产负债表中，负债合计是："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"000001.SZ"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20220930'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""运行结果：\n600000.SH 浦发银行 2022年9月底公布的 资产负债表中，负债合计是：\ntot_liab    8.685534e+12\nName: 20220930, dtype: float64\n\n 0000001.SZ 平安银行 2022年9月底公布的 资产负债表中，负债合计是：\ntot_liab    5.255519e+12Name: 20220930, dtype: float64\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br")])]),s("p",[t._v("其实直接中文汉字也是可以的，如：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    fieldList "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'资产负债表.负债合计'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("   \n    stockList "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"000001.SZ"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"600000.SH"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    startDate "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20220920'")]),t._v("\n    endDate "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20220930'")]),t._v("\n    data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_financial_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fieldList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" stockList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" startDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" endDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" report_type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'report_time'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" 600000.SH 浦发银行 2022年9月底公布的 资产负债表中，负债合计是："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"600000.SH"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20220930'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('" 0000001.SZ 平安银行 2022年9月底公布的 资产负债表中，负债合计是："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"000001.SZ"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20220930'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n600000.SH 浦发银行 2022年9月底公布的 资产负债表中，负债合计是：\n负债合计    8.685534e+12\nName: 20220930, dtype: float64\n 0000001.SZ 平安银行 2022年9月底公布的 资产负债表中，负债合计是：\n负债合计    5.255519e+12Name: 20220930, dtype: float64\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br")])]),s("h3",{attrs:{id:"_3-29-获取原始财务数据contextinfo-get-raw-financial-data"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-29-获取原始财务数据contextinfo-get-raw-financial-data"}},[t._v("#")]),t._v(" 3.29 获取原始财务数据"),s("br"),t._v("ContextInfo.get_raw_financial_data()")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("此方法与 与get_financial_data的区别是，不填充每个交易日的数据")])]),t._v(" "),s("p",[t._v("功能：此方法用于获取财务数据，与界面中按 F10 键功能对应。\n语法一：\nContextInfo.get_raw_financial_data(fieldList,stockList,startDate,endDate,report_type='announce_time')\n参数：\nfieldList —— 字段列表。对应 财务分析 中的报表与 get_financial_data() 相同；\nstockList —— 列表（List），想要查询的股票代码列表。如：['600000.SH', '000001.SZ']\nStartDate,endDate —— 查询时间段的开始时间和结束时间，格式如：“20220301”。\nreport_type —— 报表时间类型。此参数可省缺 ，默认按公告期区分数据。'report_time' 表示按报告时间，' announce_time' 表示按公告时间")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-Python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    fieldList "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'资产负债表.负债合计'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("   \n    stockList "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"000001.SZ"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    startDate "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20240920'")]),t._v("\n    endDate "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20240930'")]),t._v("\n    df"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_raw_financial_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fieldList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("stockList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("startDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("endDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("report_type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'report_time'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取原始财务数据")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""运行结果：\n {\'000001.SZ\': {\'资产负债表.负债合计\': {1727625600000: 5255519010816.0}}}\n其中 1727625600000 是时间戳\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("h3",{attrs:{id:"_3-30-获取指定个股-合约-指数的-k-线-交易日-列表-contextinfo-get-trading-dates"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-30-获取指定个股-合约-指数的-k-线-交易日-列表-contextinfo-get-trading-dates"}},[t._v("#")]),t._v(" 3.30 获取指定个股 / 合约 / 指数的 K 线（交易日）列表"),s("br"),t._v(" ContextInfo.get_trading_dates()")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("此方法在 "),s("code",[t._v("init()")]),t._v("  中是无效的，可在 "),s("code",[t._v("after_init()")]),t._v(" 中使用。当然也可以在 "),s("code",[t._v("handlebar()")]),t._v(" 中使用。但基本没什么用。")])]),t._v(" "),s("p",[t._v("功能： 指定某个个股 / 合约 / 指数的 K 线（交易日）列表。")]),t._v(" "),s("p",[t._v("语法： ContextInfo.get_trading_dates(stockcode, start_date, end_date, count, period)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("stockcode —— string，某一支股票的代码如 '600000.SH'，默认为当前图代码。")]),t._v(" "),s("li",[t._v("start_date —— string，开始时间，为空时不使用，如 '20170101'，'20170101000000'")]),t._v(" "),s("li",[t._v("end_date —— string，结束时间，默认为当前bar的时间，如 '20170102'，'20170102000000'")]),t._v(" "),s("li",[t._v("count —— int，K 线个数，必须大于 0，取包括 end_date 往前的 count 个 K 线，start_date 不为空时不使用")]),t._v(" "),s("li",[t._v("period —— string，时间周期。如：'1d'：日线、'1m'：1分钟线、'1h'：小时线")])]),t._v(" "),s("p",[t._v("返回： 一个列表List，其中包括 交易日，period为日线时返回 ['20170101', '20170102', ...]，其它返回['20170101010000', '20170102020000', ...]。有数据表示对应的时间上有K线数据")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_trading_dates"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20170101'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20170401'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1d'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h3",{attrs:{id:"_3-31-获取龙虎榜数据contextinfo-get-longhubang"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-31-获取龙虎榜数据contextinfo-get-longhubang"}},[t._v("#")]),t._v(" 3.31 获取龙虎榜数据"),s("br"),t._v("ContextInfo.get_longhubang()")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("使用前需要提前下载 “龙虎榜数据”")])]),t._v(" "),s("p",[t._v("功能： 获取龙虎榜数据。")]),t._v(" "),s("p",[t._v("语法：ContextInfo.get_longhubang(stock_list, startTime, endTime)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("p",[t._v("stock_list——股票列表，list，如 ['600000.SH', '600036.SH']")]),t._v(" "),s("p",[t._v("startTime——起始时间，如 '20170101'")]),t._v(" "),s("p",[t._v("endTime——结束时间，如 '20180101'")]),t._v(" "),s("p",[t._v("返回： Pandas 数据帧 Dataframe，其中包含的信息请见示例：")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_longhubang"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600027.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20190101'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20230910'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果：\nstockCode stockName                 date                                  reason close SpreadRate TurnoverVolume Turnover_Amount                                     buyTraderBooth                                    sellTraderBooth\n0  600027.SH      华电国际  2021-09-23 00:00:00  非ST、*ST和S证券连续三个交易日内收盘价格涨幅偏离值累计达到20%的证券  5.44       8.15     76530.1299     388755.6709    traderName     buyAmount buyPercent sellAmou...                    traderName buyAmount buyPerc...\n1  600027.SH      华电国际  2021-10-20 00:00:00              有价格涨跌幅限制的日收盘价格涨幅偏离值达到7%的证券  4.48      10.07     11636.7716      50368.3519                      traderName    buyAmount bu...               traderName buyAmount buyPercent  ...\n2  600027.SH      华电国际  2021-10-27 00:00:00                  有价格涨跌幅限制的日价格振幅达到15%的证券  4.68       8.84     27722.0452     125135.0469            traderName    buyAmount buyPercent s...                   traderName buyAmount buyPerce...\n3  600027.SH      华电国际  2021-12-07 00:00:00  非ST、*ST和S证券连续三个交易日内收盘价格涨幅偏离值累计达到20%的证券  4.67       7.85     73638.2808     314165.6832                 traderName     buyAmount buyPer...               traderName buyAmount buyPercent  ...\n4  600027.SH      华电国际  2022-02-25 00:00:00              有价格涨跌幅限制的日收盘价格涨幅偏离值达到7%的证券  4.35      10.13     15628.7642      65477.1779                 traderName    buyAmount buyPerc...               traderName buyAmount buyPercent  ...\n5  600027.SH      华电国际  2022-09-07 00:00:00  非ST、*ST和S证券连续三个交易日内收盘价格涨幅偏离值累计达到20%的证券  6.94       9.98     40982.4477     256002.9234    traderName     buyAmount buyPercent sellAmou...    traderName buyAmount buyPercent    sellAmoun...\n6  600027.SH      华电国际  2022-10-11 00:00:00              有价格涨跌幅限制的日收盘价格涨幅偏离值达到7%的证券  6.47      10.03      7713.4191      48472.8911                  traderName    buyAmount buyPer...                  traderName buyAmount buyPercen...\n7  600027.SH      华电国际  2022-11-29 00:00:00              有价格涨跌幅限制的日收盘价格跌幅偏离值达到7%的证券  5.94      -6.01     12295.4677      74357.9426    traderName   buyAmount buyPercent sellAmount...    traderName buyAmount buyPercent    sellAmoun...\n8  600027.SH      华电国际  2023-01-03 00:00:00              有价格涨跌幅限制的日收盘价格涨幅偏离值达到7%的证券  6.47      10.03     14498.3965      90578.7301                traderName     buyAmount buyPerc...            traderName buyAmount buyPercent   se...9  600027.SH      华电国际  2023-05-29 00:00:00              有价格涨跌幅限制的日收盘价格涨幅偏离值达到7%的证券  7.12      10.05     19955.4837     137691.0019            traderName     buyAmount buyPercent ...                   traderName buyAmount buyPerce...\n"""')]),t._v("    \n    \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br")])]),s("p",[t._v("其中字段的表达意义如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("字段名称")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("reason")]),t._v(" "),s("td",[t._v("上榜原因")])]),t._v(" "),s("tr",[s("td",[t._v("close")]),t._v(" "),s("td",[t._v("收盘价")])]),t._v(" "),s("tr",[s("td",[t._v("spreadRate")]),t._v(" "),s("td",[t._v("涨跌幅")])]),t._v(" "),s("tr",[s("td",[t._v("TurnoverVolune")]),t._v(" "),s("td",[t._v("成交量")])]),t._v(" "),s("tr",[s("td",[t._v("Turnover_Amount")]),t._v(" "),s("td",[t._v("成交金额")])]),t._v(" "),s("tr",[s("td",[t._v("buyTraderBooth")]),t._v(" "),s("td",[t._v("买方席位,datframe")])]),t._v(" "),s("tr",[s("td",[t._v("sellTraderBooth")]),t._v(" "),s("td",[t._v("卖方席位,datframe")])])])]),t._v(" "),s("p",[t._v("buyTraderBooth 或 sellTraderBooth 包含字段：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("字段名称")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("traderName")]),t._v(" "),s("td",[t._v("交易营业部名称")])]),t._v(" "),s("tr",[s("td",[t._v("buyAmount")]),t._v(" "),s("td",[t._v("买入金额")])]),t._v(" "),s("tr",[s("td",[t._v("buyPercent")]),t._v(" "),s("td",[t._v("买入金额占总成交占比")])]),t._v(" "),s("tr",[s("td",[t._v("sellAmount")]),t._v(" "),s("td",[t._v("卖出金额")])]),t._v(" "),s("tr",[s("td",[t._v("sellPercent")]),t._v(" "),s("td",[t._v("卖出金额占总成交占比")])]),t._v(" "),s("tr",[s("td",[t._v("totalAmount")]),t._v(" "),s("td",[t._v("该席位总成交金额")])]),t._v(" "),s("tr",[s("td",[t._v("rank")]),t._v(" "),s("td",[t._v("席位排行")])]),t._v(" "),s("tr",[s("td",[t._v("direction")]),t._v(" "),s("td",[t._v("买卖方向")])])])]),t._v(" "),s("p",[s("img",{attrs:{src:n(306),alt:""}})]),t._v(" "),s("h3",{attrs:{id:"_3-32-获取十大股东数据contextinfo-get-top10-share-holder"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-32-获取十大股东数据contextinfo-get-top10-share-holder"}},[t._v("#")]),t._v(" 3.32 获取十大股东数据"),s("br"),t._v("ContextInfo.get_top10_share_holder()")]),t._v(" "),s("p",[t._v("功能： 获取十大股东数据。")]),t._v(" "),s("p",[t._v("语法： get_top10_share_holder(self, stock_list, data_name, start_time, end_time)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("data_name —— flow_holder 或 holder")]),t._v(" "),s("li",[t._v("stock_list —— 股票列表，list，如['600000.SH', '600036.SH']")]),t._v(" "),s("li",[t._v("startTime —— 起始时间，如 '20170101'")]),t._v(" "),s("li",[t._v("endTime —— 结束时间，如 '20180101'")])]),t._v(" "),s("p",[t._v("返回：Pandas 数据类型")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-Python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    df "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_top10_share_holder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600027.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'flow_holder'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20230101'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20230101'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\n'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("table",[s("thead",[s("tr",[s("th",[t._v("字段名称")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("holdName")]),t._v(" "),s("td",[t._v("股东名称")])]),t._v(" "),s("tr",[s("td",[t._v("holderType")]),t._v(" "),s("td",[t._v("持股类型")])]),t._v(" "),s("tr",[s("td",[t._v("holdNum")]),t._v(" "),s("td",[t._v("持股数量")])]),t._v(" "),s("tr",[s("td",[t._v("changReason")]),t._v(" "),s("td",[t._v("变动原因")])]),t._v(" "),s("tr",[s("td",[t._v("holdRatio")]),t._v(" "),s("td",[t._v("持股比例")])]),t._v(" "),s("tr",[s("td",[t._v("stockType")]),t._v(" "),s("td",[t._v("股份性质")])]),t._v(" "),s("tr",[s("td",[t._v("rank")]),t._v(" "),s("td",[t._v("持股排名")])]),t._v(" "),s("tr",[s("td",[t._v("status")]),t._v(" "),s("td",[t._v("持股状态")])]),t._v(" "),s("tr",[s("td",[t._v("changNum")]),t._v(" "),s("td",[t._v("增减数量")])]),t._v(" "),s("tr",[s("td",[t._v("changeRatio")]),t._v(" "),s("td",[t._v("增减比例")])])])]),t._v(" "),s("h3",{attrs:{id:"_3-33-获取股东数数据contextinfo-get-holder-num"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-33-获取股东数数据contextinfo-get-holder-num"}},[t._v("#")]),t._v(" 3.33 获取股东数数据"),s("br"),t._v("ContextInfo.get_holder_num()")]),t._v(" "),s("p",[t._v("功能： 获取股东数数据。")]),t._v(" "),s("p",[t._v("语法： ContextInfo.get_holder_num(stock_list,start_time,end_time)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("stock_list —— 股票列表,list,如['600000.SH','600036.SH']")]),t._v(" "),s("li",[t._v("startTime —— 起始时间,如'20170101'")]),t._v(" "),s("li",[t._v("endTime —— 结束时间,如'20180101'")])]),t._v(" "),s("p",[t._v("返回： pd.DataFrame，字段如下")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("字段名称")]),t._v(" "),s("th",[t._v("说明")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("stockCode")]),t._v(" "),s("td",[t._v("产品代码")])]),t._v(" "),s("tr",[s("td",[t._v("timetag")]),t._v(" "),s("td",[t._v("日期")])]),t._v(" "),s("tr",[s("td",[t._v("holdNum")]),t._v(" "),s("td",[t._v("股东总数")])]),t._v(" "),s("tr",[s("td",[t._v("AHoldNum")]),t._v(" "),s("td",[t._v("A股股东户数")])]),t._v(" "),s("tr",[s("td",[t._v("BHoldNum")]),t._v(" "),s("td",[t._v("B股股东户数")])]),t._v(" "),s("tr",[s("td",[t._v("HHoldNum")]),t._v(" "),s("td",[t._v("H股股东户数")])]),t._v(" "),s("tr",[s("td",[t._v("uncirculatedHoldNum")]),t._v(" "),s("td",[t._v("已流通股东户数")])]),t._v(" "),s("tr",[s("td",[t._v("circulatedHoldNum")]),t._v(" "),s("td",[t._v("未流通股东户数")])])])]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    df "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("  ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_holder_num"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000002.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20100101'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20180101'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\n'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("df"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("h3",{attrs:{id:"用于期货市场"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用于期货市场"}},[t._v("#")]),t._v(" =====用于期货市场=====")]),t._v(" "),s("p",[t._v("在迅投QMT中，国内各期货市场的简称代码，参照表如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("市场")]),t._v(" "),s("th",[t._v("市场代码")]),t._v(" "),s("th",[t._v("迅投市场代码")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("上期所")]),t._v(" "),s("td",[t._v("SHFE")]),t._v(" "),s("td",[t._v("SF")])]),t._v(" "),s("tr",[s("td",[t._v("大商所")]),t._v(" "),s("td",[t._v("DCE")]),t._v(" "),s("td",[t._v("DF")])]),t._v(" "),s("tr",[s("td",[t._v("郑商所")]),t._v(" "),s("td",[t._v("CZCE")]),t._v(" "),s("td",[t._v("ZF")])]),t._v(" "),s("tr",[s("td",[t._v("中金所")]),t._v(" "),s("td",[t._v("CFFEX")]),t._v(" "),s("td",[t._v("IF")])]),t._v(" "),s("tr",[s("td",[t._v("能源中心")]),t._v(" "),s("td",[t._v("INE")]),t._v(" "),s("td",[t._v("INE")])]),t._v(" "),s("tr",[s("td",[t._v("广期所")]),t._v(" "),s("td",[t._v("GFEX")]),t._v(" "),s("td",[t._v("GF")])])])]),t._v(" "),s("h3",{attrs:{id:"_3-34-获取当前期货主力合约contextinfo-get-main-contract"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-34-获取当前期货主力合约contextinfo-get-main-contract"}},[t._v("#")]),t._v(" 3.34 获取当前期货主力合约"),s("br"),t._v("ContextInfo.get_main_contract()")]),t._v(" "),s("p",[t._v("功能： 获取当前期货主力合约。")]),t._v(" "),s("p",[t._v("语法： ContextInfo.get_main_contract(codemarket)")]),t._v(" "),s("p",[t._v("参数： codemarket —— 合约和市场，合约格式为品种名加00，如“IF00.IF”，“zn00.SF”")]),t._v(" "),s("p",[t._v("返回： 字符串str，合约代码")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"当前主力合约的代码:"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_main_contract"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IF00.IF'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果：\n当前主力合约的代码: IF2009\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("h3",{attrs:{id:"_3-35-获取合约乘数contextinfo-get-contract-multiplier"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-35-获取合约乘数contextinfo-get-contract-multiplier"}},[t._v("#")]),t._v(" 3.35 获取合约乘数"),s("br"),t._v("ContextInfo.get_contract_multiplier()")]),t._v(" "),s("p",[t._v("功能： 获取合约乘数。")]),t._v(" "),s("p",[t._v("语法： ContextInfo.get_contract_multiplier(contractcode)")]),t._v(" "),s("p",[t._v("参数： contractcode —— 字符串型。合约代码， 'code.market'，如：“IF1707.IF”")]),t._v(" "),s("p",[t._v("返回： 数值")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"合约 IF1707.IF 的乘数:"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_contract_multiplier"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IF1707.IF'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果：\n合约 IF1707.IF 的乘数: 300\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("h3",{attrs:{id:"_3-36-获取期货合约到期日contextinfo-get-contract-expire-date"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-36-获取期货合约到期日contextinfo-get-contract-expire-date"}},[t._v("#")]),t._v(" 3.36 获取期货合约到期日"),s("br"),t._v("ContextInfo.get_contract_expire_date()")]),t._v(" "),s("p",[t._v("功能： 获取期货合约到期日。")]),t._v(" "),s("p",[t._v("语法： ContextInfo.get_contract_expire_date(codemarket)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("Codemarket —— 合约和市场,如IF00.IF,zn00.SF")])]),t._v(" "),s("p",[t._v("返回：整数值 int，表示合约到期日")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"合约 IF00.IF 的到期日是:"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_contract_expire_date"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IF00.IF'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果：\n合约 IF00.IF 的到期日是: 20230915\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("h3",{attrs:{id:"_3-37-获取指定期权品种的详细信息contextinfo-get-option-detail-data"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-37-获取指定期权品种的详细信息contextinfo-get-option-detail-data"}},[t._v("#")]),t._v(" 3.37 获取指定期权品种的详细信息"),s("br"),t._v("ContextInfo.get_option_detail_data()")]),t._v(" "),s("p",[t._v("功能： 获取指定期权品种的详细信息。")]),t._v(" "),s("p",[t._v("语法： ContextInfo.get_option_detail_data(optioncode)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("optioncode —— 期权代码,如'10001506.SHO',参数必填，可以为空字符串，则取当前主图的品种")])]),t._v(" "),s("p",[t._v("返回：一个字典。其中包含的信息请参考示例")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\n期权品种 10001506.SHO 的详细信息如下：'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_option_detail_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'10001506.SHO'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("\"\"\"\n期权品种 10001506.SHO 的详细信息如下：\n{'ExchangeID': 'SHO',                          # 期权市场代码\n 'InstrumentID': '10001506',                   # 期权代码\n 'ProductID': '50ETF(510050)',                 # 期权标的的产品ID\n 'OpenDate': 20181025,                         # 发行日期\n 'ExpireDate': 20190626,                       # 到期日\n 'PreClose': 0.3711,                           # 前收价格\n 'SettlementPrice': 0.3701,                    # 前结算价格\n 'UpStopPrice': 0.662,                         # 当日涨停价 \n 'DownStopPrice': 0.0001,                      # 当日跌停价\n 'LongMarginRatio': 12.0,                      # 多头保证金率\n 'ShortMarginRatio': 7.0,                      # 空头保证金率\n 'PriceTick': 0.0001,                          # 最小变价单位 \n 'VolumeMultiple': 10202,                      # 合约乘数\n 'MaxMarketOrderVolume': 10,                   # 涨跌停价最大下单量\n 'MinMarketOrderVolume': 1,                    # 涨跌停价最小下单量\n 'MaxLimitOrderVolume': 1,                     # 限价单最大下单量\n 'MinLimitOrderVolume': 1,                     # 限价单最小下单量\n 'OptUnit': 1.7976931348623157e+308,           # 期权合约单位\n 'MarginUnit': 7349.32,                        # 期权单位保证金\n 'OptUndlCode': '',                            # 期权标的证券代码\n 'OptUndlMarket': '',                          # 期权标的证券市场\n 'OptExercisePrice': 2.549,                    # 期权行权价\n 'NeeqExeType': 0,                             # 全国股转转让类型\n 'OptUndlRiskFreeRate': 1.7976931348623157e+308,   # 期权标的无风险利率\n 'OptUndlHistoryRate': 1.7976931348623157e+308,    # 期权标的历史波动率\n 'EndDelivDate': 20190626,                         # 期权行权终止日\n 'optType': 'CALL'\n}\n\"\"\"")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br")])]),s("h3",{attrs:{id:"_3-38-获取指定期权标的对应的期权品种列表contextinfo-get-option-undl-data"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-38-获取指定期权标的对应的期权品种列表contextinfo-get-option-undl-data"}},[t._v("#")]),t._v(" 3.38 获取指定期权标的对应的期权品种列表"),s("br"),t._v("ContextInfo.get_option_undl_data()")]),t._v(" "),s("p",[t._v("功能： 获取指定期权标的对应的期权品种列表。")]),t._v(" "),s("p",[t._v("语法： ContextInfo.get_option_undl_data(undl_code_ref)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("undl_code_ref——期权标的代码,如'510300.SH'，传空字符串时获取全部标的数据")])]),t._v(" "),s("p",[t._v("返回：")]),t._v(" "),s("p",[t._v("指定期权标的代码时返回对应该标的的期权合约列表list")]),t._v(" "),s("p",[t._v("期权标的代码为空字符串时返回全部标的对应的品种列表的字典dict")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\n期权标的 510300.SH 对应的期权品种如下：'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_option_undl_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'510300.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("\"\"\"\n运行结果： \n期权标的 510300.SH 对应的期权品种如下：\n['10005123.SHO', '10005124.SHO', '10005125.SHO', '10005126.SHO', '10005127.SHO', '10005128.SHO', '10005129.SHO', '10005130.SHO', '10005131.SHO', '10005132.SHO', '10005133.SHO', '10005134.SHO', '10005135.SHO', '10005136.SHO', '10005137.SHO', '10005138.SHO', '10005139.SHO', '10005140.SHO', ...\n]\n\"\"\"")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h3",{attrs:{id:"_3-39-获取指定期权列表contextinfo-get-option-list"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-39-获取指定期权列表contextinfo-get-option-list"}},[t._v("#")]),t._v(" 3.39 获取指定期权列表"),s("br"),t._v("ContextInfo.get_option_list()")]),t._v(" "),s("p",[t._v("功能： 获取指定期权列表。如获取历史期权，需先下载过期合约列表。")]),t._v(" "),s("p",[t._v("语法： ContextInfo.get_option_list(undl_code,dedate,opttype,isavailable)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("undl_code——期权标的代码,如'510300.SH'")]),t._v(" "),s("li",[t._v('dedate——期权到期月或当前交易日期，"YYYYMM"格式为期权到期月，"YYYYMMDD"格式为获取当前日期交易的期权')]),t._v(" "),s("li",[t._v('opttype——期权类型，默认值为空，"CALL"，"PUT"，为空时认购认沽都取')]),t._v(" "),s("li",[t._v('isavailable——是否可交易，当dedate的格式为"YYYYMMDD"格式为获取当前日期交易的期权时，isavailable为True时返回当前可用，为False时返回当前和历史可用')])]),t._v(" "),s("p",[t._v("返回： 期权合约列表list")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取到期月份为202101的上交所510300ETF认购合约")]),t._v("\ndata"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_option_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'510300.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'202101'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CALL"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取20210104当天上交所510300ETF可交易的认购合约")]),t._v("\ndata"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_option_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'510300.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20210104'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CALL"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取20210104当天上交所510300ETF已经上市的认购合约(包括退市)")]),t._v("\ndata"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_option_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'510300.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20210104'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CALL"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("h3",{attrs:{id:"_3-40-获取股票期权的实时隐含波动率contextinfo-get-option-iv"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-40-获取股票期权的实时隐含波动率contextinfo-get-option-iv"}},[t._v("#")]),t._v(" 3.40 获取股票期权的实时隐含波动率"),s("br"),t._v("ContextInfo.get_option_iv()")]),t._v(" "),s("p",[t._v("功能： 获取股票期权的实时隐含波动率。")]),t._v(" "),s("p",[t._v("语法： ContextInfo.get_option_iv(optioncode)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("optioncode——期权代码，如'10003280.SHO'")])]),t._v(" "),s("p",[t._v("返回： 浮点数")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_option_iv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'10003280.SHO'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h3",{attrs:{id:"_3-41-基于bs模型计算欧式期权理论价格contextinfo-bsm-price"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-41-基于bs模型计算欧式期权理论价格contextinfo-bsm-price"}},[t._v("#")]),t._v(" 3.41 基于BS模型计算欧式期权理论价格"),s("br"),t._v("ContextInfo.bsm_price()")]),t._v(" "),s("p",[t._v("功能： 基于Black-Scholes-Merton模型，输入期权标的价格、期权行权价、无风险利率、期权标的年化波动率、剩余天数、标的分红率、计算期权的理论价格。")]),t._v(" "),s("p",[t._v("语法： ContextInfo.bsm_price(optionType,objectPrices,strikePrice,riskFree,sigma,days,dividend)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("optionType——期权类型，认购：'C'，认沽：'P'")]),t._v(" "),s("li",[t._v("objectPrices——期权标的价格，可以是价格列表或者单个价格")]),t._v(" "),s("li",[t._v("strikePrice——期权行权价")]),t._v(" "),s("li",[t._v("riskFree——无风险收益率")]),t._v(" "),s("li",[t._v("sigma——标的波动率")]),t._v(" "),s("li",[t._v("days——剩余天数")]),t._v(" "),s("li",[t._v("dividend——分红率")])]),t._v(" "),s("p",[t._v("返回：objectPrices为float时，返回float；objectPrices为list时，返回list；计算结果最小值0.0001，结果保留4位小数。如果输入非法参数则返回NaN")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" numpy "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" np\nobject_prices"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("list")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("np"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("arange"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.01")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#计算剩余15天的行权价3.5的认购期权,在无风险利率3%,分红率为0,标的年化波动率为23%时标的价格从3元到4元变动过程中期权理论价格序列")]),t._v("\nprices"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bsm_price"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'C'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("object_prices"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.03")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.23")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("prices"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#计算剩余15天的行权价3.5的认购期权,在无风险利率3%,分红率为0,标的年化波动率为23%时标的价格为3.51元的平值期权的理论价格")]),t._v("\nprice"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bsm_price"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'C'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.51")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.03")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.23")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("price"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("h3",{attrs:{id:"_3-42-基于bs模型计算欧式期权隐含波动率contextinfo-bsm-iv"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-42-基于bs模型计算欧式期权隐含波动率contextinfo-bsm-iv"}},[t._v("#")]),t._v(" 3.42 基于BS模型计算欧式期权隐含波动率"),s("br"),t._v("ContextInfo.bsm_iv()")]),t._v(" "),s("p",[t._v("功能： 基于Black-Scholes-Merton模型,输入期权标的价格、期权行权价、期权现价、无风险利率、剩余天数、标的分红率,计算期权的隐含波动率。")]),t._v(" "),s("p",[t._v("语法： ContextInfo.bsm_iv(optionType,objectPrices,strikePrice,optionPrice,riskFree,days,dividend)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("optionType——期权类型，认购：'C'，认沽：'P'")]),t._v(" "),s("li",[t._v("objectPrice——期权标的价格")]),t._v(" "),s("li",[t._v("strikePrice——期权行权价")]),t._v(" "),s("li",[t._v("optionPrice——期权现价")]),t._v(" "),s("li",[t._v("riskFree——无风险收益率")]),t._v(" "),s("li",[t._v("days——剩余天数")]),t._v(" "),s("li",[t._v("dividend——分红率")])]),t._v(" "),s("p",[t._v("返回： 浮点数")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("iv"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bsm_iv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'C'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.51")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.0725")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.03")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#计算剩余15天的行权价3.5的认购期权,在无风险利率3%,分红率为0时,标的现价3.51元,期权价格0.0725元时的隐含波动率")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h3",{attrs:{id:"几乎不用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#几乎不用"}},[t._v("#")]),t._v(" =====几乎不用=====")]),t._v(" "),s("h3",{attrs:{id:"_3-43-获取历史行情-contextinfo-get-history-data"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-43-获取历史行情-contextinfo-get-history-data"}},[t._v("#")]),t._v(" 3.43  获取历史行情 ContextInfo.get_history_data()")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("此方法已不再使用，请使用 ContextInfo.get_market_data_ex()")])]),t._v(" "),s("h3",{attrs:{id:"_3-44-下载指定合约代码指定周期对应时间范围的行情数据down-history-data-download-history-data"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-44-下载指定合约代码指定周期对应时间范围的行情数据down-history-data-download-history-data"}},[t._v("#")]),t._v(" 3.44 下载指定合约代码指定周期对应时间范围的行情数据"),s("br"),t._v("down_history_data()"),s("br"),t._v("download_history_data()")]),t._v(" "),s("p",[t._v("功能： 下载指定合约代码指定周期对应时间范围的行情数据。")]),t._v(" "),s("p",[t._v("语法：")]),t._v(" "),s("p",[t._v("down_history_data(stockcode,period,startTime,endTime)"),s("br"),t._v("download_history_data(stockcode,period,startTime,endTime)")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("此方法意指在策略运行时下载历史数据，但几乎不会应用在实际工作中，强烈建议手动在主界面顶部菜单中，点击  “操作” --\x3e “数据管理” 面板中下载历史数据。")])]),t._v(" "),s("p",[s("img",{attrs:{src:n(251),alt:"补充历史数据"}})]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("p",[t._v("stockcode——string，股票代码，形式如'stkcode.market'，如'600000.SH'"),s("br"),t._v("\nperiod——string，时间周期，'tick' 表示 分笔线，'1d' 表示 日线，'1m'：表示1分钟线，'5m' 表示 5分钟线"),s("br"),t._v('\nstartTime，endTime：string —— 分别代表起止时间，"20200101"或"20200101093000"，可以为空；\n示例：')]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    down_history_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"600000.SH"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1d"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 执行后没有任何反馈，也没有进度条之类的提示。因此几乎不用。")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("h3",{attrs:{id:"_3-45-获取本地行情数据contextinfo-get-local-data"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-45-获取本地行情数据contextinfo-get-local-data"}},[t._v("#")]),t._v(" 3.45 获取本地行情数据"),s("br"),t._v("ContextInfo.get_local_data()")]),t._v(" "),s("p",[t._v("功能： 获取某一个指定品种的本地行情数据。使用前需提前下载好历史数据。  此方法同 "),s("code",[t._v("ContextInfo.get_history_data()")]),t._v("一样，几乎已弃用。")]),t._v(" "),s("p",[t._v("语法：  ContextInfo.get_local_data(stock_code,start_time='',end_time='',period='1d',divid_type='none',count=-1)\n参数：")]),t._v(" "),s("p",[t._v("stock_code —— 字符串型。表示想要获取的品种代码。")]),t._v(" "),s("p",[t._v("start_date —— 字符串型（String），表示开始时间，如 '20170101'，'20170101000000'。如果缺省则表示不使用")]),t._v(" "),s("p",[t._v("end_date —— 字符串型（String），表示结束时间，如 '20170101'，'20170101000000'。如果缺省则使用当前 K 线的时间")]),t._v(" "),s("p",[t._v("period —— 字符串型（String），指定时间周期。")]),t._v(" "),s("p",[t._v("dividend_type —— 数值型（number），表示复权类型，默认为 不复权。")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("字符串")]),t._v(" "),s("th",[t._v("表达意义")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("0")]),t._v(" "),s("td",[t._v("不复权")])]),t._v(" "),s("tr",[s("td",[t._v("1")]),t._v(" "),s("td",[t._v("向前复权")])]),t._v(" "),s("tr",[s("td",[t._v("2")]),t._v(" "),s("td",[t._v("向后复权")])]),t._v(" "),s("tr",[s("td",[t._v("3")]),t._v(" "),s("td",[t._v("等比向前复权")])]),t._v(" "),s("tr",[s("td",[t._v("4")]),t._v(" "),s("td",[t._v("等比向后复权")])])])]),t._v(" "),s("p",[t._v("count —— 默认参数，缺省值为 -1，大于等于 0 时，效果与 获取历史行情数据的方法（get_history_data） 保持一致。"),s("br")]),t._v(" "),s("p",[t._v("如果此参数 count 和 参数 start_time/end_time 同时使用，则最终的效果如下表所示：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("count 取值")]),t._v(" "),s("th",[t._v("start_time/end_time是否生效")]),t._v(" "),s("th",[t._v("start_time/end_time设置效果")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("count >= 0")]),t._v(" "),s("td",[t._v("无效")]),t._v(" "),s("td",[t._v("从当前时间往回取多少个周期的值，取值数量完全取决于 count")])]),t._v(" "),s("tr",[s("td",[t._v("count = -1")]),t._v(" "),s("td",[t._v("生效")]),t._v(" "),s("td",[t._v("同时设置开始时间和结束时间，在所设置的时间段内取值")])]),t._v(" "),s("tr",[s("td",[t._v("count = -1")]),t._v(" "),s("td",[t._v("生效")]),t._v(" "),s("td",[t._v("开始时间结束时间都不设置，取当前最新bar的值")])]),t._v(" "),s("tr",[s("td",[t._v("count = -1")]),t._v(" "),s("td",[t._v("生效")]),t._v(" "),s("td",[t._v("只设置开始时间，取所设开始时间到当前时间的值")])]),t._v(" "),s("tr",[s("td",[t._v("count = -1")]),t._v(" "),s("td",[t._v("生效")]),t._v(" "),s("td",[t._v("只设置结束时间，取股票上市第一根 bar 到所设结束时间的值")])])])]),t._v(" "),s("p",[t._v("返回：返回一个字典（Dict），键（key） 为  timetag，值（value）为另一个 Dict (valuedict)")]),t._v(" "),s("p",[t._v("当参数 period='tick' 时，返回值为分笔数据，valuedict 字典中包含的 key 如下：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("{  \n 'lastPrice'：              # 最新价\n 'amount'：                 # 成交额  \n 'volume'：                 # 成交量  \n 'pvolumn'：                # 前成交量  \n 'openInt'：                # 持仓量  \n 'stockStatus'：            # 股票状态  \n 'lastSettlementPrice'：    # 最新结算价  \n 'open':                    # 开盘价\n 'high':                    # 最高价\n 'low':                     # 最低价\n 'settlementPrice'：        # 结算价  \n 'lastClose':               # 昨收盘价\n 'askPrice'：               # 列表（List)，卖价五档  \n 'bidPrice'：               # 列表（List)，买价五档  \n 'askVol'：                 # 列表（List)，卖量五档  \n 'bidVol'；                 # 列表（List)，买量五档  \n}  \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br")])]),s("p",[t._v("当参数 period 为其它值时，valuedict字典中包含的 key 如下：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("{\n amount：  # 成交额  \n volume：  # 成交量  \n open：    # 开盘价  \n high：    # 最高价  \n low：     # 最低价  \n close：   # 收盘价  \n}\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[t._v("*注：时间区间两边闭区间")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 需提前下载好本地数据")]),t._v("\n    Result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_local_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        stock_code"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600027.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指定品种")]),t._v("\n        start_time"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20200901'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        end_time"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'20200905'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        period"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1m'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        divid_type"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'none'")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 打印输出")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("\"\"\"\n如果返回值为一个 空字典 {} ，则需检查是否已下载了历史数据。\n运行结果：\n{1693531860000:            # 对应的时间戳\n  {'open': 5.06,             # 开盘价\n   'high': 5.09,             # 最高价\n   'low': 5.04,              # 最低价\n   'close': 5.06,            # 收盘价\n   'volume': 14988,          # 成交量\n   'amount': 7586910.0       # 成交金额\n  }, \n 1693531920000: \n  {'open': 5.05, \n   'high': 5.05, \n   'low': 5.03, \n   'close': 5.04, \n   'volume': 11412, \n   'amount': 5752400.0\n  }, \n 1693531980000: \n   {'open': 5.04, \n    'high': 5.05, \n    'low': 5.03, \n    'close': 5.04, \n    'volume': 8661, \n    'amount': 4365096.0\n   }, \n 1693532040000: \n   {'open': 5.04, \n    'high': 5.04, \n    'low': 5.03, \n    'close': 5.04, \n    'volume': 5682, \n    'amount': 2860395.0\n   },\n ......\n}\n\"\"\"")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br")])]),s("h3",{attrs:{id:"_3-46-根据etf基金代码获取etf申赎清单及对应成分股数据get-etf-info"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-46-根据etf基金代码获取etf申赎清单及对应成分股数据get-etf-info"}},[t._v("#")]),t._v(" 3.46 根据ETF基金代码获取ETF申赎清单及对应成分股数据"),s("br"),t._v("get_etf_info()")]),t._v(" "),s("p",[t._v("功能： 根据指定的ETF基金代码获取申赎清单及对应成分股数据。此方法需要ETF交易权限，并且需要提前下载申赎清单数据。如帐户没有相应权限，则无法使用。")]),t._v(" "),s("p",[t._v("语法： get_etf_info(stockcode)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("p",[t._v('​    stockcode —— ETF基金代码，如"510050.SH"\n返回：')]),t._v(" "),s("p",[t._v("​    返回一个字典dict，其中包含的数据详见示例：")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取ETF基金代码为511050的全部ETF申赎清单数据")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("get_etf_info"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"510050.SH"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("\"\"\"\n运行结果：\n{'etfCode': '510050',      # ETF 代码\n 'etfExchID': 'SH',        # 交易所\n 'prCode': '510050',       # 基金申赎代码\n 'cashBalance': 62182.33,  # 现金差额（单位：元）\n 'maxCashRatio': 0.5,      # 现金替代比例上限\n 'reportUnit': 900000,     # 最小申购、赎回单位（单位：份）\n 'name': ' ',              # 基金名称\n 'navPerCU': 2374240.29,   # 最小申购、赎回单位净值（单位：元）\n 'nav': 2.638,             # 基金份额净值（单位：元）\n 'ecc': 67484.89,          # 预估现金差额（单位：元）\n 'needPublish': 1,         # 是否需要公布IOPV（1：是，0：否）\n 'enableCreation': 1,      # 是否允许申购（1：是，0：否）\n 'enableRedemption': 1,    # 是否允许赎回（1：是，0：否）\n 'creationLimit': 0,       # 申购上限（单位:份，0：不限制）\n 'redemptionLimit': 0,     # 赎回上限（单位:份，0：不限制）\n 'type': 14, \n 'tradingDay': '',         # 交易日期（格式YYYYMMDD）\n 'preTradingDay': '',      # 前交易日期（格式YYYYMMDD）\n 'stocks':                 # 成分股列表\n     {'600010.SH':              # 股票代码\n         {'exchangeID': 'SH',   # ETF基金市场代码\n          'etfCode': '510050',  # ETF基金代码\n          'etfName': ' ',       # ETF基金名称\n          'componentExchID': 'SH',    # 成份股市场代码\n          'componentCode': '600010',  # 成份股代码 \n          'componentName': '包钢股份', # 成份股名称\n          'componentVolume': 7900,    # 成份股数量\n          'ReplaceFlag': 49,          # 替代标记（48:禁止替代，49：允许替代，50：必须替代，51：替补替代）\n          'ReplaceRatio': 0.1,       # 溢价比率\n          'ReplaceBalance': 0.0      # 替代金额\n         }, \n      '600028.SH': \n         {'exchangeID': 'SH', \n          'etfCode': '510050', \n          'etfName': ' ', \n          'componentExchID': 'SH', \n          'componentCode': '600028', \n          'componentName': '中国石化', \n          'componentVolume': 6600, \n          'ReplaceFlag': 49, \n          'ReplaceRatio': 0.1, \n          'ReplaceBalance': 0.0\n         }, \n      '600030.SH': \n         {'exchangeID': 'SH', \n          'etfCode': '510050', \n          'etfName': ' ', \n          'componentExchID': 'SH', \n          'componentCode': '600030', \n          'componentName': '中信证券', \n          'componentVolume': 3400, \n          'ReplaceFlag': 49, \n          'ReplaceRatio': 0.1, \n          'ReplaceBalance': 0.0\n         },\n         ...\n     }\n}\n\"\"\"")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br"),s("span",{staticClass:"line-number"},[t._v("58")]),s("br"),s("span",{staticClass:"line-number"},[t._v("59")]),s("br"),s("span",{staticClass:"line-number"},[t._v("60")]),s("br"),s("span",{staticClass:"line-number"},[t._v("61")]),s("br"),s("span",{staticClass:"line-number"},[t._v("62")]),s("br"),s("span",{staticClass:"line-number"},[t._v("63")]),s("br"),s("span",{staticClass:"line-number"},[t._v("64")]),s("br"),s("span",{staticClass:"line-number"},[t._v("65")]),s("br"),s("span",{staticClass:"line-number"},[t._v("66")]),s("br")])]),s("h3",{attrs:{id:"_3-47-根据etf基金代码获取etf的基金份额参考净值get-etf-iopv"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-47-根据etf基金代码获取etf的基金份额参考净值get-etf-iopv"}},[t._v("#")]),t._v(" 3.47 根据ETF基金代码获取ETF的基金份额参考净值"),s("br"),t._v("get_etf_iopv()")]),t._v(" "),s("p",[t._v("功能： 根据ETF基金代码获取ETF的基金份额参考净值")]),t._v(" "),s("p",[t._v("语法： get_etf_iopv(stockcode)")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v('stockcode：ETF基金代码（如"510050.SH"）')])]),t._v(" "),s("p",[t._v("返回： IOPV，基金份额参考净值")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ETF基金 511050 的 净值")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("get_etf_iopv"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"510050.SH"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果：\n2.613\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("h3",{attrs:{id:"_3-48-获取某只指数历史调整日的历史的成分股列表contextinfo-get-his-index-data"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-48-获取某只指数历史调整日的历史的成分股列表contextinfo-get-his-index-data"}},[t._v("#")]),t._v(" 3.48 获取某只指数历史调整日的历史的成分股列表"),s("br"),t._v("ContextInfo.get_his_index_data()")]),t._v(" "),s("p",[t._v("使用前需要下载 “板块成分股”，否则此方法返回值是一个空列表。")]),t._v(" "),s("p",[t._v("功能： 获取某只指数历史调整日的历史的成分股列表。")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("stockcode —— 股票代码，如'000300.SH'")])]),t._v(" "),s("p",[t._v("返回： 一个字典，其中的key是日期，对应的值即是当天调整的股票代码。")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n沪深300指数 曾经调整的股票代码：\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_his_index_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000300.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("\"\"\"\n运行结果：\n沪深300指数 曾经调整的股票代码：\n{'20050408': ['000001.SZ', '000002.SZ', '000009.SZ', '000012.SZ', '000016.SZ', '000021.SZ', ...]\n\"\"\"")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h3",{attrs:{id:"_3-49-获取市场已退市合约contextinfo-get-his-contract-list"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-49-获取市场已退市合约contextinfo-get-his-contract-list"}},[t._v("#")]),t._v(" 3.49 获取市场已退市合约"),s("br"),t._v("ContextInfo.get_his_contract_list()")]),t._v(" "),s("p",[t._v("使用前需要下载 “过期合约列表”，否则此方法返回值是一个空列表。当然，基本也用不上这个方法。谁没事去查已经退市的品种？")]),t._v(" "),s("p",[t._v("功能： 获取市场已退市合约。执行前需要提前下载好 “过期合约列表”。")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("market ——市场代码。如：上证所SH、深交所SZ、上期所SF、大商所DF、郑商所ZF、中金所IF、能源中心INE、沪港通HGT、 深港通SGT、外部自定义市场ED。")])]),t._v(" "),s("p",[t._v("返回： 列表list。其中包含合约品种的代码。")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"上海沪市已退市的品种合约有：\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_his_contract_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("\"\"\"\n运行结果：\n【2023-09-08 09:27:38.805】  上海沪市已退市的品种合约有：\n ['719103.SH', '141945.SH', '105901.SH', '708376.SH', '512571.SH', '134338.SH', '164862.SH', '161109.SH', '106327.SH', '148333.SH', '122480.SH', '787633.SH', '756797.SH', '134723.SH', '787228.SH', '517801.SH', '148728.SH', '161512.SH', '172670.SH', '104230.SH', '127441.SH', '136634.SH', '000842.SH',  '136519.SH', '600485.SH', '517286.SH', '172146.SH', '163333.SH', '140542.SH', '136102.SH', '174610.SH', '020323.SH', '738153.SH', '732518.SH', '124951.SH', '130654.SH', '521969.SH', '732103.SH', '738548.SH', '176707.SH', '107291.SH', '511861.SH', '144303.SH', '787105.SH', '106411.SH', '736359.SH', '148405.SH', '147925.SH', '515391.SH', '161224.SH', '715133.SH', '134015.SH', '103961.SH', '136176.SH', '172529.SH', ......]\n\"\"\"")]),t._v("\n    \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h3",{attrs:{id:"_3-50-获取对应周期的北向数据contextinfo-get-north-finance-change"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-50-获取对应周期的北向数据contextinfo-get-north-finance-change"}},[t._v("#")]),t._v(" 3.50 获取对应周期的北向数据"),s("br"),t._v("ContextInfo.get_north_finance_change()")]),t._v(" "),s("p",[t._v("功能： 获取对应周期的北向数据。")]),t._v(" "),s("p",[t._v("语法： ContextInfo.get_north_finance_change(period)")]),t._v(" "),s("p",[t._v("参数：period —— '1d' 表示日线 ；'1m' 表示一分钟")]),t._v(" "),s("p",[t._v("返回：一个字典dict，其中的key是时间戳， 对应的 value值仍然是一个dict，其中包含的信息详见以下示例：")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n北向资金当日数据：\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_north_finance_change"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1d'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("\"\"\"\n运行结果：\n\n北向资金当日数据：\n{1416153600000: \n  {'hgtNorthBuyMoney': 120820000,       # 沪港通HGT北向买入资金\n   'hgtNorthSellMoney': 0,              # 沪港通HGT北向卖出资金\n   'hgtSouthBuyMoney': 1772000000,      # 沪港通HGT南向买入资金\n   'hgtSouthSellMoney': 84000000,       # 沪港通HGT南向卖出资金\n   'sgtNorthBuyMoney': 0,               # 深港通SGT北向买入资金\n   'sgtNorthSellMoney': 0,              # 深港通SGT北向卖出资金\n   'sgtSouthBuyMoney': 0,               # 深港通SGT南向买入资金\n   'sgtSouthSellMoney': 0,              # 深港通SGT南向卖出资金\n   'hgtNorthNetInFlow': 13000000000,    # 沪港通HGT北向资金净流入 \n   'hgtNorthBalanceByDay': 0,           # 沪港通HGT北向当日资金余额\n   'hgtSouthNetInFlow': 1768000000,     # 沪港通HGT南向资金净流入\n   'hgtSouthBalanceByDay': 8732000000,  # 沪港通HGT南向当日资金余额\n   'sgtNorthNetInFlow': 0,              # 深港通SGT北向资金净流入\n   'sgtNorthBalanceByDay': 0,           # 深港通SGT北向当日资金余额\n   'sgtSouthNetInFlow': 0,              # 深港通SGT南向资金净流入\n   'sgtSouthBalanceByDay': 0            # 深港通SGT南向当日资金余额\n  }\n}\n\"\"\"")]),t._v("\n    \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br")])]),s("h3",{attrs:{id:"_3-51-获取-北向-指定品种的持股统计及明细contextinfo-get-hkt-statistics-contextinfo-get-hkt-details"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-51-获取-北向-指定品种的持股统计及明细contextinfo-get-hkt-statistics-contextinfo-get-hkt-details"}},[t._v("#")]),t._v(" 3.51 获取（北向）指定品种的持股统计及明细"),s("br"),t._v("ContextInfo.get_hkt_statistics()"),s("br"),t._v("ContextInfo.get_hkt_details()")]),t._v(" "),s("p",[t._v("这2个方法是与 北向资金有关的持股信息。需要提前下载好 “港股资金流向数据”，否则无返回值。")]),t._v(" "),s("p",[t._v("功能： 获取北向持股中，指定品种的有关数据。")]),t._v(" "),s("p",[t._v("参数：stockcode —— 指定的股票品种，如：600000.SH")]),t._v(" "),s("p",[t._v("返回：一个字典，其中key值是统计数据的时间戳，对应的 value 仍是一个字典，所包含内容详见示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n北向资金持股中 600000.SH 的统计信息如下：\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_hkt_statistics"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'==============分割线===================='")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n北向资金持股中 600000.SH 的详细信息如下：\\n"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_hkt_details"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n\\n如返回值为空，请先在 数据管理 中下载“港股资金流向数据”"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("\"\"\"\n北向资金持股中 600000.SH 的统计信息如下：\n{1507478400000:                              # 统计的时间戳\n    {'stockCode': '600000.SH',               # 股票名称\n     'ownSharesAmount': 185395143,           # 持股数量\n     'ownSharesMarketValue': 2417552664.72,  # 持股市值\n     'ownSharesRatio': 0.65,                 # 持股数量占比\n     'ownSharesNetBuy': 0.0                  # 净买入\n    }\n}\n==============分割线====================\n北向资金持股中 600000.SH 的详细信息如下：\n{1597766400000:                                            # 统计的时间戳\n  {'stockCode': '600000.SH',                               # 股票名称\n   'ownSharesCompany':'ABN AMRO CLEARING HONG KONG LTD',   # 机构名称\n   'ownSharesAmount': 147700,                              # 持股数量\n   'ownSharesMarketValue': 1562200.0,                      # 持股市值\n   'ownSharesRatio': 0.0,                                  # 持股数量占比\n   'ownSharesNetBuy': 0.0                                  # 净买入\n  }\n}\n\n如返回值为空，请先在 数据管理 中下载“港股资金流向数据”\n\"\"\"")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br")])]),s("h3",{attrs:{id:"_3-52-获取无风险利率contextinfo-get-risk-free-rate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-52-获取无风险利率contextinfo-get-risk-free-rate"}},[t._v("#")]),t._v(" 3.52 获取无风险利率"),s("br"),t._v("ContextInfo.get_risk_free_rate()")]),t._v(" "),s("p",[t._v("语法：ContextInfo.get_risk_free_rate(index)")]),t._v(" "),s("p",[t._v("功能： 获取无风险利率，用十年期国债收益率CGB10Y作无风险利率")]),t._v(" "),s("p",[t._v("参数： index —— 当前主图 上最新一根K 线的索引号。不可省缺，任一整数即可。")]),t._v(" "),s("p",[t._v("返回：浮点数")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_risk_free_rate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果：\n十年期国债收益率 CGB10Y 为： 11.98\n"""')]),t._v("    \n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("h3",{attrs:{id:"_3-53-获取除权除息日和复权因子contextinfo-get-divid-factors"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-53-获取除权除息日和复权因子contextinfo-get-divid-factors"}},[t._v("#")]),t._v(" 3.53 获取除权除息日和复权因子"),s("br"),t._v("ContextInfo.get_divid_factors()")]),t._v(" "),s("p",[t._v("需要提前下载好 “除权数据”，否则无返回值。")]),t._v(" "),s("p",[t._v("功能：获取除权除息日和复权因子。")]),t._v(" "),s("p",[t._v("参数： stock.market：股票代码.市场代码，如 '600000.SH'")]),t._v(" "),s("p",[t._v("返回：一个字典 dict。其中的key为除权除息的日期，对应的 value 即为复权因子。")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    Result "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_divid_factors"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果：\n{962812800000: [0.15000000596046448, 0.0, 0.0, 0.0, 0.0, 0, 1.0065019505851756], 1029945600000: [0.20000000298023224, 0.0, 0.5, 0.0, 0.0, 0, 1.5169002473206923], 1056297600000: [0.10000000149011612, 0.0, 0.0, 0.0, 0.0, 0, 1.0083612040133778], 1084982400000: [0.10999999940395355, 0.0, 0.0, 0.0, 0.0, 0, 1.011853448275862], 1115827200000: [0.11999999731779099, 0.0, 0.0, 0.0, 0.0, 0, 1.0172910662824206], 1147363200000: [0.0, 0.30000001192092896, 0.0, 0.0, 0.0, 0, 1.3005988023952095], 1148486400000: [0.12999999523162842, 0.0, 0.0, 0.0, 0.0, 0, 1.0131712259371835], 1184688000000: [0.15000000596046448, 0.0, 0.0, 0.0, 0.0, 0, 1.0041459369817578], 1208966400000: [0.1599999964237213, 0.30000001192092896, 0.0, 0.0, 0.0, 0,]\n......\n"""')]),t._v("    \n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h3",{attrs:{id:"_3-54-获取某只股票st的历史contextinfo-get-his-st-data-获取历史st状态get-st-status"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-54-获取某只股票st的历史contextinfo-get-his-st-data-获取历史st状态get-st-status"}},[t._v("#")]),t._v(" 3.54 获取某只股票ST的历史"),s("br"),t._v("ContextInfo.get_his_st_data()"),s("br"),t._v("获取历史ST状态"),s("br"),t._v("get_st_status()")]),t._v(" "),s("p",[t._v("这2个方法（函数）都需要提前下载“过期合约K线”的数据，不是“过期合约列表”。否则返回值为空。")]),t._v(" "),s("p",[t._v("功能： 获取某只股票ST的历史，历史ST状态。")]),t._v(" "),s("p",[t._v("参数：stockcode——string，股票代码，如'000004.SZ'")]),t._v(" "),s("p",[t._v("返回：一个字典。")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\n股票 000792.SZ 的历史ST状态\\n'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("get_st_status"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000792.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\n===========分割线=====================\\n'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\n股票 000004.SZ 的ST历史\\n'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_his_st_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000004.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v("\"\"\"\n股票 000792.SZ 的历史ST状态\n{'*ST': [['20190430', '20210810']]}\n===========分割线=====================\n股票 000004.SZ 的ST历史\n{'ST': [['19990427', '20010306'], \n        ['20070525', '20090421'], \n        ['20100531', '20110608'], \n        ['20220506', '20230628']\n       ], \n '*ST': [['20060421', '20070525'], \n         ['20090421', '20100531']\n        ]\n}\n\"\"\"")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br")])]),s("h3",{attrs:{id:"_3-55-设置股票池-contextinfo-set-universe"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-55-设置股票池-contextinfo-set-universe"}},[t._v("#")]),t._v(" 3.55 设置股票池  "),s("br"),t._v("ContextInfo.set_universe()")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("此法是早期订阅股票池的函数，不再推荐使用！")])]),t._v(" "),s("p",[t._v("功能：设定股票池，声明想要订阅的交易品种"),s("br"),t._v("\n语法：  ContextInfo.set_universe(stocklist)"),s("br"),t._v("\n参数： stocklist —— 是一个列表（List），其中包含想要订阅的品种代码。"),s("br"),t._v("\n返回值： 无"),s("br"),t._v("\n示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    stocklist "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000300.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000004.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_universe"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stocklist"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h3",{attrs:{id:"_3-56-获取已设置的股票池中的品种列表contextinfo-get-universe"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-56-获取已设置的股票池中的品种列表contextinfo-get-universe"}},[t._v("#")]),t._v(" 3.56 获取已设置的股票池中的品种列表"),s("br"),t._v("ContextInfo.get_universe()")]),t._v(" "),s("p",[t._v("功能：获取已设置好的股票池中的股票"),s("br"),t._v("\n语法：ContextInfo.get_universe()"),s("br"),t._v("\n参数：无"),s("br"),t._v("\n返回值： 一个包含股票代码的列表"),s("br"),t._v("\n示例：通常用于核验一下 ContextInfo.set_universe()方法设置的品种。")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\tstocklist "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000300.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000004.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\tContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_universe"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stocklist"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_universe"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('""" 运行结果\n[\'000004.SZ\', \'000300.SH\']\n与第5行设置的结果是一致的。\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("p",[t._v("这个方法（函数）用来检查上一个方法（函数）的运行结果，一个 "),s("code",[t._v("set")]),t._v("，一个是 "),s("code",[t._v("get")]),t._v("，很明显嘛。")]),t._v(" "),s("hr"),t._v(" "),s("h2",{attrs:{id:"_4-交易动作的方法-函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-交易动作的方法-函数"}},[t._v("#")]),t._v(" 4） 交易动作的方法（函数）")]),t._v(" "),s("p",[t._v("交易函数下单 和 手动在交易界面中点击下单 ，二者的流程其实是一样的，唯一的区别是：交易函数下单通过解析下单函数接口传过来的参数，形成相应的下单任务；而手动点击下单通过解析界面的输入、选择，形成相应的下单任务。")]),t._v(" "),s("p",[t._v("运行策略模型的流程如下：")]),t._v(" "),s("p",[t._v("一、编写测试代码，并保存。")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pass")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    passorder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1101")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'6000000248'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000001.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在帐户 6000000248 中，买入（23）单支股票（1101），代码为 000001.SZ，按最新价（5），无论价格类型（-1），回传ContextInfo     ")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[t._v("二、运行策略程序")]),t._v(" "),s("p",[t._v("请点击主界面上的“模型交易”按钮，以切换到模型交易界面。在此界面左侧，找到刚刚保存的策略代码。")]),t._v(" "),s("p",[s("img",{attrs:{src:n(253),alt:"新建策略交易"}})]),t._v(" "),s("p",[t._v("点击选择之后，会弹出 “新建策略交易” 窗口")]),t._v(" "),s("p",[s("img",{attrs:{src:n(254),alt:"新建策略交易"}})]),t._v(" "),s("p",[t._v("在此窗口中，请选择指定你的帐号类型、资金帐号、主图代码、运行周期。最后记得点击 “确定”。")]),t._v(" "),s("p",[t._v("此时，应该可以在中间的策略列表部分看到刚刚选择的策略，其中策略名称就是上一步中选择的策略名称，主图标的、策略周期都是在“新建策略交易”窗口中的设定值，请仔细核对一下。")]),t._v(" "),s("p",[t._v("此时请点击“运行模式”下面的按钮，以切换到“实盘”模式，")]),t._v(" "),s("p",[s("img",{attrs:{src:n(255),alt:"确定运行策略"}})]),t._v(" "),s("p",[t._v("在弹出的“提示”窗口中，点击“确定”")]),t._v(" "),s("p",[s("img",{attrs:{src:n(256),alt:"核对策略名称"}})]),t._v(" "),s("p",[t._v("然后，请点击 “操作”下面的 三角符号，该策略即开始运行。在下面的“成交”标签页中，如果看到了实际成交的股标，即表示该帐号已经通畅可用。")]),t._v(" "),s("p",[t._v("如果下单失败，可能需要 "),s("u",[t._v("管理端  开放权限，这需要与券商 以及 讯投软件商 联系")]),t._v("。")]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("迅投 QMT 系统提供了一系列的 Python 下单函数接口，本节将详细一一介绍。")]),t._v(" "),s("p",[t._v('一个策略模型在下单交易时，通常是如下的流程：\n（1）下单之前，首先会查询一下资金账号的信息，如：判定资金是否充足，账号是否在登录状态，统计持仓情况等等。 通常会用到 get_trade_detail_data() 函数，用到 account 参数；\n（2）第二步通常是设置一个股票列表（蓝子）。也就是想要观察的交易品种。迅投QMT一次大概只能观察300个以内的交易品种，因此没必要那么贪心，一上来就要全市场、全品种，那......通常会用到获取某一板块的股票列标，或”我的自选“中的品种。ContextInfo.get_stock_list_in_sector(\'我的自选\')\n（3）确定了想要观察的品种之后，在 init() 中即可准备好历史数据，用 ContextInfo.get_market_data_ex() 即可，根据需要获取到 "high","open","low","close" 等K线数据。如果需要用到不同时间周期的数据，也可以一并准备好，并考虑数据对齐。同时，获取到K线数据后，即可计算出需要用的到的指标，如均线、RSI等。\n（4）在实时行情中，策略模型中要求的条件达到（满足）了，可用下单函数，如： passorder() 等方法执行交易指令；当然，在下单前最好事先检查一下是否已经下了委托单order ，这里又要用到  get_trade_detail_data() 函数，用到 order 参数；\n（5） 检查 委托单 的状态，以便判断各种情况等。通常用 get_value_by_order_id()函数。当一个 委托单 的状态变成 “已成”后，那么就会生成一条对应的成交单（deal）；用原 委托号 就可直接查看成交情况。委托单 和 成交单 的 Id号是一样的，都是对象 m_strOrderSysID 的属性值。可根据 Position 持仓信息进一步验证。\n（6）根据 委托号 获取 委托信息，根据委托状态，或模型条件的要求，用 cancel 取消委托。')]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("注：在回测模式中，交易函数调用虚拟账号进行交易，在历史 K 线上记录买卖点，用以计算策略净值/回测指标；实盘运行调用策略中设置的资金账号进行交易，产生实际委托；模拟运行模式下交易函数无效。其中，can_cancel_order, cancel_task, cancel和do_order交易函数在回测模式中无实际意义，不建议使用。")]),t._v(" "),s("ol",[s("li",[t._v("交易函数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("序号")]),t._v(" "),s("th",[t._v("函数（方法）名称")]),t._v(" "),s("th",[t._v("表达意义")]),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("1")]),t._v(" "),s("td",[t._v("passorder")]),t._v(" "),s("td",[t._v("综合交易下单")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("2")]),t._v(" "),s("td",[t._v("algo_passorder")]),t._v(" "),s("td",[t._v("算法交易下单")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("3")]),t._v(" "),s("td",[t._v("smart_algo_passorder")]),t._v(" "),s("td",[t._v("智能算法交易")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("5")]),t._v(" "),s("td",[t._v("get_value_by_order_id")]),t._v(" "),s("td",[t._v("根据委托Id取委托或成交信息")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("6")]),t._v(" "),s("td",[t._v("get_last_order_id")]),t._v(" "),s("td",[t._v("获取最新的委托或成交的委托Id")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("7")]),t._v(" "),s("td",[t._v("can_cancel_order")]),t._v(" "),s("td",[t._v("查询委托是否可撤销")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("8")]),t._v(" "),s("td",[t._v("cancel")]),t._v(" "),s("td",[t._v("取消委托")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("9")]),t._v(" "),s("td",[t._v("cancel_task")]),t._v(" "),s("td",[t._v("撤销任务")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("10")]),t._v(" "),s("td",[t._v("pause_task")]),t._v(" "),s("td",[t._v("暂停任务")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("11")]),t._v(" "),s("td",[t._v("resume_task")]),t._v(" "),s("td",[t._v("继续任务")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("12")]),t._v(" "),s("td",[t._v("do_order")]),t._v(" "),s("td",[t._v("实时触发前一根 bar 信号函数")]),t._v(" "),s("td")])])]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("股票下单函数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("序号")]),t._v(" "),s("th",[t._v("函数（方法）名称")]),t._v(" "),s("th",[t._v("表达意义")]),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("1")]),t._v(" "),s("td",[t._v("order_lots")]),t._v(" "),s("td",[t._v("指定手数交易")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("2")]),t._v(" "),s("td",[t._v("order_value")]),t._v(" "),s("td",[t._v("指定价值交易")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("3")]),t._v(" "),s("td",[t._v("order_percent")]),t._v(" "),s("td",[t._v("一定比例下单")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("4")]),t._v(" "),s("td",[t._v("order_target_value")]),t._v(" "),s("td",[t._v("目标价值下单")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("5")]),t._v(" "),s("td",[t._v("order_target_percent")]),t._v(" "),s("td",[t._v("目标比例下单")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("6")]),t._v(" "),s("td",[t._v("order_shares")]),t._v(" "),s("td",[t._v("指定股数交易")]),t._v(" "),s("td")])])]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("期货下单函数")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("序号")]),t._v(" "),s("th",[t._v("函数（方法）名称")]),t._v(" "),s("th",[t._v("表达意义")]),t._v(" "),s("th")])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("1")]),t._v(" "),s("td",[t._v("buy_open")]),t._v(" "),s("td",[t._v("买入开仓")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("2")]),t._v(" "),s("td",[t._v("sell_close_tdayfirst")]),t._v(" "),s("td",[t._v("卖出平仓，平今优先")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("3")]),t._v(" "),s("td",[t._v("sell_close_ydayfirst")]),t._v(" "),s("td",[t._v("卖出平仓，平昨优先")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("4")]),t._v(" "),s("td",[t._v("sell_open")]),t._v(" "),s("td",[t._v("卖出开仓")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("5")]),t._v(" "),s("td",[t._v("buy_close_tdayfirst")]),t._v(" "),s("td",[t._v("买入平仓，平今优先")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("6")]),t._v(" "),s("td",[t._v("buy_close_ydayfirst")]),t._v(" "),s("td",[t._v("买入平仓，平昨优先")]),t._v(" "),s("td")])])]),t._v(" "),s("h3",{attrs:{id:"_4-01-综合交易下单passorder"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-01-综合交易下单passorder"}},[t._v("#")]),t._v(" 4.01  综合交易下单"),s("br"),t._v("passorder()")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("这是唯一必须要理解的下单函数。别的方法（函数）如果不理解也罢了，这个必须掌握。")])]),t._v(" "),s("p",[t._v("功能： 综合交易下单。注意：对 账号组 的操作相当于对账号组里的每个账号做同样的操作，如")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("passorder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1202")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'testS'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000001.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 对账号组 testS 里的所有账号都以最新价开仓买入 50000 元市值的 000001.SZ 平安银行 ")]),t._v("\n\npassorder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1101")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'510050.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 对账号组 test 申购1个单位(900000股)的华夏上证50ETF(只申购不买入成分股)。")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("语法：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v(" passorder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n           opType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 操作动作。如 23 表示买入A股品种，24 表示卖出A股品种")]),t._v("\n           orderType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下单方式。如 1101 表示 单股、单账号、普通、股/手方式下单")]),t._v("\n           accountid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下单的账号ID")]),t._v("\n           orderCode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 交易品种代码")]),t._v("\n           prType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下单时选择的价格。")]),t._v("\n           price"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 下单价格")]),t._v("\n           volume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 交易量(手数)")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("strategyName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 策略名称，可省缺")]),t._v("\n            quickTrade"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 即时下单，可省缺")]),t._v("\n            userOrderId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用户自设委托 ID， 可省缺")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" \n           ContextInfo    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 必须对象参数")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("p",[t._v("参数：")]),t._v(" "),s("ol",[s("li",[t._v("optype 操作动作：")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数值")]),t._v(" "),s("th",[t._v("表达意义")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("用于期货六键")]),t._v(" "),s("td"),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("0")]),t._v(" "),s("td",[t._v("开多")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("1")]),t._v(" "),s("td",[t._v("平昨多")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("2")]),t._v(" "),s("td",[t._v("平今多")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("3")]),t._v(" "),s("td",[t._v("平开空")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("4")]),t._v(" "),s("td",[t._v("平昨空")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("5")]),t._v(" "),s("td",[t._v("平今空")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("用于期货四键")]),t._v(" "),s("td"),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("6")]),t._v(" "),s("td",[t._v("平多，优先平今")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("7")]),t._v(" "),s("td",[t._v("平多，优先平昨")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("8")]),t._v(" "),s("td",[t._v("平空，优先平今")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("9")]),t._v(" "),s("td",[t._v("平空，优先平昨")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("用于期货两键")]),t._v(" "),s("td"),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("10")]),t._v(" "),s("td",[t._v("卖出，如有多仓，优先平仓，优先平今，如有余量，再开空")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("11")]),t._v(" "),s("td",[t._v("卖出，如有多仓，优先平仓，优先平昨，如有余量，再开空")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("12")]),t._v(" "),s("td",[t._v("买入，如有空仓，优先平仓，优先平今，如有余量，再开多")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("13")]),t._v(" "),s("td",[t._v("买入，如有空仓，优先平仓，优先平昨，如有余量，再开多")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("14")]),t._v(" "),s("td",[t._v("买入，不优先平仓")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("15")]),t._v(" "),s("td",[t._v("卖出，不优先平仓")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("股票买卖")]),t._v(" "),s("td"),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("23")]),t._v(" "),s("td",[t._v("买入A股，沪港通、深港通 的股票")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("24")]),t._v(" "),s("td",[t._v("卖出A股，沪港通、深港通 的股票")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("融资融券")]),t._v(" "),s("td"),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("27")]),t._v(" "),s("td",[t._v("融资买入")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("28")]),t._v(" "),s("td",[t._v("融券卖出")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("29")]),t._v(" "),s("td",[t._v("买券还券")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("30")]),t._v(" "),s("td",[t._v("直接还券")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("31")]),t._v(" "),s("td",[t._v("卖券还款")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("32")]),t._v(" "),s("td",[t._v("直接还款")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("33")]),t._v(" "),s("td",[t._v("信用帐号股票买入")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("34")]),t._v(" "),s("td",[t._v("信用帐号股票卖出")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("组合交易")]),t._v(" "),s("td"),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("25")]),t._v(" "),s("td",[t._v("组合买入，或沪港通、深港通的组合买入")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("26")]),t._v(" "),s("td",[t._v("组合卖出，或沪港通、深港通的组合卖出")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("27")]),t._v(" "),s("td",[t._v("融资买入")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("28")]),t._v(" "),s("td",[t._v("融券卖出")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("29")]),t._v(" "),s("td",[t._v("买券还券")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("31")]),t._v(" "),s("td",[t._v("卖券还款")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("33")]),t._v(" "),s("td",[t._v("信用账号股票买入")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("34")]),t._v(" "),s("td",[t._v("信用账号股票卖出")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("35")]),t._v(" "),s("td",[t._v("普通账号一键买卖")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("36")]),t._v(" "),s("td",[t._v("信用账号一键买卖")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("40")]),t._v(" "),s("td",[t._v("期货组合开多")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("43")]),t._v(" "),s("td",[t._v("期货组合开空")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("46")]),t._v(" "),s("td",[t._v("期货组合平多,优先平今")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("47")]),t._v(" "),s("td",[t._v("期货组合平多,优先平昨")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("48")]),t._v(" "),s("td",[t._v("期货组合平空,优先平今")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("49")]),t._v(" "),s("td",[t._v("期货组合平空,优先平昨")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("期权交易")]),t._v(" "),s("td"),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("50")]),t._v(" "),s("td",[t._v("买入开仓")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("51")]),t._v(" "),s("td",[t._v("卖出平仓")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("52")]),t._v(" "),s("td",[t._v("卖出开仓")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("53")]),t._v(" "),s("td",[t._v("买入平仓")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("54")]),t._v(" "),s("td",[t._v("备兑开仓")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("55")]),t._v(" "),s("td",[t._v("备兑平仓")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("56")]),t._v(" "),s("td",[t._v("认购行权")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("57")]),t._v(" "),s("td",[t._v("认沽行权")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("58")]),t._v(" "),s("td",[t._v("证券锁定")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("59")]),t._v(" "),s("td",[t._v("证券解锁")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("ETF交易")]),t._v(" "),s("td"),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("60")]),t._v(" "),s("td",[t._v("申购")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("61")]),t._v(" "),s("td",[t._v("赎回")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("专项两融")]),t._v(" "),s("td"),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("70")]),t._v(" "),s("td",[t._v("专项融资买入")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("71")]),t._v(" "),s("td",[t._v("专项融券卖出")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("72")]),t._v(" "),s("td",[t._v("专项买券还券")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("73")]),t._v(" "),s("td",[t._v("专项直接还券")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("74")]),t._v(" "),s("td",[t._v("专项卖券还款")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("75")]),t._v(" "),s("td",[t._v("专项直接还款")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("可转债")]),t._v(" "),s("td"),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("80")]),t._v(" "),s("td",[t._v("普通账户转股")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("81")]),t._v(" "),s("td",[t._v("普通账户回售")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("82")]),t._v(" "),s("td",[t._v("信用账户转股")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("83")]),t._v(" "),s("td",[t._v("信用账户回售")]),t._v(" "),s("td")])])]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("orderType，下单方式")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数值")]),t._v(" "),s("th",[t._v("表达意义")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("1101")]),t._v(" "),s("td",[t._v("单股、单账号、普通、股/手方式下单")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("1102")]),t._v(" "),s("td",[t._v("单股、单账号、普通、金额（元）方式下单")]),t._v(" "),s("td",[t._v("（只支持股票，不支持期货）")])]),t._v(" "),s("tr",[s("td",[t._v("1113")]),t._v(" "),s("td",[t._v("单股、单账号、总资产、比例 [0 ~ 1] 方式下单")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("1123")]),t._v(" "),s("td",[t._v("单股、单账号、可用、比例[0 ~ 1]方式下单")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("1201")]),t._v(" "),s("td",[t._v("单股、账号组（无权重）、普通、股/手方式下单")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("1202")]),t._v(" "),s("td",[t._v("单股、账号组（无权重）、普通、金额（元）方式下单")]),t._v(" "),s("td",[t._v("（只支持股票，不支持期货）")])]),t._v(" "),s("tr",[s("td",[t._v("1213")]),t._v(" "),s("td",[t._v("单股、账号组（无权重）、总资产、比例 [0 ~ 1] 方式下单")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("1223")]),t._v(" "),s("td",[t._v("单股、账号组（无权重）、可用、比例 [0 ~ 1] 方式下单")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("2101")]),t._v(" "),s("td",[t._v("组合、单账号、普通、按组合股票数量（篮子中股票设定的数量）方式下单 > 对应  volume 的单位为篮子的份")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("2102")]),t._v(" "),s("td",[t._v("组合、单账号、普通、按组合股票权重（篮子中股票设定的权重）方式下单 > 对应   volume 的单位为元")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("2103")]),t._v(" "),s("td",[t._v("组合、单账号、普通、按账号可用方式下单 > （底层篮子股票的分配方式是按可用资金比例后按篮子中股票权重分配，如用户没填权重则按相等权重分配）")]),t._v(" "),s("td",[t._v("只对股票篮子支持")])]),t._v(" "),s("tr",[s("td",[t._v("2201")]),t._v(" "),s("td",[t._v("组合、账号组（无权重）、普通、按组合股票数量方式下单")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("2202")]),t._v(" "),s("td",[t._v("组合、账号组（无权重）、普通、按组合股票权重方式下单")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("2203")]),t._v(" "),s("td",[t._v("组合、账号组（无权重）、普通、按账号可用方式下单只对股票篮子支持")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("2331")]),t._v(" "),s("td",[t._v("组合、套利、合约价值自动套利、按组合股票数量方式下单")]),t._v(" "),s("td",[t._v("对应组合套利交易接口特殊设置")])]),t._v(" "),s("tr",[s("td",[t._v("2332")]),t._v(" "),s("td",[t._v("组合、套利、按合约价值自动套利、按组合股票权重方式下单")]),t._v(" "),s("td",[t._v("对应组合套利交易接口特殊设置")])]),t._v(" "),s("tr",[s("td",[t._v("2333")]),t._v(" "),s("td",[t._v("组合、套利、按合约价值自动套利、按账号可用方式下单")]),t._v(" "),s("td",[t._v("对应组合套利交易接口特殊设置")])])])]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[t._v("accountID")])]),t._v(" "),s("p",[t._v("下单的账号ID。（可以写多个帐号 或 账号组的名称 或 套利组的名称（一个篮子一个套利账号，如 accountID = '股票账户名, 期货账号'）")]),t._v(" "),s("ol",{attrs:{start:"4"}},[s("li",[s("p",[t._v("orderCode，交易的品种代码"),s("br"),t._v("\na、如果是单独一个 股票 或 期货、港股 品种，此处直接填写品种合约代码即可；"),s("br"),t._v("\nb、如果是组合交易，此处填写篮子名称；"),s("br"),t._v("\nc、如果是组合套利，则填一个篮子名和一个期货合约名（如orderCode = '篮子名, 期货合约名'）"),s("br")])]),t._v(" "),s("li",[s("p",[t._v("prType，下单时选择的价格。在套利交易中，这个 prType 只对篮子起作用，期货的采用默认的方式：")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数值")]),t._v(" "),s("th",[t._v("表达意义")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("-1")]),t._v(" "),s("td",[t._v("无效")]),t._v(" "),s("td",[t._v("实际下单时,取交易面板上的交易函数设定的选价类型为准")])]),t._v(" "),s("tr",[s("td",[t._v("0")]),t._v(" "),s("td",[t._v("卖5价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("1")]),t._v(" "),s("td",[t._v("卖4价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("2")]),t._v(" "),s("td",[t._v("卖3价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("3")]),t._v(" "),s("td",[t._v("卖2价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("4")]),t._v(" "),s("td",[t._v("卖1价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("5")]),t._v(" "),s("td",[t._v("最新价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("6")]),t._v(" "),s("td",[t._v("买1价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("7")]),t._v(" "),s("td",[t._v("买2价")]),t._v(" "),s("td",[t._v("组合不支持")])]),t._v(" "),s("tr",[s("td",[t._v("8")]),t._v(" "),s("td",[t._v("买3价")]),t._v(" "),s("td",[t._v("组合不支持")])]),t._v(" "),s("tr",[s("td",[t._v("9")]),t._v(" "),s("td",[t._v("买4价")]),t._v(" "),s("td",[t._v("组合不支持")])]),t._v(" "),s("tr",[s("td",[t._v("10")]),t._v(" "),s("td",[t._v("买5价")]),t._v(" "),s("td",[t._v("组合不支持")])]),t._v(" "),s("tr",[s("td",[t._v("11")]),t._v(" "),s("td",[t._v("指定价模型价")]),t._v(" "),s("td",[t._v("只对单股情况支持,对组合交易不支持")])]),t._v(" "),s("tr",[s("td",[t._v("12")]),t._v(" "),s("td",[t._v("涨跌停价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("13")]),t._v(" "),s("td",[t._v("挂单价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("14")]),t._v(" "),s("td",[t._v("对手价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("27")]),t._v(" "),s("td",[t._v("市价即成剩撤")]),t._v(" "),s("td",[t._v("仅对股票期权申报有效")])]),t._v(" "),s("tr",[s("td",[t._v("28")]),t._v(" "),s("td",[t._v("市价即全成否则撤")]),t._v(" "),s("td",[t._v("仅对股票期权申报有效")])]),t._v(" "),s("tr",[s("td",[t._v("29")]),t._v(" "),s("td",[t._v("市价剩转限价")]),t._v(" "),s("td",[t._v("仅对股票期权申报有效")])]),t._v(" "),s("tr",[s("td",[t._v("42")]),t._v(" "),s("td",[t._v("最优五档即时成交剩余撤销申报")]),t._v(" "),s("td",[t._v("仅对上交所申报有效")])]),t._v(" "),s("tr",[s("td",[t._v("43")]),t._v(" "),s("td",[t._v("最优五档即时成交剩转限价申报")]),t._v(" "),s("td",[t._v("仅对上交所申报有效")])]),t._v(" "),s("tr",[s("td",[t._v("44")]),t._v(" "),s("td",[t._v("对手方最优价格委托")]),t._v(" "),s("td",[t._v("仅对深交所申报有效")])]),t._v(" "),s("tr",[s("td",[t._v("45")]),t._v(" "),s("td",[t._v("本方最优价格委托")]),t._v(" "),s("td",[t._v("仅对深交所申报有效")])]),t._v(" "),s("tr",[s("td",[t._v("46")]),t._v(" "),s("td",[t._v("即时成交剩余撤销委托")]),t._v(" "),s("td",[t._v("仅对深交所申报有效")])]),t._v(" "),s("tr",[s("td",[t._v("47")]),t._v(" "),s("td",[t._v("最优五档即时成交剩余撤销委托")]),t._v(" "),s("td",[t._v("仅对深交所申报有效")])]),t._v(" "),s("tr",[s("td",[t._v("48")]),t._v(" "),s("td",[t._v("全额成交或撤销委托")]),t._v(" "),s("td",[t._v("仅对深交所申报有效")])]),t._v(" "),s("tr",[s("td",[t._v("49")]),t._v(" "),s("td",[t._v("科创板盘后定价")]),t._v(" "),s("td")])])]),t._v(" "),s("ol",{attrs:{start:"6"}},[s("li",[s("p",[t._v("price，下单价格。单股下单时， prType 参数为 11，49 时，此参数才有效，其它情况无效。如果 prType 参数不为 11，49 时，此参数也需要填写，可随意写任意数值，如 -1，0，2，100 等；组合下单时，是组合套利时，price 作套利比例有效，其它情况无效。")])]),t._v(" "),s("li",[s("p",[t._v("volume，下单数量（股 / 手 / 元 / %），即交易量。根据参数  orderType 的值，最后一位确定 volume 的单位：")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数值")]),t._v(" "),s("th",[t._v("表达意义")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("单股下单时")]),t._v(" "),s("td"),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("1")]),t._v(" "),s("td",[t._v("股 / 手")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("2")]),t._v(" "),s("td",[t._v("金额（元）")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("3")]),t._v(" "),s("td",[t._v("比例（%）")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("组合下单时")]),t._v(" "),s("td"),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("1")]),t._v(" "),s("td",[t._v("按组合股票数量（份）")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("2")]),t._v(" "),s("td",[t._v("按组合股票权重（元）")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("3")]),t._v(" "),s("td",[t._v("按账号可用（%）")]),t._v(" "),s("td")])])]),t._v(" "),s("ol",{attrs:{start:"8"}},[s("li",[s("p",[t._v("strategyName，字型串型（String），自定义的策略名，用来区分 order 委托和 deal 成交来自不同的策略。根据策略名，get_trade_detail_data，get_last_order_id 方法（函数）可以获取对应的策略名称，对应的委托或持仓结果。此参数可缺省。此参数 strategyName 只对同账号本地客户端有效，即只对当前客户端下的单进行策略区分，且该策略区分只能当前客户端使用。")])]),t._v(" "),s("li",[s("p",[t._v("quickTrade，整数型（Int）表示是否立即触发下单。 0表示 否 ；1表示 是。passorder 执行时是对最后一根K线完全走完后，在下一根K线的第一个tick时触发下单交易；当此参数 quickTrade 设置为1时，非历史 bar上执行时（ContextInfo.is_last_bar()为True），只要策略模型中调用到就触发下单交易。当此参数 quickTrade 设置为 2 时，不判断 bar （K线）状态，只要在策略模型中调用到就触发下单交易，历史的 bar上也能触发下单，"),s("u",[t._v("因此，在实盘运用时，可能会触 发重复下单，")]),t._v("请谨慎使用。")])]),t._v(" "),s("li",[s("p",[t._v("userOrderId，整数型（String）用户自设委托 ID，可缺省不写。此参数必须必须和前面的 strategyName 和 quickTrade 参数一起使用。对应 order 委托对象和 deal 成交对象中的 m_strRemark 属性，通过 get_trade_detail_data 函数 或 委托主推函数 order_callback  和 成交主推函数 deal_callback 可以获取到 这两个对象信息。")])]),t._v(" "),s("li",[s("p",[t._v("userOrderParam，字符串（String），用户自定义交易参数模板名称，可缺省。如果要使用，则必须必须与前面 的 strategyName 和 quickTrade 参数一起使用。")])])]),t._v(" "),s("p",[t._v("返回：无")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 单股单账号期货最新价买入 10 手")]),t._v("\n\tpassorder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1101")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 单股单账号期货指定价买入 10 手")]),t._v("\n\tpassorder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1101")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 单股单账号股票最新价买入 100 股（1 手）")]),t._v("\n\tpassorder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1101")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 单股单账号股票指定价买入 100 股（1 手）")]),t._v("\n\tpassorder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1101")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'test'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" target"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("h3",{attrs:{id:"_4-02-智能算法交易smart-algo-passorder"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-02-智能算法交易smart-algo-passorder"}},[t._v("#")]),t._v(" 4.02  智能算法交易"),s("br"),t._v("smart_algo_passorder()")]),t._v(" "),s("p",[t._v("功能： 智能算法交易")]),t._v(" "),s("p",[t._v("语法：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("smart_algo_passorder(\n                     opType,\n                     orderType,\n                     accountid,\n                     orderCode,\n                     prType,\n                     modelprice,\n                     volume,\n                     strageName,\n                     quickTrade,\n                     userid,\n                     smartAlgoType,\n                     limitOverRate,\n                     minAmountPerOrder,\n                     [targetPriceLevel,startTime,endTime,limitControl],\n                     ContextInfo\n                    )\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br")])]),s("p",[t._v("参数：")]),t._v(" "),s("ol",[s("li",[t._v("opType 表示操作类型")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数值")]),t._v(" "),s("th",[t._v("表达意义")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("股票买卖")]),t._v(" "),s("td"),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("23")]),t._v(" "),s("td",[t._v("A股 或 沪港通、深港通 股票买入")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("24")]),t._v(" "),s("td",[t._v("A股 或 沪港通、深港通 股票卖出")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("融资融券")]),t._v(" "),s("td"),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("27")]),t._v(" "),s("td",[t._v("融资买入")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("28")]),t._v(" "),s("td",[t._v("融券卖出")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("29")]),t._v(" "),s("td",[t._v("买券还券")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("30")]),t._v(" "),s("td",[t._v("直接还券")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("31")]),t._v(" "),s("td",[t._v("卖券还款")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("32")]),t._v(" "),s("td",[t._v("直接还款")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("33")]),t._v(" "),s("td",[t._v("信用账号股票买入")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("34")]),t._v(" "),s("td",[t._v("信用账号股票卖出")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("35")]),t._v(" "),s("td",[t._v("普通账号一键买卖")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("36")]),t._v(" "),s("td",[t._v("信用账号一键买卖")]),t._v(" "),s("td")])])]),t._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[t._v("orderType 表示下单方式")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数值")]),t._v(" "),s("th",[t._v("表达意义")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("1101")]),t._v(" "),s("td",[t._v("单股、单账号、普通、股/手方式下单")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("1102")]),t._v(" "),s("td",[t._v("单股、单账号、普通、金额（元）方式下单")]),t._v(" "),s("td",[t._v("只支持股票")])]),t._v(" "),s("tr",[s("td",[t._v("1113")]),t._v(" "),s("td",[t._v("单股、单账号、总资产、比例 [0 ~ 1] 方式下单")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("1123")]),t._v(" "),s("td",[t._v("单股、单账号、可用、比例[0 ~ 1]方式下单")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("1201")]),t._v(" "),s("td",[t._v("单股、账号组（无权重）、普通、股/手方式下单")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("1202")]),t._v(" "),s("td",[t._v("单股、账号组（无权重）、普通、金额（元）方式下单")]),t._v(" "),s("td",[t._v("只支持股票")])]),t._v(" "),s("tr",[s("td",[t._v("1213")]),t._v(" "),s("td",[t._v("单股、账号组（无权重）、总资产、比例 [0 ~ 1] 方式下单")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("1223")]),t._v(" "),s("td",[t._v("单股、账号组（无权重）、可用、比例 [0 ~ 1] 方式下单")]),t._v(" "),s("td")])])]),t._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[s("p",[t._v("accountID 资金账号，下单的账号ID（可多个）或 账号组的名称 或 套利组名称（一个篮子一个套利账号,如accountID=’股票\n账户名,期货账号’）")])]),t._v(" "),s("li",[s("p",[t._v("orderCode，下单的合约品种代码。此此的品种代码有两种，一种是 单股 或 单期货、港股,此参数填写合约代码即可，如 ‘600000.SH’；如果是组合交易,则该参数填写篮子名称；如果是组合套利,则填一个篮子名和一个期货合约名（如orderCode=’篮子名,期货合约名’）")])]),t._v(" "),s("li",[s("p",[t._v("prType，下单的价格类型。特殊的情况是对于套利：此参数 prType 只对篮子起作用，期货的采用默认的方式。")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数值")]),t._v(" "),s("th",[t._v("表达意义")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("0")]),t._v(" "),s("td",[t._v("卖5价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("1")]),t._v(" "),s("td",[t._v("卖4价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("2")]),t._v(" "),s("td",[t._v("卖3价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("3")]),t._v(" "),s("td",[t._v("卖2价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("4")]),t._v(" "),s("td",[t._v("卖1价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("5")]),t._v(" "),s("td",[t._v("最新价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("6")]),t._v(" "),s("td",[t._v("买1价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("7")]),t._v(" "),s("td",[t._v("买2价")]),t._v(" "),s("td",[t._v("组合不支持")])]),t._v(" "),s("tr",[s("td",[t._v("8")]),t._v(" "),s("td",[t._v("买3价")]),t._v(" "),s("td",[t._v("组合不支持")])]),t._v(" "),s("tr",[s("td",[t._v("9")]),t._v(" "),s("td",[t._v("买4价")]),t._v(" "),s("td",[t._v("组合不支持")])]),t._v(" "),s("tr",[s("td",[t._v("10")]),t._v(" "),s("td",[t._v("买5价")]),t._v(" "),s("td",[t._v("组合不支持")])]),t._v(" "),s("tr",[s("td",[t._v("11")]),t._v(" "),s("td",[t._v("指定价模型价")]),t._v(" "),s("td",[t._v("只对单股情况支持,对组合交易不支持")])]),t._v(" "),s("tr",[s("td",[t._v("12")]),t._v(" "),s("td",[t._v("涨跌停价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("13")]),t._v(" "),s("td",[t._v("挂单价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("14")]),t._v(" "),s("td",[t._v("对手价")]),t._v(" "),s("td")])])]),t._v(" "),s("ol",{attrs:{start:"6"}},[s("li",[s("p",[t._v("price，下单价格。仅当参数 prType 为 11 时，即模型价时，此参数 price 才有效；其它情况无效。")])]),t._v(" "),s("li",[s("p",[t._v("volume，下单数量，即交易量（股 / 元 / %）。根据参数 orderType 值的最后一位来确定此参数 volume 的单位：在单股下单时：1：表示股；2：金额（元）；3：表示比例（%）")])]),t._v(" "),s("li",[s("p",[t._v("strageName，策略名称，与方法 passorder 不同，此处不可缺省")])]),t._v(" "),s("li",[s("p",[t._v("quickTrade，整数值（Int），表示是否立马触发下单，0 表示 否，1表示 是")])]),t._v(" "),s("li",[s("p",[t._v("userid，投资备注。与方法 passorder 不同，此处不可缺省")])]),t._v(" "),s("li",[s("p",[t._v("smartAlgoType，字符串型（String），表示 智能算法类型")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数值")]),t._v(" "),s("th",[t._v("表达意义")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("VWAP")]),t._v(" "),s("td",[t._v("VWAP")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("TWAP")]),t._v(" "),s("td",[t._v("TWAP")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("VP")]),t._v(" "),s("td",[t._v("跟量")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("PINLINE")]),t._v(" "),s("td",[t._v("跟价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("DMA")]),t._v(" "),s("td",[t._v("快捷")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("FLOAT")]),t._v(" "),s("td",[t._v("盘口")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("SWITCH")]),t._v(" "),s("td",[t._v("换仓")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("ICEBERG")]),t._v(" "),s("td",[t._v("冰山")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("MOC")]),t._v(" "),s("td",[t._v("尾盘")]),t._v(" "),s("td")])])]),t._v(" "),s("ol",{attrs:{start:"12"}},[s("li",[s("p",[t._v("limitOverRate，整数型（Int）量比，数据范围 0 -100，如果输入其他无效值，则limitOverRate为0。网格算法无此项。")])]),t._v(" "),s("li",[s("p",[t._v("minAmountPerOrder，整数型（Int），智能算法最小委托金额，数据范围 0 -- 100000，默认为0。")])]),t._v(" "),s("li",[s("p",[t._v("targetPriceLevel，智能算法目标价格")])])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数值")]),t._v(" "),s("th",[t._v("表达意义")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("1")]),t._v(" "),s("td",[t._v("己方盘口1")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("2")]),t._v(" "),s("td",[t._v("己方盘口2")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("3")]),t._v(" "),s("td",[t._v("己方盘口3")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("4")]),t._v(" "),s("td",[t._v("己方盘口4")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("5")]),t._v(" "),s("td",[t._v("己方盘口5")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("6")]),t._v(" "),s("td",[t._v("最新价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("7")]),t._v(" "),s("td",[t._v("对方盘口")]),t._v(" "),s("td")])])]),t._v(" "),s("p",[t._v("注：  一、输入无效值则targetPriceLevel为1； 二、本项只针对冰山算法,其他算法可缺省。")]),t._v(" "),s("ol",{attrs:{start:"15"}},[s("li",[s("p",[t._v('startTime/endTime，智能算法 开始和结束时间， 格式"HH:MM:SS"，如"10:30:00"。如果缺省值，则默认为"09:30:00"，"15:30:00"')])]),t._v(" "),s("li",[s("p",[t._v("limitControl，涨跌停控制    1：涨停不卖跌停不卖    0：无；    默认值为1")])])]),t._v(" "),s("p",[t._v("返回： 无")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 账户600000105 最新价 开仓 买入50000 000001.SZ平安银行,使用TWAP智能算法,量比20%,最小买卖金额0")]),t._v("\n    smart_algo_passorder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1101")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000105'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000001.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"strageName"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"remark"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TWAP"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         ContextInfo\n                        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 账户600000105最新价快速交易开仓买入50000股的000001.SZ平安银行,使用TWAP智能算法,量比20%,最小买卖金额0 且有效时长为 09:30-14:00")]),t._v("\n\tsmart_algo_passorder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1101")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000105'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000001.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"strageName"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"remark"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TWAP"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'09:30:00'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'14:00:00'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         ContextInfo\n                        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 账户600000105最新价快速交易开仓买入50000股的000001.SZ平安银行,使用TWAP智能算法,量比20%,最小买卖金额0且有效时长为09:30-14:00,不对智能算法涨停做限制")]),t._v("\n\tsmart_algo_passorder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1101")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000105'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000001.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"strageName"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"remark"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"TWAP"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'09:30:00'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'14:00:00'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         ContextInfo\n                        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br"),s("span",{staticClass:"line-number"},[t._v("58")]),s("br"),s("span",{staticClass:"line-number"},[t._v("59")]),s("br")])]),s("h3",{attrs:{id:"_4-03-根据委托号获取委托或成交信息get-value-by-order-id"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-03-根据委托号获取委托或成交信息get-value-by-order-id"}},[t._v("#")]),t._v(" 4.03  根据委托号获取委托或成交信息"),s("br"),t._v("get_value_by_order_id()")]),t._v(" "),s("p",[t._v("功能： 根据当天的 委托号 获取 委托单 或 成交单 的信息。")]),t._v(" "),s("p",[t._v("语法：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(" get_value_by_order_id(\n                       orderId, \n                       accountID, \n                       strAccountType, \n                       strDatatype\n                      )\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[t._v("参数："),s("br"),t._v("\norderId —— 字符串（String）委托号。"),s("br"),t._v("\naccountID —— 字符串（String）资金账号。"),s("br"),t._v("\nstrAccountType —— 字符串型（String）账号类型。"),s("br")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数值")]),t._v(" "),s("th",[t._v("表达意义")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("'FUTURE'")]),t._v(" "),s("td",[t._v("期货")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("'STOCK'")]),t._v(" "),s("td",[t._v("股票")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("'CREDIT'")]),t._v(" "),s("td",[t._v("信用")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("'HUGANGTONG'")]),t._v(" "),s("td",[t._v("沪港通")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("'SHENGANGTONG'")]),t._v(" "),s("td",[t._v("深港通")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("'STOCK_OPTION'")]),t._v(" "),s("td",[t._v("期权")]),t._v(" "),s("td")])])]),t._v(" "),s("p",[t._v("strDatatype —— 字符串型（String）'ORDER' 表示 委托单 ，'DEAL'表示已成交的单子"),s("br"),t._v("\n返回：一个对象（PythonObj）")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\tContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accid "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'6000000248'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\torderid "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_last_order_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stock'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'order'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("orderid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    obj "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_value_by_order_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("orderid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stock'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'order'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strInstrumentID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("h3",{attrs:{id:"_4-04-获取最新的委托或成交的委托号get-last-order-id"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-04-获取最新的委托或成交的委托号get-last-order-id"}},[t._v("#")]),t._v(" 4.04  获取最新的委托或成交的委托号"),s("br"),t._v("get_last_order_id()")]),t._v(" "),s("p",[t._v("功能： 获取最新的委托或成交的委托号。")]),t._v(" "),s("p",[t._v("语法：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("get_last_order_id(\n                  accountID, \n                  strAccountType, \n                  strDatatype, \n                  strategyName\n                 ) \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[t._v("参数：\naccountID —— 字符型（String）资金账号。\nstrAccountType —— 字符型（String）账号类型。")]),t._v(" "),s("p",[t._v("strDatatype —— 字符型（String）'ORDER' 表示 委托单 ，'DEAL'表示已成交的单子"),s("br"),t._v("\nstrategyName —— 字符型（String）表达策略名称，对应 passorder 下单函数中的参数strategyName 的值。"),s("br"),t._v("\n返回： 字符型（String）表示委托号，如果没找到返回  '-1'"),s("br"),t._v("\n示例代码见上例")]),t._v(" "),s("h3",{attrs:{id:"_4-05-查询委托是否可撤销can-cancel-order"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-05-查询委托是否可撤销can-cancel-order"}},[t._v("#")]),t._v(" 4.05 查询委托是否可撤销"),s("br"),t._v("can_cancel_order()")]),t._v(" "),s("p",[t._v("功能： 查询指定的委托单是否可撤销。\n语法：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("can_cancel_order(\n                 orderId, \n                 accountID, \n                 strAccountType\n                )\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("参数："),s("br"),t._v("\norderId —— 字符串（String），委托订单号。 "),s("br"),t._v("\naccountID —— 字符串（String）资金账号。"),s("br"),t._v("\nstrAccountType —— 字符串（String）账号类型 "),s("br"),t._v("返回： 布尔值（Bool），True：表示撤销，False：表示不可撤销")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\tContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accid "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'6000000248'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\torderid "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_last_order_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stock'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'order'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"获取到的委托单号为："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\n    can_cancel "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" can_cancel_order"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("orderid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stock'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托单 "')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("' 是否可撤消:'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" can_cance\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h3",{attrs:{id:"_4-06-取消委托-cancel"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-06-取消委托-cancel"}},[t._v("#")]),t._v(" 4.06 取消委托"),s("br"),t._v(" cancel()")]),t._v(" "),s("p",[t._v("功能： 取消指定的委托\n语法：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("cancel(\n       orderId, \n       accountId, \n       accountType, \n       ContextInfo\n      ) \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[t._v("参数： "),s("br"),t._v("\norderId —— 字符串型（String）想要取消的委托订单号。"),s("br"),t._v("\naccountID —— 字符串型（String）资金账号。 "),s("br"),t._v("\nstrAccountType —— 字符串型（String）账号类型"),s("br"),t._v("ContextInfo —— 对象（pythonobj） 默认参数，可缺省")]),t._v(" "),s("p",[t._v("返回： 布尔值（Bool）是否发出了取消委托信号， True 表示 是 False表示 否")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\tContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accid "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'6000000248'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\torderid "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_last_order_id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stock'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'order'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("cancel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("orderid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stock'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("h3",{attrs:{id:"_4-07-取消任务cancel-task"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-07-取消任务cancel-task"}},[t._v("#")]),t._v(" 4.07 取消任务"),s("br"),t._v("cancel_task()")]),t._v(" "),s("p",[t._v("功能： 撤销任务。")]),t._v(" "),s("p",[t._v("语法：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("cancel_task(\n            taskId,\n            accountId,\n            accountType,\n            ContextInfo\n           )\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[t._v("参数："),s("br"),t._v("\ntaskId —— 字符串型（String）任务编号。如果此参数为空，则表示撤销该资金账号上所有可撤销的任务。 "),s("br"),t._v("\naccountID —— 字符串型（String）资金账号。"),s("br"),t._v("\nstrAccountType —— 字符串型（String）账号类型"),s("br"),t._v("ContextInfo —— 对象（pythonobj） 默认参数，可缺省")]),t._v(" "),s("p",[t._v("返回： 布尔值（Bool）是否发出了取消任务信号， True 表示 是 False表示 否"),s("br"),t._v("\n示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\tContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accid "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'6000000248'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\tobjlist "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_trade_detail_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stock'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'task'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" obj "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" obj_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t\tcancel_task"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nTaskId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stock'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("h3",{attrs:{id:"_4-08-暂停任务pause-task"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-08-暂停任务pause-task"}},[t._v("#")]),t._v(" 4.08 暂停任务"),s("br"),t._v("pause_task()")]),t._v(" "),s("p",[t._v("功能： 暂停智能算法任务。")]),t._v(" "),s("p",[t._v("语法：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("pause_task(\n           taskId,\n           accountId,\n           accountType,\n           ContextInfo\n          )\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[t._v("参数：")]),t._v(" "),s("p",[t._v("taskId —— 字符串型（String）任务编号。如果此参数为空，则表示暂停该资金账号上所有可暂停的任务。 "),s("br"),t._v("\naccountID —— 字符串型（String）资金账号。"),s("br"),t._v("\nstrAccountType —— 字符串型（String）账号类型"),s("br"),t._v("ContextInfo —— 对象（pythonobj） 默认参数，可缺省")]),t._v(" "),s("p",[t._v("返回： 布尔值（Bool）是否发出了暂停委托信号， True 表示 是 False表示 否")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\tContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accid "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'6000000248'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\tobjlist "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_trade_detail_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stock'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'task'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" obj "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" obj_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t\tpause_task"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nTaskId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stock'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("h3",{attrs:{id:"_4-09-继续任务resume-task"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-09-继续任务resume-task"}},[t._v("#")]),t._v(" 4.09 继续任务"),s("br"),t._v("resume_task()")]),t._v(" "),s("p",[t._v("功能： 继续智能算法任务。")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("resume_task(\n           taskId,\n           accountId,\n           accountType,\n           ContextInfo\n          )\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[t._v("参数：")]),t._v(" "),s("p",[t._v("taskId —— 字符串型（String）任务编号。如果此参数为空，则表示暂停该资金账号上所有可暂停的任务。 "),s("br"),t._v("\naccountID —— 字符串型（String）资金账号。"),s("br"),t._v("\nstrAccountType —— 字符串型（String）账号类型"),s("br"),t._v("ContextInfo —— 对象（pythonobj） 默认参数，可缺省")]),t._v(" "),s("p",[t._v("返回： 布尔值（Bool）是否发出了继续任务的指令， True 表示 是， False表示 否")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\tContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accid "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'6000000248'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\tobjlist "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_trade_detail_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stock'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'task'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" obj "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" obj_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t\tresume_task"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nTaskId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stock'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("h3",{attrs:{id:"_4-10-实时触发前一根k线信号do-order"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-10-实时触发前一根k线信号do-order"}},[t._v("#")]),t._v(" 4.10 实时触发前一根K线信号"),s("br"),t._v("do_order()")]),t._v(" "),s("p",[t._v("功能： 实时触发前一根 K 线信号函数。 系统实盘中交易下单函数一般是把上一个周期产生的信号在最新的周期的第一个 tick 下单出去，而日 K 线第一个 tick 是在 9:25 分集合竞价结束时产生，如果策略模型在 9:25 分之后跑又想把前一天的下单信号发出去，就可用 do_order 函数配合实现。 特别需要注意的是，有调用 do_order 函数的策略模型跑在 9:25 分之前或别的日内周期下时，原有下单 函数和 do_order 函数都有下单信号，有可能导致重复下单。")]),t._v(" "),s("p",[t._v("参数： 无")]),t._v(" "),s("p",[t._v("返回： 无\n示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 实现跑日 K 线及以上周期下,在固定时间点把前一周期的交易信号发送出去")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pass")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\torder_lots"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000002.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000248'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tticktimetag "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_tick_timetag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tint_time "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timetag_to_datetime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ticktimetag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'%H%M%S'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100500")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" int_time "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100505")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t\tdo_order"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br")])]),s("h3",{attrs:{id:"_4-11-指定手数交易order-lots"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-11-指定手数交易order-lots"}},[t._v("#")]),t._v(" 4.11 指定手数交易"),s("br"),t._v("order_lots()")]),t._v(" "),s("p",[t._v("功能： 按指定手数进行， 买/卖单交易。")]),t._v(" "),s("p",[t._v("语法：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("order_lots(\n           stockcode, \n           lots[, \n           style, \n           price], \n           ContextInfo[, \n           accId]\n          )\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[t._v("参数："),s("br"),t._v("\nstockcode —— 股票品种代码，字符型（String），如 '000002.SZ'"),s("br"),t._v("\nlots —— 手数，整数型（Int）"),s("br"),t._v("\nstyle —— 下单选价类型，字符串型（String）默认为最新价 'LATEST'"),s("br")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数值")]),t._v(" "),s("th",[t._v("表达意义")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("'LATEST'")]),t._v(" "),s("td",[t._v("最新价")]),t._v(" "),s("td",[t._v("默认值")])]),t._v(" "),s("tr",[s("td",[t._v("'FIX'")]),t._v(" "),s("td",[t._v("指定")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("'HANG'")]),t._v(" "),s("td",[t._v("挂单")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("'COMPETE'")]),t._v(" "),s("td",[t._v("对手")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("'MARKET'")]),t._v(" "),s("td",[t._v("市价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("'SALE5', 'SALE4', 'SALE3', 'SALE2', 'SALE1'")]),t._v(" "),s("td",[t._v("卖5-1价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("'BUY1', 'BUY2', 'BUY3', 'BUY4', 'BUY5'")]),t._v(" "),s("td",[t._v("买1-5价")]),t._v(" "),s("td")])])]),t._v(" "),s("p",[t._v("price —— 价格，双精度浮点型（Double）"),s("br"),t._v("\nContextInfo —— Python 对象（PythonObj），这里必须是 ContextInfo"),s("br"),t._v("\naccId —— 账号，字符型（String）"),s("br"),t._v("\n返回： 无"),s("br"),t._v("\n示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pass")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 按最新价下 1 手买入")]),t._v("\n\torder_lots"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000002.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000248'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用对手价下 1 手卖出")]),t._v("\n\torder_lots"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000002.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'COMPETE'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000248'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用指定价 37.5 下 2 手卖出")]),t._v("\n\torder_lots"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000002.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fix'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("37.5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000248'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("h3",{attrs:{id:"_4-12-指定价值交易order-value"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-12-指定价值交易order-value"}},[t._v("#")]),t._v(" 4.12 指定价值交易"),s("br"),t._v("order_value()")]),t._v(" "),s("p",[t._v("功能： 按指定金额进行， 买/卖单交易。")]),t._v(" "),s("p",[t._v("语法：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("order_value(\n           stockcode, \n           value[, \n           style, \n           price], \n           ContextInfo[, \n           accId]\n          )\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[t._v("参数："),s("br"),t._v("\nstockcode —— 股票品种代码，字符型（String），如 '000002.SZ'"),s("br"),t._v("\nvalue —— 金额，双精度浮点型（Double）"),s("br"),t._v("\nstyle —— 下单选价类型，字符串型（String）默认为最新价 'LATEST'"),s("br"),t._v("price —— 价格，双精度浮点型（Double）"),s("br"),t._v("\nContextInfo —— Python 对象（PythonObj），这里必须是 ContextInfo"),s("br"),t._v("\naccId —— 账号，字符型（String）"),s("br"),t._v("\n返回： 无"),s("br"),t._v("\n示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pass")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 按最新价下 10000 元买入")]),t._v("\n\torder_value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000002.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000248'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用对手价下 10000 元卖出")]),t._v("\n\torder_value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000002.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'COMPETE'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000248'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用指定价 37.5 下 20000 元卖出")]),t._v("\n\torder_value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000002.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fix'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("37.5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'60000248'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("h3",{attrs:{id:"_4-13-指定比例交易order-percent"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-13-指定比例交易order-percent"}},[t._v("#")]),t._v(" 4.13 指定比例交易"),s("br"),t._v("order_percent()")]),t._v(" "),s("p",[t._v("功能： 指定一个比例值，发送一个等于目前投资组合价值（市场价值和目前现金的总和）一定百分比的买/ 卖单，正数代表买，负数代表卖。股票的股数总是会被调整成对应的一手的股票数的倍数（1 手是 100股）。百分比是一个小数，并且小于或等于1（小于等于100%），0.5 表示的是 50%。需要注意，如果资金不足，将不会发送交易指令。")]),t._v(" "),s("p",[t._v("语法：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(" order_percent(\n               stockcode, \n               percent,\n               style,\n               price, \n               ContextInfo,\n               accId\n              )\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[t._v("参数："),s("br"),t._v("\nstockcode —— 股票品种代码，字符型（String），如 '000002.SZ'"),s("br"),t._v("\npercent —— 百分比，双精度浮点型（Double）。1 表示 100%，因此通常设置的数值小于1，如 0.5 表示  50%"),s("br"),t._v("\nstyle —— 下单选价类型，字符串型（String）默认为最新价 'LATEST'"),s("br"),t._v("price —— 价格，双精度浮点型（Double）"),s("br"),t._v("\nContextInfo —— Python 对象（PythonObj），这里必须是 ContextInfo"),s("br"),t._v("\naccId —— 账号，字符型（String）"),s("br"),t._v("\n返回： 无"),s("br"),t._v("\n示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pass")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 按最新价下 5.1% 价值买入")]),t._v("\n\torder_percent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000002.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.051")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000248'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用对手价下 5.1% 价值卖出")]),t._v("\n\torder_percent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000002.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.051")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'COMPETE'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000248'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用指定价 37.5 下 10.2% 价值卖出")]),t._v("\n\torder_percent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000002.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.102")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fix'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("37.5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000248'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br")])]),s("h3",{attrs:{id:"_4-14-指定目标价值交易order-target-value"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-14-指定目标价值交易order-target-value"}},[t._v("#")]),t._v(" 4.14 指定目标价值交易"),s("br"),t._v("order_target_value()")]),t._v(" "),s("p",[t._v("功能： 指定目标品种价值，去执行交易 买入/卖出操作，并且自动调整该证券的仓位到一个目标价值。如果还没有任何该证券的仓位，那么会买入全部目标价值的证券；如果已经有了该证券的仓位，则会买入 / 卖出调整该证券的现在仓位和目标仓位的价值差值的数目的证券。需要注意，如果资金不足，将不会发送交易订单。")]),t._v(" "),s("p",[t._v("语法：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(" order_target_value(\n                    stockcode, \n                    tar_value[, \n                    style, \n                    price], \n                    ContextInfo[, \n                    accId]\n                   )\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[t._v("参数："),s("br"),t._v("\nstockcode —— 股票品种代码，字符型（String），如 '000002.SZ'"),s("br"),t._v("\ntar_value —— 目标价值金额（元），非负数，双精度浮点型（Double）。"),s("br"),t._v("\nstyle —— 下单选价类型，字符串型（String）默认为最新价 'LATEST'"),s("br"),t._v("price —— 价格，双精度浮点型（Double）"),s("br"),t._v("\nContextInfo —— Python 对象（PythonObj），这里必须是 ContextInfo"),s("br"),t._v("\naccId —— 账号，字符型（String）"),s("br"),t._v("\n返回： 无"),s("br"),t._v("\n示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pass")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 按最新价下调仓到 10000 元持仓")]),t._v("\n\torder_target_value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000002.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000248'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用对手价调仓到 10000 元持仓")]),t._v("\n\torder_target_value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000002.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'COMPETE'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000248'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用指定价 37.5 下调仓到 20000 元持仓")]),t._v("\n    order_target_value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000002.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fix'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("37.5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000248'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br")])]),s("h3",{attrs:{id:"_4-15-指定目标比例交易order-target-percent"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-15-指定目标比例交易order-target-percent"}},[t._v("#")]),t._v(" 4.15 指定目标比例交易"),s("br"),t._v("order_target_percent()")]),t._v(" "),s("p",[t._v("功能：  指定目标比例交易，买入 / 卖出证券以自动调整该证券的仓位到占有一个指定的投资组合的目标百分比。投资组合价值等于所有已有仓位的价值和剩余现金的总和。买 / 卖单会被下舍入一手股数（A股是 100 的倍数）的倍数。目标百分比应该是一个小数，并且最大值应该小于等于1，比如 0.5 表示50%，需要注意，如果资金不足，该API将不会创建发送订单。")]),t._v(" "),s("p",[t._v("语法：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v(" order_target_percent(\n                    stockcode, \n                    tar_percent[, \n                    style, \n                    price], \n                    ContextInfo[, \n                    accId]\n                   )\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[t._v("参数："),s("br"),t._v("\nstockcode —— 股票品种代码，字符型（String），如 '000002.SZ'"),s("br"),t._v("\ntar_percent —— 目标百分比 [0 ~ 1]，双精度浮点型（Double）。"),s("br"),t._v("\nstyle —— 下单选价类型，字符串型（String）默认为最新价 'LATEST'"),s("br"),t._v("price —— 价格，双精度浮点型（Double）"),s("br"),t._v("\nContextInfo —— Python 对象（PythonObj），这里必须是 ContextInfo"),s("br"),t._v("\naccId —— 账号，字符型（String）"),s("br"),t._v("\n返回： 无"),s("br"),t._v("\n示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pass")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 按最新价下买入调仓到 5.1% 持仓")]),t._v("\n\torder_target_percent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000002.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.051")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000248'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用对手价调仓到 5.1% 持仓")]),t._v("\n\torder_target_percent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000002.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.051")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'COMPETE'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000248'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用指定价 37.5 调仓到 10.2% 持仓")]),t._v("\n\torder_target_percent"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000002.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.102")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fix'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("37.5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000248'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("h3",{attrs:{id:"_4-16-指定股数交易order-shares"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-16-指定股数交易order-shares"}},[t._v("#")]),t._v(" 4.16 指定股数交易"),s("br"),t._v("order_shares()")]),t._v(" "),s("p",[t._v("功能：指定股票数量，下单交易买 / 卖单，这是最常见的下单方式之一。参数 style 可用于设定交易时的选价类型，默认为最新价 'LATEST'")]),t._v(" "),s("p",[t._v("语法：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("order_shares(\n             stockcode, \n             shares[, \n             style, \n             price], \n             ContextInfo[, \n             accId]\n            )\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[t._v("参数："),s("br"),t._v("\nstockcode —— 股票品种代码，字符型（String），如 '000002.SZ'"),s("br"),t._v("\nshares —— 想要交易的股票数量，整数型（Int）。为 100 的整数倍"),s("br"),t._v("\nstyle —— 下单选价类型，字符串型（String）默认为最新价 'LATEST'"),s("br"),t._v("price —— 价格，双精度浮点型（Double）"),s("br"),t._v("\nContextInfo —— Python 对象（PythonObj），这里必须是 ContextInfo"),s("br"),t._v("\naccId —— 账号，字符型（String）"),s("br"),t._v("\n返回： 无")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 按最新价下 100 股买入")]),t._v("\n\torder_shares"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000002.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000248'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用对手价下 100 股卖出")]),t._v("\n\torder_shares"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000002.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'COMPETE'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000248'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用指定价 37.5 下 200 股卖出")]),t._v("\n\torder_shares"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000002.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fix'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("37.5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000248'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("h3",{attrs:{id:"_4-17-期货买入开仓buy-open"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-17-期货买入开仓buy-open"}},[t._v("#")]),t._v(" 4.17 期货买入开仓"),s("br"),t._v("buy_open()")]),t._v(" "),s("p",[t._v("功能： 期货买入开仓")]),t._v(" "),s("p",[t._v("语法：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("buy_open(\n         stockcode, \n         amount[, \n         style, \n         price], \n         ContextInfo[, \n         accId]\n        )\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[t._v("参数："),s("br"),t._v("\nstockcode —— 品种代码，字符型（String），如 'IF1805.IF'"),s("br"),t._v("\namount —— 想要交易的手数，整数型（Int）。"),s("br"),t._v("\nstyle —— 下单选价类型，字符串型（String）默认为最新价 'LATEST'"),s("br")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("参数值")]),t._v(" "),s("th",[t._v("表达意义")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("'LATEST'")]),t._v(" "),s("td",[t._v("最新价")]),t._v(" "),s("td",[t._v("默认值")])]),t._v(" "),s("tr",[s("td",[t._v("'FIX'")]),t._v(" "),s("td",[t._v("指定")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("'HANG'")]),t._v(" "),s("td",[t._v("挂单")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("'COMPETE'")]),t._v(" "),s("td",[t._v("对手")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("'MARKET'")]),t._v(" "),s("td",[t._v("市价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("'SALE1'")]),t._v(" "),s("td",[t._v("卖1价")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("'BUY1'")]),t._v(" "),s("td",[t._v("买1价")]),t._v(" "),s("td")])])]),t._v(" "),s("p",[t._v("price —— 价格，双精度浮点型（Double）"),s("br"),t._v("\nContextInfo —— Python 对象（PythonObj），这里必须是 ContextInfo"),s("br"),t._v("\naccId —— 账号，字符型（String）"),s("br"),t._v("\n返回： 无")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 按最新价 1 手买入开仓")]),t._v("\n\tbuy_open"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IF1805.IF'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'110476'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用对手价 1 手买入开仓")]),t._v("\n\tbuy_open"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IF1805.IF'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'COMPETE'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'110476'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用指定价 3750 元 2 手买入开仓")]),t._v("\n    buy_open"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IF1805.IF'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fix'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3750")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'110476'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("h3",{attrs:{id:"_4-18-期货买入平仓-平今优先-buy-close-tdayfirst"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-18-期货买入平仓-平今优先-buy-close-tdayfirst"}},[t._v("#")]),t._v(" 4.18 期货买入平仓（平今优先）"),s("br"),t._v("buy_close_tdayfirst()")]),t._v(" "),s("p",[t._v("功能： 期货买入平仓，平今优先")]),t._v(" "),s("p",[t._v("语法：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("buy_close_tdayfirst(\n         stockcode, \n         amount[, \n         style, \n         price], \n         ContextInfo[, \n         accId]\n        )\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[t._v("参数："),s("br"),t._v("\nstockcode —— 品种代码，字符型（String），如 'IF1805.IF'"),s("br"),t._v("\namount —— 想要交易的手数，整数型（Int）。"),s("br"),t._v("\nstyle —— 下单选价类型，字符串型（String）默认为最新价 'LATEST'"),s("br"),t._v("price —— 价格，双精度浮点型（Double）"),s("br"),t._v("\nContextInfo —— Python 对象（PythonObj），这里必须是 ContextInfo"),s("br"),t._v("\naccId —— 账号，字符型（String）"),s("br"),t._v("\n返回： 无")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 按最新价 1 手买入开仓，平今优先")]),t._v("\n\tbuy_close_tdayfirst"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IF1805.IF'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'110476'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用对手价 1 手买入开仓，平今优先")]),t._v("\n\tbuy_close_tdayfirst"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IF1805.IF'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'COMPETE'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'110476'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用指定价 3750 元 2 手买入开仓，平今优先")]),t._v("\n    buy_close_tdayfirst"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IF1805.IF'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fix'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3750")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'110476'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("h3",{attrs:{id:"_4-19-期货买入平仓-平昨优先-buy-close-ydayfirst"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-19-期货买入平仓-平昨优先-buy-close-ydayfirst"}},[t._v("#")]),t._v(" 4.19 期货买入平仓（平昨优先）"),s("br"),t._v("buy_close_ydayfirst()")]),t._v(" "),s("p",[t._v("功能： 期货买入开仓，平昨优先")]),t._v(" "),s("p",[t._v("语法：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("buy_close_ydayfirst(\n         stockcode, \n         amount[, \n         style, \n         price], \n         ContextInfo[, \n         accId]\n        )\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[t._v("参数："),s("br"),t._v("\nstockcode —— 品种代码，字符型（String），如 'IF1805.IF'"),s("br"),t._v("\namount —— 想要交易的手数，整数型（Int）。"),s("br"),t._v("\nstyle —— 下单选价类型，字符串型（String）默认为最新价 'LATEST'"),s("br"),t._v("price —— 价格，双精度浮点型（Double）\nContextInfo —— Python 对象（PythonObj），这里必须是 ContextInfo\naccId —— 账号，字符型（String）\n返回： 无")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 按最新价 1 手买入开仓，平昨优先")]),t._v("\n\tbuy_close_ydayfirst"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IF1805.IF'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'110476'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用对手价 1 手买入开仓，平昨优先")]),t._v("\n\tbuy_close_ydayfirst"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IF1805.IF'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'COMPETE'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'110476'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用指定价 3750 元 2 手买入开仓，平昨优先")]),t._v("\n    buy_close_ydayfirst"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IF1805.IF'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fix'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3750")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'110476'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("h3",{attrs:{id:"_4-20-期货卖出开仓sell-open"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-20-期货卖出开仓sell-open"}},[t._v("#")]),t._v(" 4.20 期货卖出开仓"),s("br"),t._v("sell_open()")]),t._v(" "),s("p",[t._v("功能： 期货卖出开仓")]),t._v(" "),s("p",[t._v("语法：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("sell_open(\n         stockcode, \n         amount[, \n         style, \n         price], \n         ContextInfo[, \n         accId]\n        )\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[t._v("参数："),s("br"),t._v("\nstockcode —— 品种代码，字符型（String），如 'IF1805.IF'"),s("br"),t._v("\namount —— 想要交易的手数，整数型（Int）。"),s("br"),t._v("\nstyle —— 下单选价类型，字符串型（String）默认为最新价 'LATEST'"),s("br"),t._v("price —— 价格，双精度浮点型（Double）"),s("br"),t._v("\nContextInfo —— Python 对象（PythonObj），这里必须是 ContextInfo"),s("br"),t._v("\naccId —— 账号，字符型（String）"),s("br"),t._v("\n返回： 无")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 按最新价 1 手卖出开仓")]),t._v("\n\tbuy_open"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IF1805.IF'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'110476'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用对手价 1 手卖出开仓")]),t._v("\n\tbuy_open"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IF1805.IF'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'COMPETE'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'110476'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用指定价 3750 元 2 手卖出开仓")]),t._v("\n    buy_open"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IF1805.IF'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fix'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3750")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'110476'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("h3",{attrs:{id:"_4-21-期货卖出平仓-平今优先-sell-close-tdayfirst"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-21-期货卖出平仓-平今优先-sell-close-tdayfirst"}},[t._v("#")]),t._v(" 4.21 期货卖出平仓（平今优先）"),s("br"),t._v("sell_close_tdayfirst()")]),t._v(" "),s("p",[t._v("功能： 期货卖出平仓，平今优先")]),t._v(" "),s("p",[t._v("语法：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("sell_close_tdayfirst(\n         stockcode, \n         amount[, \n         style, \n         price], \n         ContextInfo[, \n         accId]\n        )\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[t._v("参数："),s("br"),t._v("\nstockcode —— 品种代码，字符型（String），如 'IF1805.IF'"),s("br"),t._v("\namount —— 想要交易的手数，整数型（Int）。"),s("br"),t._v("\nstyle —— 下单选价类型，字符串型（String）默认为最新价 'LATEST'"),s("br"),t._v("price —— 价格，双精度浮点型（Double）"),s("br"),t._v("\nContextInfo —— Python 对象（PythonObj），这里必须是 ContextInfo"),s("br"),t._v("\naccId —— 账号，字符型（String）"),s("br"),t._v("\n返回： 无")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 按最新价 1 手买入开仓，平今优先")]),t._v("\n\tsell_close_tdayfirst"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IF1805.IF'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'110476'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用对手价 1 手买入开仓，平今优先")]),t._v("\n\tsell_close_tdayfirst"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IF1805.IF'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'COMPETE'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'110476'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用指定价 3750 元 2 手买入开仓，平今优先")]),t._v("\n    sell_close_tdayfirst"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IF1805.IF'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fix'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3750")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'110476'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("h3",{attrs:{id:"_4-22-期货卖出平仓-平昨优先-sell-close-ydayfirst"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-22-期货卖出平仓-平昨优先-sell-close-ydayfirst"}},[t._v("#")]),t._v(" 4.22 期货卖出平仓（平昨优先）"),s("br"),t._v("sell_close_ydayfirst()")]),t._v(" "),s("p",[t._v("功能： 期货卖出平仓，平昨优先")]),t._v(" "),s("p",[t._v("语法：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("sell_close_tdayfirst(\n         stockcode, \n         amount[, \n         style, \n         price], \n         ContextInfo[, \n         accId]\n        )\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("p",[t._v("参数："),s("br"),t._v("\nstockcode —— 品种代码，字符型（String），如 'IF1805.IF'"),s("br"),t._v("\namount —— 想要交易的手数，整数型（Int）。"),s("br"),t._v("\nstyle —— 下单选价类型，字符串型（String）默认为最新价 'LATEST'"),s("br"),t._v("price —— 价格，双精度浮点型（Double）"),s("br"),t._v("\nContextInfo —— Python 对象（PythonObj），这里必须是 ContextInfo"),s("br"),t._v("\naccId —— 账号，字符型（String）"),s("br"),t._v("\n返回： 无")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 按最新价 1 手买入开仓，平昨优先")]),t._v("\n\tsell_close_ydayfirst"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IF1805.IF'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'110476'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用对手价 1 手买入开仓，平昨优先")]),t._v("\n\tsell_close_ydayfirst"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IF1805.IF'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'COMPETE'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'110476'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用指定价 3750 元 2 手买入开仓，平昨优先")]),t._v("\n    sell_close_ydayfirst"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'IF1805.IF'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fix'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3750")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'110476'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("h3",{attrs:{id:"_4-23-已弃用-获取两融负债合约明细-5-24-get-debt-contract"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-23-已弃用-获取两融负债合约明细-5-24-get-debt-contract"}},[t._v("#")]),t._v(" 4.23 [已弃用]获取两融负债合约明细"),s("br"),t._v("（5.24） get_debt_contract()")]),t._v(" "),s("p",[t._v("已弃用")]),t._v(" "),s("h3",{attrs:{id:"_4-24-获取两融担保标的明细get-assure-contract"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-24-获取两融担保标的明细get-assure-contract"}},[t._v("#")]),t._v(" 4.24 获取两融担保标的明细"),s("br"),t._v("get_assure_contract()")]),t._v(" "),s("p",[t._v("功能： 获取信用账户担保合约明细"),s("br"),t._v("\n语法： get_debt_contract(accId)"),s("br"),t._v("\n参数：")]),t._v(" "),s("p",[t._v("accId —— 信用账户")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\tobj_list "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_assure_contract"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'6000000248'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" obj "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" obj_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出担保合约名")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strInstrumentName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("h3",{attrs:{id:"_4-25-获取可融券明细-get-enable-short-contract"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-25-获取可融券明细-get-enable-short-contract"}},[t._v("#")]),t._v(" 4.25 获取可融券明细"),s("br"),t._v(" get_enable_short_contract()")]),t._v(" "),s("p",[t._v("功能： 获取信用账户当前可融券的明细"),s("br"),t._v("\n语法： get_enable_short_contract(accId)"),s("br"),t._v("\n参数：")]),t._v(" "),s("p",[t._v("accId —— 信用账户")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\tobj_list "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_enable_short_contract"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'6000000248'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" obj "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" obj_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 输出可融券合约名")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strInstrumentName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("h3",{attrs:{id:"_4-26-算法交易下单algo-passorder"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-26-算法交易下单algo-passorder"}},[t._v("#")]),t._v(" 4.26 算法交易下单"),s("br"),t._v("algo_passorder()")]),t._v(" "),s("p",[t._v("功能： 算法交易下单，此时使用交易面板-程序交易-函数交易-函数交易参数中设置的下单类型（普通交 易,算法交易,随机量交易）。 如果函数交易参数使用未修改的默认值，此函数和passorder函数一致。 设置了函数交易参数后，将会使用函数交易参数的超价等拆单参数,如果入参的prType = -1，同 时将会使用函数交易参数的报价方式。")]),t._v(" "),s("p",[t._v("语法：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("algo_passorder(\n               opType, \n               orderType, \n               accountid, \n               orderCode, \n               prType, \n               modelprice, \n               volume[, \n               strategyName, \n               quickTrade, \n               userOrderId, \n               userOrderParam], \n               ContextInfo\n              )\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("p",[t._v("示例： 可参考 4.02 智能算法交易")]),t._v(" "),s("h3",{attrs:{id:"_4-27-获取股票篮子get-basket"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-27-获取股票篮子get-basket"}},[t._v("#")]),t._v(" 4.27 获取股票篮子"),s("br"),t._v("get_basket()")]),t._v(" "),s("p",[t._v("功能： 获取股票篮子")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("p",[t._v("basketName —— 字符串（String）股票篮子名称")]),t._v(" "),s("p",[t._v("语法： "),s("code",[t._v("get_basket(basketName)")])]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" get_basket"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'basket1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"_4-28-设置股票篮子set-basket"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-28-设置股票篮子set-basket"}},[t._v("#")]),t._v(" 4.28 设置股票篮子"),s("br"),t._v("set_basket()")]),t._v(" "),s("p",[t._v("功能： 设置passorder的股票篮子,仅用于passorder进行篮子交易,设置成功后,用get_basket可以取出后 即可进行passorder组合交易下单")]),t._v(" "),s("p",[t._v("语法： "),s("code",[t._v("set_basket(basketDict)")])]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("p",[t._v("basketDict —— 字典类型（Dict）表示一个股票篮子，格式如下：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("{'name':股票篮子名称, \n\n 'stocks':[\n           {'stock':股票名称,\n            'weight':权重,\n            'quantity':数量,\n            'optType':交易类型\n           }\n          ]\n}  \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("h3",{attrs:{id:"_4-29-获取未了结负债合约明细get-unclosed-compacts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-29-获取未了结负债合约明细get-unclosed-compacts"}},[t._v("#")]),t._v(" 4.29 获取未了结负债合约明细"),s("br"),t._v("get_unclosed_compacts()")]),t._v(" "),s("p",[t._v("功能： 获取未了结负债合约明细")]),t._v(" "),s("p",[t._v("语法： "),s("code",[t._v("get_unclosed_compacts(accountID,accountType)")])]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("p",[t._v("accountID —— 字符串型（String）表示资金账号")]),t._v(" "),s("p",[t._v("accountType —— 字符串型（String）账号类型")]),t._v(" "),s("p",[t._v("返回： 一个列表（List）"),s("code",[t._v("[ CStkUnclosedCompacts, ... ]")])]),t._v(" "),s("p",[t._v("其中 CStkUnclosedCompacts 属性如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("属性名称")]),t._v(" "),s("th",[t._v("数据类型")]),t._v(" "),s("th",[t._v("表示意义")]),t._v(" "),s("th",[t._v("备注")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("m_strAccountID")]),t._v(" "),s("td",[t._v("字符串型（String）")]),t._v(" "),s("td",[t._v("账号ID")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("m_nBrokerType")]),t._v(" "),s("td",[t._v("整数型（Int）")]),t._v(" "),s("td",[t._v("账号类型")]),t._v(" "),s("td",[t._v("1-期货账号,"),s("br"),t._v("2-股票账号,"),s("br"),t._v("3-信用账号,"),s("br"),t._v("5-期货期权账号,"),s("br"),t._v("6-股票期权账号,"),s("br"),t._v("7-沪港通账号,"),s("br"),t._v("11-深港通账号)")])]),t._v(" "),s("tr",[s("td",[t._v("m_strExchangeID")]),t._v(" "),s("td",[t._v("字符串型（String）")]),t._v(" "),s("td",[t._v("市场代码")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("m_strInstrumentID")]),t._v(" "),s("td",[t._v("字符串型（String）")]),t._v(" "),s("td",[t._v("证券代码")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("m_eCompactType")]),t._v(" "),s("td",[t._v("整数型（Int）")]),t._v(" "),s("td",[t._v("合约类型")]),t._v(" "),s("td",[t._v("32-不限制,48-融资,49-融券")])]),t._v(" "),s("tr",[s("td",[t._v("m_eCashgroupProp")]),t._v(" "),s("td",[t._v("整数型（Int）")]),t._v(" "),s("td",[t._v("头寸来源")]),t._v(" "),s("td",[t._v("32-不限制,48-普通头寸,49-专项头寸")])]),t._v(" "),s("tr",[s("td",[t._v("m_nOpenDate")]),t._v(" "),s("td",[t._v("整数型（Int）")]),t._v(" "),s("td",[t._v("开仓日期")]),t._v(" "),s("td",[t._v("如'20201231'")])]),t._v(" "),s("tr",[s("td",[t._v("m_nBusinessVol")]),t._v(" "),s("td",[t._v("整数型（Int）")]),t._v(" "),s("td",[t._v("合约证券数量")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("m_nRealCompactVol")]),t._v(" "),s("td",[t._v("整数型（Int）")]),t._v(" "),s("td",[t._v("未还合约数量")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("m_nRetEndDate")]),t._v(" "),s("td",[t._v("整数型（Int）")]),t._v(" "),s("td",[t._v("到期日")]),t._v(" "),s("td",[t._v("如'20201231'")])]),t._v(" "),s("tr",[s("td",[t._v("m_dBusinessBalance")]),t._v(" "),s("td",[t._v("浮点型(Float)")]),t._v(" "),s("td",[t._v("合约金额")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("m_dBusinessFare")]),t._v(" "),s("td",[t._v("浮点型(Float)")]),t._v(" "),s("td",[t._v("合约息费")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("m_dRealCompactBalance")]),t._v(" "),s("td",[t._v("浮点型(Float)")]),t._v(" "),s("td",[t._v("未还合约金额")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("m_dRealCompactFare")]),t._v(" "),s("td",[t._v("浮点型(Float)")]),t._v(" "),s("td",[t._v("未还合约息费")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("m_dRepaidFare")]),t._v(" "),s("td",[t._v("浮点型(Float)")]),t._v(" "),s("td",[t._v("已还息费")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("m_dRepaidBalance")]),t._v(" "),s("td",[t._v("浮点型(Float)")]),t._v(" "),s("td",[t._v("已还金额")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("m_strCompactId")]),t._v(" "),s("td",[t._v("整数型（Int）")]),t._v(" "),s("td",[t._v("合约编号")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("m_strEntrustNo")]),t._v(" "),s("td",[t._v("字符串型（String）")]),t._v(" "),s("td",[t._v("委托编号")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("m_nRepayPriority")]),t._v(" "),s("td",[t._v("整数型（Int）")]),t._v(" "),s("td",[t._v("偿还优先级")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("m_strPositionStr")]),t._v(" "),s("td",[t._v("字符串型（String）")]),t._v(" "),s("td",[t._v("定位串")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[t._v("m_eCompactRenewalStatus")]),t._v(" "),s("td",[t._v("整数型（Int）")]),t._v(" "),s("td",[t._v("合约展期状态")]),t._v(" "),s("td",[t._v("48-可申请,"),s("br"),t._v("49-已申请,"),s("br"),t._v("50-审批通过,"),s("br"),t._v("51-审批不通过,"),s("br"),t._v("52-不可申请,"),s("br"),t._v("53-已执行,"),s("br"),t._v("54-已取消")])]),t._v(" "),s("tr",[s("td",[t._v("m_nDeferTimes")]),t._v(" "),s("td",[t._v("整数型（Int）")]),t._v(" "),s("td",[t._v("展期次数")]),t._v(" "),s("td")])])]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("get_unclosed_compacts"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'6000000248'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CREDIT'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[s("code")]),t._v(" "),s("h3",{attrs:{id:"_4-30-获取已了结负债合约明细get-closed-compacts"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-30-获取已了结负债合约明细get-closed-compacts"}},[t._v("#")]),t._v(" 4.30 获取已了结负债合约明细"),s("br"),t._v("get_closed_compacts()")]),t._v(" "),s("p",[t._v("功能： 获取已了结负债合约明细")]),t._v(" "),s("p",[t._v("语法： "),s("code",[t._v("get_closed_compacts(accountID,accountType)")])]),t._v(" "),s("p",[t._v("参数：\naccountID —— 字符串型（String）资金账号\naccountType —— 字符串型（String），账号类型")]),t._v(" "),s("p",[t._v("返回：\n一个列表（List）"),s("code",[t._v("[ CStkUnclosedCompacts, ... ]")])]),t._v(" "),s("p",[t._v("其中 CStkUnclosedCompacts 属性如前 4.29 获取未了结负债合约明细 中的描述一致。")]),t._v(" "),s("h3",{attrs:{id:"_4-31-获取沪深港通汇率数据get-hkt-exchange-rate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-31-获取沪深港通汇率数据get-hkt-exchange-rate"}},[t._v("#")]),t._v(" 4.31 获取沪深港通汇率数据"),s("br"),t._v("get_hkt_exchange_rate()")]),t._v(" "),s("p",[t._v("功能： 获取沪深港通汇率数据")]),t._v(" "),s("p",[t._v("语法： "),s("code",[t._v("get_hkt_exchange_rate(accountID,accountType)")])]),t._v(" "),s("p",[t._v("参数：\naccountID —— 字符串型（String）资金账号\naccountType —— 字符串型（String），账号类型。必须填HUGANGTONG或者SHENGANGTONG")]),t._v(" "),s("p",[t._v("返回：一个字典（Dict）字段功能：\nbidReferenceRate:买入参考汇率\naskReferenceRate:卖出参考汇率\ndayBuyRiseRate:日间买入参考汇率浮动比例")]),t._v(" "),s("h3",{attrs:{id:"_4-32-取可融券明细get-enable-short-contract"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-32-取可融券明细get-enable-short-contract"}},[t._v("#")]),t._v(" 4.32 取可融券明细"),s("br"),t._v("get_enable_short_contract()")]),t._v(" "),s("p",[t._v("功能： 取可融券明细")]),t._v(" "),s("p",[t._v("语法： get_enable_short_contract(accountID)")]),t._v(" "),s("p",[t._v("参数：accountID —— 字符串型（String）资金账号")]),t._v(" "),s("p",[t._v("返回： 列表（List）,其中是 PythonObj ，通过 dir(pythonobj) 可返回对象的属性列表")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    obj_list "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_enable_short_contract"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'6000000248'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" obj "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" obj_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strInstrumentName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h3",{attrs:{id:"_4-33-取期权标的持仓get-option-subject-position"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-33-取期权标的持仓get-option-subject-position"}},[t._v("#")]),t._v(" 4.33 取期权标的持仓"),s("br"),t._v("get_option_subject_position()")]),t._v(" "),s("p",[t._v("功能： 取期权标的持仓")]),t._v(" "),s("p",[t._v("语法：get_option_subject_position(accountID)")]),t._v(" "),s("p",[t._v("accountID —— 字符串型（String）资金账号")]),t._v(" "),s("p",[t._v("返回： 列表（List）,其中是 PythonObj ，通过 dir(pythonobj) 可返回对象的属性列表")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tdata"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("get_option_subject_position"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'880399990383'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" obj "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strInstrumentName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_lockVol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_coveredVol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("h3",{attrs:{id:"_4-34-取期权组合持仓get-comb-option"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-34-取期权组合持仓get-comb-option"}},[t._v("#")]),t._v(" 4.34 取期权组合持仓"),s("br"),t._v("get_comb_option()")]),t._v(" "),s("p",[t._v("功能： 取期权组合持仓")]),t._v(" "),s("p",[t._v("语法： get_comb_option(accountID)")]),t._v(" "),s("p",[t._v("参数：\naccountID —— 字符串型（String）资金账号")]),t._v(" "),s("p",[t._v("返回： 列表（List）,其中是 PythonObj ，通过 dir(pythonobj) 可返回对象的属性列表")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("obj_list"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("get_comb_option"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'880399990383'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nforobjinobj_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strCombCodeName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strCombID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("obj"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nFrozenVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h3",{attrs:{id:"_4-35-构建期权组合持仓make-option-combination"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-35-构建期权组合持仓make-option-combination"}},[t._v("#")]),t._v(" 4.35 构建期权组合持仓"),s("br"),t._v("make_option_combination()")]),t._v(" "),s("p",[t._v("功能： 构建期权组合持仓")]),t._v(" "),s("p",[t._v("语法：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("make_option_combination(\n                        combType,\n                        orderCodeDict,\n                        modelVolume,\n                        accountID,\n                        strategyName,\n                        userOrderId,\n                        ContextInfo\n                       ) \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("p",[t._v("参数："),s("br"),t._v("\ncombType —— 组合策略类型 "),s("br"),t._v("\n50:认购牛市价差策略 "),s("br"),t._v("\n51:认沽熊市价差策略 "),s("br"),t._v("\n52:认沽牛市价差策略 "),s("br"),t._v("\n53:认购熊市价差策略 "),s("br"),t._v("\n54:跨式空头 "),s("br"),t._v("\n55:宽跨式空头 "),s("br"),t._v("\n56:保证金开仓转备兑开仓 "),s("br"),t._v("\n57:备兑开仓转保证金开仓 "),s("br")]),t._v(" "),s("p",[t._v("orderCodeDict —— 期权组合，{option:holdType}。"),s("br"),t._v("\noption —— 期权代码,格式如 10000001.SHO，"),s("br"),t._v("\nholdType ——  48:权利 ， 49:义务 ， 50:备兑 "),s("br"),t._v("\nmodelVolume —— 下单量 "),s("br"),t._v("\nstrategyName —— 策略名 "),s("br"),t._v("\nuserOrderId —— 投资备注 "),s("br")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accid"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'880399990383'")]),t._v("\nmake_option_combination"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'10003006.SHO'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("48")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'10003259.SHO'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("49")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stragegyName'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'"),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("str")]),t._v("\nRemark'"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#第一个参数50为认购牛市价差策略")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#第二个参数10003006.SHO(50ETF购6月3400),48(权利仓)10003259.SHO(50ETF购6月")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4400")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("49")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("义务仓"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#50ETF购6月3400/50ETF购6月4400g构建认购牛市价差策略")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("h3",{attrs:{id:"_4-36-解除期权组合持仓release-option-combination"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-36-解除期权组合持仓release-option-combination"}},[t._v("#")]),t._v(" 4.36 解除期权组合持仓"),s("br"),t._v("release_option_combination()")]),t._v(" "),s("p",[t._v("功能： 解除期权组合持仓")]),t._v(" "),s("p",[t._v("语法：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("release_option_combination(\n                           combID,\n                           accountID,\n                           strategyName,\n                           userOrderId,\n                           contextInfo\n                          )\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[t._v("参数：\ncombID —— 持仓中期权组合编码"),s("br"),t._v("\naccountID —— 字符串型（String）表示账号"),s("br"),t._v("\nstrategyName —— 字符串型（String）表示 策略名"),s("br"),t._v("\nuserOrderId —— 字符串型（String）投资备注"),s("br")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accid"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'880399990383'")]),t._v("\nrelease_option_combination"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'V950034404'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("accid"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'strategyName'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("'use\nrOrderId'"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 解除组合号码为V950034404的组合期权(同组合策略持仓中的组合号码)")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("h2",{attrs:{id:"_5-成交回报实时主推函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-成交回报实时主推函数"}},[t._v("#")]),t._v(" 5） 成交回报实时主推函数")]),t._v(" "),s("p",[t._v("所谓主推函数，意即无需开发人员在代码中去调用的函数。而是当发生某一事件时，会自动运行的函数。如：成交了一个订单，则QMT会自动调用一次 "),s("code",[t._v("deal_callback()")]),t._v(" 函数，执行其中的指令。")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("注：成交回报实时主推函数仅在实盘运行模式下生效。"),s("br"),t._v("意即，需要在 “策略交易”界面中，运行一个策略。并且该策略的代码中包含以下主推函数。当对应的事件发生时，才会主动运行一次这个函数，执行其中的指令。在策略编辑器中，是看不到执行效果的。")])]),t._v(" "),s("h3",{attrs:{id:"_5-1-资金账号变化account-callback"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-资金账号变化account-callback"}},[t._v("#")]),t._v(" 5.1  资金账号变化"),s("br"),t._v("account_callback()")]),t._v(" "),s("p",[t._v("功能： 当资金账号状态有变化时，自动运行一次这个函数")]),t._v(" "),s("p",[t._v("语法： "),s("code",[t._v("account_callback(ContextInfo, accountInfo)")])]),t._v(" "),s("p",[t._v("参数："),s("br")]),t._v(" "),s("ul",[s("li",[t._v("ContextInfo —— 特定对象"),s("br")]),t._v(" "),s("li",[t._v("accountInfo —— 资金账号对象，可对应查看5.3. 附录3 交易函数内含属性说明"),s("br")])]),t._v(" "),s("p",[t._v("返回： 无")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置对应的资金账号")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_account"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'410038216969'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 此处请替换成你自己的帐号")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("account_callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'===========accountInfo 对象的属性============================================'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"帐号ID"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("         accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strAccountID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"账号类型"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nBrokerType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 1- 期货,2-股票,3-信用,5-期货期权,6-股票期权,7-沪港通,11-深港通")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"保证金比率"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dMaxMarginRate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 股票的保证金率等于 1 因此股票帐户没有此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"冻结保证金"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dFrozenMargin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 股票帐户没有此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"冻结金额"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dFrozenCash"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 内外源冻结保证金和手续费四个的和 股票帐户没有此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"冻结手续费"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dFrozenCommission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"风险度"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("          accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dRisk"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("             "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 冻结资金 / 可用资金，股票帐户没有此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"单位净值"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dNav"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"期初权益"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dPreBalance"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 期初权益，也叫静态权益 股票帐户没有此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"总资产"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("          accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dBalance"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 动态权益，即市值")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"可用金额"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dAvailable"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"手续费"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("          accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dCommission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 已经用掉的手续费")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"持仓盈亏"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dPositionProfit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"平仓盈亏"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dCloseProfit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 股票帐户没有此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"出入金净值"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dCashIn"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"当前使用的保证金"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dCurrMargin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 股票帐户没有此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"初始权益"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dInitBalance"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"账号状态"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strStatus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"期初平仓盈亏"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dInitCloseMoney"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"总市值"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("          accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dInstrumentValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 合约价值")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"入金"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("           accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dDeposit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"出金"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("           accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dWithdraw"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"上次信用额度"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dPreCredit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 股票帐户没有此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"上次质押"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dPreMortgage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 股票帐户没有此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"质押"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("           accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dMortgage"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 股票帐户没有此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"信用额度"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dCredit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("           "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 股票帐户没有此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"证券初始资金"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dAssetBalance"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 股票帐户没有此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"起始日期"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("       accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strOpenDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 股票帐户没有此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"可取金额"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("       accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dFetchBalance"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"交易日"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("         accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strTradingDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"股票总市值"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("     accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dStockValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 期货帐户没有此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"债券总市值"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("     accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dLoanValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 期货帐户没有此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"基金总市值"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("     accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dFundValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 包括ETF和封闭式基金， 期货帐户没有此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"回购总市值"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("     accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dRepurchaseValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 期货帐户没有此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"多单总市值"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("     accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dLongValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 现货帐户没有此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"空单总市值"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("     accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dShortValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 现货帐户没有此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"净持仓总市值"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dNetValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("           "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 净持仓市值 = 多 - 空")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"净资产"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dAssureAsset"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"总负债"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dTotalDebit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"可信资产"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dEntrustAsset"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用于校对")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"总市值"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dInstrumentValueRMB"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 沪港通 （人民币）")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"申购费"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dSubscribeFee"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"库存市值"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dGoldValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("           "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 黄金现货库存市值")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"现货冻结"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dGoldFrozen"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 黄金现货冻结")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"占用保证金"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dMargin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"币种"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("         accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strMoneyType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"购买力"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("       accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dPurchasingPower"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"原始保证金"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dRawMargin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"买入待交收"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dBuyWaitMoney"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 金额（元）")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"卖出待交收"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dSellWaitMoney"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 金额（元）")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"本期间应计利息"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dReceiveInterestTotal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"权利金收支"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dRoyalty"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("             "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 期货期权用")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"冻结权利金"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dFrozenRoyalty"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 期货期权用")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"实时占用保证金"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dRealUsedMargin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用于股票期权")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"实时风险度"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    accountInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dRealRiskDegree"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果：\n===========accountInfo 对象的属性==============================\n帐号ID 410038216969\n账号类型 2\n保证金比率 0.0\n冻结保证金 199922620.34\n冻结金额 0.0\n冻结手续费 0.0\n风险度 0.0\n单位净值 0.0\n期初权益 199922620.34\n总资产 199922620.34\n可用金额 199922620.34\n手续费 0.0\n持仓盈亏 0.0\n平仓盈亏 0.0\n出入金净值 0.0\n当前使用的保证金 0.0\n初始权益 199922620.34\n账号状态 登录成功\n期初平仓盈亏 0.0\n总市值 0.0\n入金 0.0\n出金 0.0\n上次信用额度 0.0\n上次质押 0.0\n质押 0.0\n信用额度 0.0\n证券初始资金 199922620.34\n起始日期 \n可取金额 199922620.34\n交易日 20230919\n股票总市值 0.0\n债券总市值 0.0\n基金总市值 0.0\n回购总市值 0.0\n多单总市值 0.0\n空单总市值 0.0\n净持仓总市值 0.0\n净资产 199922620.34\n总负债 0.0\n可信资产 0.0\n总市值 0.0\n申购费 0.0\n库存市值 0.0\n现货冻结 0.0\n占用保证金 0.0\n币种 \n购买力 0.0\n原始保证金 0.0\n买入待交收 0.0\n卖出待交收 0.0\n本期间应计利息 0.0\n权利金收支 0.0\n冻结权利金 0.0\n实时占用保证金 0.0实时风险度 0.0\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br"),s("span",{staticClass:"line-number"},[t._v("58")]),s("br"),s("span",{staticClass:"line-number"},[t._v("59")]),s("br"),s("span",{staticClass:"line-number"},[t._v("60")]),s("br"),s("span",{staticClass:"line-number"},[t._v("61")]),s("br"),s("span",{staticClass:"line-number"},[t._v("62")]),s("br"),s("span",{staticClass:"line-number"},[t._v("63")]),s("br"),s("span",{staticClass:"line-number"},[t._v("64")]),s("br"),s("span",{staticClass:"line-number"},[t._v("65")]),s("br"),s("span",{staticClass:"line-number"},[t._v("66")]),s("br"),s("span",{staticClass:"line-number"},[t._v("67")]),s("br"),s("span",{staticClass:"line-number"},[t._v("68")]),s("br"),s("span",{staticClass:"line-number"},[t._v("69")]),s("br"),s("span",{staticClass:"line-number"},[t._v("70")]),s("br"),s("span",{staticClass:"line-number"},[t._v("71")]),s("br"),s("span",{staticClass:"line-number"},[t._v("72")]),s("br"),s("span",{staticClass:"line-number"},[t._v("73")]),s("br"),s("span",{staticClass:"line-number"},[t._v("74")]),s("br"),s("span",{staticClass:"line-number"},[t._v("75")]),s("br"),s("span",{staticClass:"line-number"},[t._v("76")]),s("br"),s("span",{staticClass:"line-number"},[t._v("77")]),s("br"),s("span",{staticClass:"line-number"},[t._v("78")]),s("br"),s("span",{staticClass:"line-number"},[t._v("79")]),s("br"),s("span",{staticClass:"line-number"},[t._v("80")]),s("br"),s("span",{staticClass:"line-number"},[t._v("81")]),s("br"),s("span",{staticClass:"line-number"},[t._v("82")]),s("br"),s("span",{staticClass:"line-number"},[t._v("83")]),s("br"),s("span",{staticClass:"line-number"},[t._v("84")]),s("br"),s("span",{staticClass:"line-number"},[t._v("85")]),s("br"),s("span",{staticClass:"line-number"},[t._v("86")]),s("br"),s("span",{staticClass:"line-number"},[t._v("87")]),s("br"),s("span",{staticClass:"line-number"},[t._v("88")]),s("br"),s("span",{staticClass:"line-number"},[t._v("89")]),s("br"),s("span",{staticClass:"line-number"},[t._v("90")]),s("br"),s("span",{staticClass:"line-number"},[t._v("91")]),s("br"),s("span",{staticClass:"line-number"},[t._v("92")]),s("br"),s("span",{staticClass:"line-number"},[t._v("93")]),s("br"),s("span",{staticClass:"line-number"},[t._v("94")]),s("br"),s("span",{staticClass:"line-number"},[t._v("95")]),s("br"),s("span",{staticClass:"line-number"},[t._v("96")]),s("br"),s("span",{staticClass:"line-number"},[t._v("97")]),s("br"),s("span",{staticClass:"line-number"},[t._v("98")]),s("br"),s("span",{staticClass:"line-number"},[t._v("99")]),s("br"),s("span",{staticClass:"line-number"},[t._v("100")]),s("br"),s("span",{staticClass:"line-number"},[t._v("101")]),s("br"),s("span",{staticClass:"line-number"},[t._v("102")]),s("br"),s("span",{staticClass:"line-number"},[t._v("103")]),s("br"),s("span",{staticClass:"line-number"},[t._v("104")]),s("br"),s("span",{staticClass:"line-number"},[t._v("105")]),s("br"),s("span",{staticClass:"line-number"},[t._v("106")]),s("br"),s("span",{staticClass:"line-number"},[t._v("107")]),s("br"),s("span",{staticClass:"line-number"},[t._v("108")]),s("br"),s("span",{staticClass:"line-number"},[t._v("109")]),s("br"),s("span",{staticClass:"line-number"},[t._v("110")]),s("br"),s("span",{staticClass:"line-number"},[t._v("111")]),s("br"),s("span",{staticClass:"line-number"},[t._v("112")]),s("br"),s("span",{staticClass:"line-number"},[t._v("113")]),s("br"),s("span",{staticClass:"line-number"},[t._v("114")]),s("br"),s("span",{staticClass:"line-number"},[t._v("115")]),s("br"),s("span",{staticClass:"line-number"},[t._v("116")]),s("br"),s("span",{staticClass:"line-number"},[t._v("117")]),s("br"),s("span",{staticClass:"line-number"},[t._v("118")]),s("br"),s("span",{staticClass:"line-number"},[t._v("119")]),s("br"),s("span",{staticClass:"line-number"},[t._v("120")]),s("br"),s("span",{staticClass:"line-number"},[t._v("121")]),s("br"),s("span",{staticClass:"line-number"},[t._v("122")]),s("br")])]),s("h3",{attrs:{id:"_5-2-任务状态变化task-callback"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-任务状态变化task-callback"}},[t._v("#")]),t._v(" 5.2 任务状态变化"),s("br"),t._v("task_callback()")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("ol",[s("li",[t._v("仅在实盘运行模式下生效。")]),t._v(" "),s("li",[t._v("需要先在init里调用 "),s("code",[t._v("ContextInfo.set_account")]),t._v(" 后生效。")])])]),t._v(" "),s("p",[t._v("语法： task_callback(ContextInfo, taskInfo)")]),t._v(" "),s("p",[t._v("功能： 当账号任务状态有变化时，这个函数会主动运行一次。")]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("ContextInfo —— 特定对象"),s("br")]),t._v(" "),s("li",[t._v("taskInfo —— 任务对象，请参考示例中的属性描述。")])]),t._v(" "),s("p",[t._v("返回： 无")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("请在策略编辑器中，将示例代码，先保存为策略文件，可用名称为“tasktest”；")]),t._v(" "),s("p",[s("img",{attrs:{src:n(307),alt:""}})])]),t._v(" "),s("li",[s("p",[t._v("然后在“策略交易”界面中运行这个策略，并点击“实盘“模式；")]),t._v(" "),s("p",[s("img",{attrs:{src:n(308),alt:""}})])]),t._v(" "),s("li",[s("p",[t._v("在”交易“界面中，任意手动下一个委托单，如委托买入某一支股票，即可触发一个任务。此时，在”任务列表“中即可看到刚刚操作的记录；")]),t._v(" "),s("p",[s("img",{attrs:{src:n(309),alt:""}})])]),t._v(" "),s("li",[s("p",[t._v("点击”策略交易“，回到此界面，即可在”策略日志“中看到程序的输出结果；")]),t._v(" "),s("p",[s("img",{attrs:{src:n(310),alt:""}})])])]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:GBK")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置对应的资金账号")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_account"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'410038216969'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("task_callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" taskInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'===========taskInfo 对象中包含的属性============================================'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"任务号ID "')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("taskInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nTaskId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"任务状态"')]),t._v("     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("taskInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_eStatus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 任务状态 ETaskStatus 类型,详见 QMT 知识库中的说明")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"任务状态消息"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("taskInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strMsg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"任务开始时间"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("taskInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_startTime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"任务结束时间"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("taskInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_endTime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"任务取消时间"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("taskInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_cancelTime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"已成交量"')]),t._v("     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("taskInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nBusinessNum"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"组合Id"')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("taskInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nGroupId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"下单品种代码"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("taskInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_stockCode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 不针对组合下单")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"下单用户"')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("taskInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strAccountID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 单用户下单时适用")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"下单操作类型"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("taskInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_eOperationType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  详见 EOperationType类型, 详见 QMT 知识库中的说明")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"算法交易"')]),t._v("     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("taskInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_eOrderType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# EOrderType类型, 详见 QMT 知识库中的说明")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"报价方式"')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("taskInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_ePriceType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 详见 EPriceType QMT 知识库中的说明")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托价"')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("taskInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dFixPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托量"')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("taskInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nNum"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n ===========taskInfo 对象中包含的属性============================================\n任务号ID  5\n任务状态 3\n任务状态消息 5.3000全部委托!\n任务开始时间 1695180356\n任务结束时间 2147483647\n任务取消时间 2147483647\n已成交量 0\n组合Id 5\n下单品种代码 600027.SH\n下单用户 410038216969\n下单操作类型 18\n算法交易 0\n报价方式 10\n委托价 5.3\n委托量 200\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br")])]),s("h3",{attrs:{id:"_5-3-委托状态变化order-callback"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-委托状态变化order-callback"}},[t._v("#")]),t._v(" 5.3 委托状态变化"),s("br"),t._v("order_callback()")]),t._v(" "),s("p",[t._v("功能： 当账号委托状态有变化时，这个函数会主动运行一次。")]),t._v(" "),s("p",[t._v("语法："),s("code",[t._v("order_callback(ContextInfo, orderInfo)")])]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("ContextInfo ——特定对象")]),t._v(" "),s("li",[t._v("orderInfo —— 委托账号对象，请参考示例中的属性描述。")])]),t._v(" "),s("p",[t._v("返回： 无")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("p",[t._v("同理，需参照上例，先保存为一个策略程序，然后在“策略交易”中运行此程序。再手动操作一个 委托单，则此函数会自动执行一次，即可看到执行的结果。")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:GBK")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置对应的资金账号")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_account"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'410038216969'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("order_callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'===========orderInfo 对象中包含的属性============================================'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"资金账号 "')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strAccountID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"证券市场"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strExchangeID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"交易市场"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strExchangeName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"品种代码"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strProductID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"品种名称"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strProductName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"合约代码"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strInstrumentID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"合约名称"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strInstrumentName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"内部委托号"')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strOrderRef"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托价格类型"')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nOrderPriceType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如市价单、限价单 ， 详见 QMT 知识库中的说明 EBrokerPriceType 类型描述")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"交易方向"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("           "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如多、空，详见 QMT 知识库中的说明 EEntrustBS 类型描述")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"开平标志"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nOffsetFlag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如：买卖/开平 ，区别 期货、股票与期权的交易。详见 EOffset_Flag_Type 类型,  QMT 知识库中的说明")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"投保类型"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nHedgeFlag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("           "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 详见 EHedge_Flag_Type 类型,  QMT 知识库中的说明")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托价格"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dLimitPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("       \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"最初委托量"')]),t._v("     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nVolumeTotalOriginal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"报单状态"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nOrderSubmitStatus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 股票没有此属性 详见 EEntrustSubmitStatus 类型,  QMT 知识库中的说明")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托号"')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strOrderSysID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托状态"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nOrderStatus"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 详见 EEntrustStatus 类型,  QMT 知识库中的说明")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"已成交量"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nVolumeTraded"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"当前总委托量"')]),t._v("   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nVolumeTotal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 股票的值为 总委托量 减去 已成交量")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"报错消息ID"')]),t._v("     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nErrorID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"报错消息"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strErrorMsg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"任务号"')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nTaskId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"冻结金额"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dFrozenMargin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"冻结手续费"')]),t._v("     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dFrozenCommission"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托日期"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strInsertDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托时间"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strInsertTime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交均价"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dTradedPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"已撤数量"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dCancelAmount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"买卖标记"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strOptName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("           "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 中文显示 ")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交金额"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dTradeAmount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 期货 = 均价 * 量 * 合约乘数")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托类型"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_eEntrustType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 详见 EEntrustTypes 类型,  QMT 知识库中的说明")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"废单原因"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strCancelInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"标的证券代码"')]),t._v("   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strUnderCode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"备兑标记"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_eCoveredFlag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ECoveredFlag 类型，'0' - 非备兑，'1' - 备兑")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"港股通委托价格"')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" m_dOrderPriceRMB"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# （人民币），目前用于港股通")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"港股通成交金额"')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dTradeAmountRMB"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# （人民币），目前用于港股通")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"汇率"')]),t._v("           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dReferenceRate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"合约编号"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strCompactNo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"头寸来源"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_eCashgroupProp"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 详见 EXTCompactBrushSource类型 QMT 知识库中的说明")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"在途保证金"')]),t._v("     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dShortOccupedMargin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"是否是迅投交易"')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strXTTrade"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"账号key"')]),t._v("        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strAccountKey"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"投资备注"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strRemark"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n===========orderInfo 对象中包含的属性============================================\n资金账号  410038216969\n证券市场 SH\n交易市场 上证所\n品种代码 \n品种名称 \n合约代码 600740\n合约名称 山西焦化\n内部委托号 9167682570542907397\n委托价格类型 50\n交易方向 48\n开平标志 48\n投保类型 49\n委托价格 5.2\n最初委托量 200\n报单状态 51\n委托号 805011942\n委托状态 50\n已成交量 0\n当前总委托量 200\n报错消息ID 2147483647\n报错消息 \n任务号 6\n冻结金额 1040.0\n冻结手续费 2.104\n委托日期 20200920\n委托时间 142241\n成交均价 0.0\n已撤数量 0.0\n买卖标记 限价买入\n成交金额 0.0\n委托类型 48\n废单原因 \n标的证券代码 \n备兑标记 0\n港股通委托价格 0.0\n港股通成交金额 0.0\n汇率 0.0\n合约编号 \n头寸来源 48\n在途保证金 1.7976931348623157e+308\n是否是迅投交易 本终端\n账号key 2____11075________49____410038216969____\n投资备注 \n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br"),s("span",{staticClass:"line-number"},[t._v("58")]),s("br"),s("span",{staticClass:"line-number"},[t._v("59")]),s("br"),s("span",{staticClass:"line-number"},[t._v("60")]),s("br"),s("span",{staticClass:"line-number"},[t._v("61")]),s("br"),s("span",{staticClass:"line-number"},[t._v("62")]),s("br"),s("span",{staticClass:"line-number"},[t._v("63")]),s("br"),s("span",{staticClass:"line-number"},[t._v("64")]),s("br"),s("span",{staticClass:"line-number"},[t._v("65")]),s("br"),s("span",{staticClass:"line-number"},[t._v("66")]),s("br"),s("span",{staticClass:"line-number"},[t._v("67")]),s("br"),s("span",{staticClass:"line-number"},[t._v("68")]),s("br"),s("span",{staticClass:"line-number"},[t._v("69")]),s("br"),s("span",{staticClass:"line-number"},[t._v("70")]),s("br"),s("span",{staticClass:"line-number"},[t._v("71")]),s("br"),s("span",{staticClass:"line-number"},[t._v("72")]),s("br"),s("span",{staticClass:"line-number"},[t._v("73")]),s("br"),s("span",{staticClass:"line-number"},[t._v("74")]),s("br"),s("span",{staticClass:"line-number"},[t._v("75")]),s("br"),s("span",{staticClass:"line-number"},[t._v("76")]),s("br"),s("span",{staticClass:"line-number"},[t._v("77")]),s("br"),s("span",{staticClass:"line-number"},[t._v("78")]),s("br"),s("span",{staticClass:"line-number"},[t._v("79")]),s("br"),s("span",{staticClass:"line-number"},[t._v("80")]),s("br"),s("span",{staticClass:"line-number"},[t._v("81")]),s("br"),s("span",{staticClass:"line-number"},[t._v("82")]),s("br"),s("span",{staticClass:"line-number"},[t._v("83")]),s("br"),s("span",{staticClass:"line-number"},[t._v("84")]),s("br"),s("span",{staticClass:"line-number"},[t._v("85")]),s("br"),s("span",{staticClass:"line-number"},[t._v("86")]),s("br"),s("span",{staticClass:"line-number"},[t._v("87")]),s("br"),s("span",{staticClass:"line-number"},[t._v("88")]),s("br"),s("span",{staticClass:"line-number"},[t._v("89")]),s("br"),s("span",{staticClass:"line-number"},[t._v("90")]),s("br"),s("span",{staticClass:"line-number"},[t._v("91")]),s("br"),s("span",{staticClass:"line-number"},[t._v("92")]),s("br"),s("span",{staticClass:"line-number"},[t._v("93")]),s("br"),s("span",{staticClass:"line-number"},[t._v("94")]),s("br"),s("span",{staticClass:"line-number"},[t._v("95")]),s("br"),s("span",{staticClass:"line-number"},[t._v("96")]),s("br"),s("span",{staticClass:"line-number"},[t._v("97")]),s("br")])]),s("h3",{attrs:{id:"_5-4-成交状态变化deal-callback"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-成交状态变化deal-callback"}},[t._v("#")]),t._v(" 5.4 成交状态变化"),s("br"),t._v("deal_callback()")]),t._v(" "),s("p",[t._v("功能： 当账号成交状态有变化时，这个函数会主动运行一次。"),s("br"),t._v("\n语法："),s("code",[t._v("deal_callback(ContextInfo, dealInfo)")]),s("br"),t._v("\n参数："),s("br")]),t._v(" "),s("ul",[s("li",[t._v("ContextInfo ——特定对象")]),t._v(" "),s("li",[t._v("dealInfo —— 资金账号对象，请参考示例中的属性描述。\n返回： 无"),s("br"),t._v("\n示例：")])]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:GBK")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置对应的资金账号")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_account"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'410038216969'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("deal_callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'===========dealInfo 对象中包含的属性============================================'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"资金账号 "')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strAccountID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"证券市场"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strExchangeID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"交易市场"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strExchangeName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"品种代码"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strProductID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"品种名称"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strProductName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"合约代码"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strInstrumentID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"合约名称"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strInstrumentName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交编号"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strTradeID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"内部委托号"')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strOrderRef"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托号"')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strOrderSysID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"交易方向"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("           "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如多、空，详见 QMT 知识库中的说明 EEntrustBS 类型描述")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"开平标志"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nOffsetFlag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  如：买卖/开平 ，区别 期货、股票与期权的交易。详见 EOffset_Flag_Type 类型,  QMT 知识库中的说明")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"实际开平标志"')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nRealOffsetFlag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  如：买卖/开平 ，主要是区分平今和平昨。详见 EOffset_Flag_Type 类型,  QMT 知识库中的说明")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"投保类型"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nHedgeFlag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("           "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 详见 EHedge_Flag_Type 类型,  QMT 知识库中的说明")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交均价"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交量"')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交日期"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strTradeDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交时间"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strTradeTime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"手续费"')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dComssion"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交金额"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dTradeAmount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 期货 = 均价 * 量 * 合约乘数")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"任务号"')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nTaskId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托价格类型"')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nOrderPriceType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如市价单、限价单 ， 详见 QMT 知识库中的说明 EBrokerPriceType 类型描述")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"买卖标记"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strOptName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("           "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 中文显示 ")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"委托类型"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_eEntrustType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 详见 EEntrustTypes 类型,  QMT 知识库中的说明")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交类型"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_eFutureTradeType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 详见 EFutureTradeType 类型,  QMT 知识库中的说明")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"备兑标记"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_eCoveredFlag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ECoveredFlag 类型，'0' - 非备兑，'1' - 备兑")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"平今量"')]),t._v("        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nCloseTodayVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("       \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"港股通委托价格"')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" m_dOrderPriceRMB"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# （人民币），目前用于港股通")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"港股通成交价格"')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" m_dPriceRMB"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("           "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# （人民币），目前用于港股通")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"港股通成交金额"')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dTradeAmountRMB"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# （人民币），目前用于港股通")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"汇率"')]),t._v("           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dReferenceRate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"是否是迅投交易"')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strXTTrade"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"合约编号"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strCompactNo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"平仓盈亏"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dCloseProfit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"投资备注"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strRemark"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"账号key"')]),t._v("        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strAccountKey"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"订单编号"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("dealInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nRef"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n运行结果：\n===========dealInfo 对象中包含的属性============================================\n资金账号  410038216969\n证券市场 SZ\n交易市场 深交所\n品种代码 \n品种名称 \n合约代码 000851\n合约名称 高鸿股份\n成交编号 591627450056722\n内部委托号 9167682570542907397\n委托号 805054363\n交易方向 48\n开平标志 48\n实际开平标志 -1\n投保类型 49\n成交均价 6.22\n成交量 200\n成交日期 20230921\n成交时间 110542\n手续费 2.1244\n成交金额 1244.0\n任务号 6\n委托价格类型 50\n买卖标记 限价买入\n委托类型 48\n成交类型 48\n备兑标记 48\n平今量 0\n港股通委托价格 0.0\n港股通成交价格 0.0\n港股通成交金额 0.0\n汇率 0.0\n是否是迅投交易 本终端\n合约编号 \n平仓盈亏 0.0\n投资备注 \n账号key 2____11075________49____410038216969____\n订单编号 0\n"""')]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br"),s("span",{staticClass:"line-number"},[t._v("58")]),s("br"),s("span",{staticClass:"line-number"},[t._v("59")]),s("br"),s("span",{staticClass:"line-number"},[t._v("60")]),s("br"),s("span",{staticClass:"line-number"},[t._v("61")]),s("br"),s("span",{staticClass:"line-number"},[t._v("62")]),s("br"),s("span",{staticClass:"line-number"},[t._v("63")]),s("br"),s("span",{staticClass:"line-number"},[t._v("64")]),s("br"),s("span",{staticClass:"line-number"},[t._v("65")]),s("br"),s("span",{staticClass:"line-number"},[t._v("66")]),s("br"),s("span",{staticClass:"line-number"},[t._v("67")]),s("br"),s("span",{staticClass:"line-number"},[t._v("68")]),s("br"),s("span",{staticClass:"line-number"},[t._v("69")]),s("br"),s("span",{staticClass:"line-number"},[t._v("70")]),s("br"),s("span",{staticClass:"line-number"},[t._v("71")]),s("br"),s("span",{staticClass:"line-number"},[t._v("72")]),s("br"),s("span",{staticClass:"line-number"},[t._v("73")]),s("br"),s("span",{staticClass:"line-number"},[t._v("74")]),s("br"),s("span",{staticClass:"line-number"},[t._v("75")]),s("br"),s("span",{staticClass:"line-number"},[t._v("76")]),s("br"),s("span",{staticClass:"line-number"},[t._v("77")]),s("br"),s("span",{staticClass:"line-number"},[t._v("78")]),s("br"),s("span",{staticClass:"line-number"},[t._v("79")]),s("br"),s("span",{staticClass:"line-number"},[t._v("80")]),s("br"),s("span",{staticClass:"line-number"},[t._v("81")]),s("br"),s("span",{staticClass:"line-number"},[t._v("82")]),s("br"),s("span",{staticClass:"line-number"},[t._v("83")]),s("br"),s("span",{staticClass:"line-number"},[t._v("84")]),s("br"),s("span",{staticClass:"line-number"},[t._v("85")]),s("br"),s("span",{staticClass:"line-number"},[t._v("86")]),s("br"),s("span",{staticClass:"line-number"},[t._v("87")]),s("br")])]),s("h3",{attrs:{id:"_5-5-持仓状态变化position-callback"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-持仓状态变化position-callback"}},[t._v("#")]),t._v(" 5.5 持仓状态变化"),s("br"),t._v("position_callback()")]),t._v(" "),s("p",[t._v("功能： 当账号持仓状态发生变化时，这个函数会主动运行一次。此方法可以在 策略编辑器 中直接运行测试，看到执行结果。")]),t._v(" "),s("p",[t._v("语法："),s("code",[t._v("position_callback(ContextInfo, positonInfo)")])]),t._v(" "),s("p",[t._v("参数："),s("br")]),t._v(" "),s("ul",[s("li",[t._v("ContextInfo ——特定对象"),s("br")]),t._v(" "),s("li",[t._v("positonInfo —— 资金账号对象。请参考示例中的属性描述。")])]),t._v(" "),s("p",[t._v("返回： 无")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:GBK")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置对应的资金账号")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_account"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'410038216969'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("position_callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'===========positionInfo 对象中包含的属性============================================'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"资金账号 "')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strAccountID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"证券市场"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strExchangeID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"交易市场"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strExchangeName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"品种代码"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strProductID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"品种名称"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strProductName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"合约代码"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strInstrumentID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"合约名称"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strInstrumentName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"投保类型"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nHedgeFlag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 股票无此属性 详见 EHedge_Flag_Type 类型, QMT 知识库中的说明")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"交易方向"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("          "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 股票无此属性 如多、空，详见 QMT 知识库中的说明 EEntrustBS 类型描述")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交日期"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strOpenDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交编号"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strTradeID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"持仓量"')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("             "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 当前持仓量")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"持仓成本"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dOpenPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"最后成交日期"')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strTradingDay"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 实盘时即当前交易日，回测时是股票最后交易的日期")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"使用的保证金"')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dMargin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 股票无此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"开仓成本"')]),t._v("        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dOpenCost"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 股票无此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"结算价"')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dSettlementPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 股票即为当前价")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"平仓量"')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nCloseVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 股票无此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"平仓额"')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dCloseAmount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 股票无此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"浮动盈亏"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dFloatProfit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"平仓盈亏"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dCloseProfit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 股票无此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"市值"')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dMarketValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("       \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"持仓成本"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dPositionCost"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"持仓盈亏"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dPositionProfit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"最新结算价"')]),t._v("     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dLastSettlementPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 股票无此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"合约价值"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dInstrumentValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 股票无此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"是否今仓"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_bIsToday"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"股东账号"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strStockHolder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"冻结数量"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nFrozenVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 期货无此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"可用余额"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nCanUseVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 期货无此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"在途股份"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nOnRoadVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 期货无此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"昨仓拥股"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nYesterdayVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 期货无此属性")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"最新价"')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dLastPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 股票即为当前价")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"开仓均价"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dAvgOpenPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"盈亏比例"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dProfitRate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交类型"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_eFutureTradeType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"到期日"')]),t._v("         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strExpireDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 逆回购用")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"组合成交号"')]),t._v("     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strComTradeID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"组合序号"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nLegId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"累计成本"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dTotalCost"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用于股票信用帐号")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"单股成本"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dSingleCost"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用于股票信用帐号")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"备兑数量"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nCoveredVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用于 个股期权")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"持仓类型"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_eSideFlag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ESideFlag 持仓类型 ，用于个股期权 '0' - 权利，'1' - 义务，'2' - '备兑'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"汇率"')]),t._v("           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dReferenceRate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用于港股通")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"分级基金可用"')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dStructFundVol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 可分拆或可合并")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"分级基金可赎回量"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dRedemptionVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"申赎可用量"')]),t._v("      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nPREnableVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 录当日申购赎回的股票或基金数量")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"实时占用保证金"')]),t._v("   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dRealUsedMargin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用于 期权")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"权利金"')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dRoyalty"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"标的证券最新价"')]),t._v("   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dStockLastPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用于 期权")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"静态持仓占用保证金"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dStaticHoldMargin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用于 期权")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"期权组合占用量"')]),t._v("   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nOptCombUsedVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"个股期权量"')]),t._v("       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nEnableExerciseVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用于 个股期权")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"账号key"')]),t._v("        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("positionInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strAccountKey"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n执行结果：\n===========positionInfo 对象中包含的属性============================================\n资金账号  410038216969\n证券市场 SH\n交易市场 上证所\n品种代码 \n品种名称 \n合约代码 600027\n合约名称 华电国际\n投保类型 49\n交易方向 48\n成交日期 \n成交编号 \n持仓量 200\n持仓成本 5.380100049999999\n最后成交日期 20230921\n使用的保证金 0.0\n开仓成本 1076.02\n结算价 5.4\n平仓量 0\n平仓额 0.0\n浮动盈亏 4.0000000000000036\n平仓盈亏 0.0\n市值 1080.0\n持仓成本 1076.02\n持仓盈亏 3.980000000000018\n最新结算价 0.0\n合约价值 1080.0\n是否今仓 True\n股东账号 A103190588\n冻结数量 100\n可用余额 100\n在途股份 0\n昨仓拥股 200\n最新价 5.4\n开仓均价 5.380100049999999\n盈亏比例 0.0036988160071374306\n成交类型 48\n到期日 \n组合成交号 \n组合序号 0\n累计成本 0.0\n单股成本 0.0\n备兑数量 0\n持仓类型 0\n汇率 0.0\n分级基金可用 0\n分级基金可赎回量 0\n申赎可用量 100\n实时占用保证金 0.0\n权利金 0.0\n标的证券最新价 1.7976931348623157e+308\n静态持仓占用保证金 1.7976931348623157e+308\n期权组合占用量 0\n个股期权量 -1\n账号key 2____11075________49____410038216969____\n"""')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br"),s("span",{staticClass:"line-number"},[t._v("58")]),s("br"),s("span",{staticClass:"line-number"},[t._v("59")]),s("br"),s("span",{staticClass:"line-number"},[t._v("60")]),s("br"),s("span",{staticClass:"line-number"},[t._v("61")]),s("br"),s("span",{staticClass:"line-number"},[t._v("62")]),s("br"),s("span",{staticClass:"line-number"},[t._v("63")]),s("br"),s("span",{staticClass:"line-number"},[t._v("64")]),s("br"),s("span",{staticClass:"line-number"},[t._v("65")]),s("br"),s("span",{staticClass:"line-number"},[t._v("66")]),s("br"),s("span",{staticClass:"line-number"},[t._v("67")]),s("br"),s("span",{staticClass:"line-number"},[t._v("68")]),s("br"),s("span",{staticClass:"line-number"},[t._v("69")]),s("br"),s("span",{staticClass:"line-number"},[t._v("70")]),s("br"),s("span",{staticClass:"line-number"},[t._v("71")]),s("br"),s("span",{staticClass:"line-number"},[t._v("72")]),s("br"),s("span",{staticClass:"line-number"},[t._v("73")]),s("br"),s("span",{staticClass:"line-number"},[t._v("74")]),s("br"),s("span",{staticClass:"line-number"},[t._v("75")]),s("br"),s("span",{staticClass:"line-number"},[t._v("76")]),s("br"),s("span",{staticClass:"line-number"},[t._v("77")]),s("br"),s("span",{staticClass:"line-number"},[t._v("78")]),s("br"),s("span",{staticClass:"line-number"},[t._v("79")]),s("br"),s("span",{staticClass:"line-number"},[t._v("80")]),s("br"),s("span",{staticClass:"line-number"},[t._v("81")]),s("br"),s("span",{staticClass:"line-number"},[t._v("82")]),s("br"),s("span",{staticClass:"line-number"},[t._v("83")]),s("br"),s("span",{staticClass:"line-number"},[t._v("84")]),s("br"),s("span",{staticClass:"line-number"},[t._v("85")]),s("br"),s("span",{staticClass:"line-number"},[t._v("86")]),s("br"),s("span",{staticClass:"line-number"},[t._v("87")]),s("br"),s("span",{staticClass:"line-number"},[t._v("88")]),s("br"),s("span",{staticClass:"line-number"},[t._v("89")]),s("br"),s("span",{staticClass:"line-number"},[t._v("90")]),s("br"),s("span",{staticClass:"line-number"},[t._v("91")]),s("br"),s("span",{staticClass:"line-number"},[t._v("92")]),s("br"),s("span",{staticClass:"line-number"},[t._v("93")]),s("br"),s("span",{staticClass:"line-number"},[t._v("94")]),s("br"),s("span",{staticClass:"line-number"},[t._v("95")]),s("br"),s("span",{staticClass:"line-number"},[t._v("96")]),s("br"),s("span",{staticClass:"line-number"},[t._v("97")]),s("br"),s("span",{staticClass:"line-number"},[t._v("98")]),s("br"),s("span",{staticClass:"line-number"},[t._v("99")]),s("br"),s("span",{staticClass:"line-number"},[t._v("100")]),s("br"),s("span",{staticClass:"line-number"},[t._v("101")]),s("br"),s("span",{staticClass:"line-number"},[t._v("102")]),s("br"),s("span",{staticClass:"line-number"},[t._v("103")]),s("br"),s("span",{staticClass:"line-number"},[t._v("104")]),s("br"),s("span",{staticClass:"line-number"},[t._v("105")]),s("br"),s("span",{staticClass:"line-number"},[t._v("106")]),s("br"),s("span",{staticClass:"line-number"},[t._v("107")]),s("br"),s("span",{staticClass:"line-number"},[t._v("108")]),s("br"),s("span",{staticClass:"line-number"},[t._v("109")]),s("br"),s("span",{staticClass:"line-number"},[t._v("110")]),s("br"),s("span",{staticClass:"line-number"},[t._v("111")]),s("br"),s("span",{staticClass:"line-number"},[t._v("112")]),s("br"),s("span",{staticClass:"line-number"},[t._v("113")]),s("br"),s("span",{staticClass:"line-number"},[t._v("114")]),s("br"),s("span",{staticClass:"line-number"},[t._v("115")]),s("br"),s("span",{staticClass:"line-number"},[t._v("116")]),s("br"),s("span",{staticClass:"line-number"},[t._v("117")]),s("br"),s("span",{staticClass:"line-number"},[t._v("118")]),s("br"),s("span",{staticClass:"line-number"},[t._v("119")]),s("br"),s("span",{staticClass:"line-number"},[t._v("120")]),s("br")])]),s("h3",{attrs:{id:"_5-6-异常下单主推ordererror-callback"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-6-异常下单主推ordererror-callback"}},[t._v("#")]),t._v(" 5.6 异常下单主推"),s("br"),t._v("orderError_callback()")]),t._v(" "),s("p",[t._v("功能： 当账号下单异常时，运行这个函数")]),t._v(" "),s("p",[t._v("语法："),s("code",[t._v("orderError_callback(ContextInfo,orderArgs)")])]),t._v(" "),s("p",[t._v("参数：")]),t._v(" "),s("ul",[s("li",[t._v("ContextInfo —— 特定对象")]),t._v(" "),s("li",[t._v("orderArgs —— 下单参数")])]),t._v(" "),s("p",[t._v("errMsg —— 错误信息。 并不支持此参数，官方文档中的错误！")]),t._v(" "),s("p",[t._v("返回： 无")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:GBK")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置对应的资金账号")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_account"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'410038216969'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("position_callback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'===========orderArgs 对象中包含的属性============================================'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"是否今仓 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_bIsToday"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"开仓均价 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dAvgOpenPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"平仓额 "')]),t._v("                     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dCloseAmount"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"平仓盈亏 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dCloseProfit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"浮动盈亏 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dFloatProfit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"合约价值 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dInstrumentValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"最新价 "')]),t._v("                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dLastPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"最新结算价 "')]),t._v("                 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dLastSettlementPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"使用的保证金 "')]),t._v("               "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dMargin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"市值 "')]),t._v("                      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dMarketValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"开仓成本 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dOpenCost"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"开仓价格 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dOpenPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"持仓成本 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dPositionCost"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"持仓盈亏 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dPositionProfit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"盈亏比例 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dProfitRate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"实时占用保证金 "')]),t._v("              "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dRealUsedMargin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"分级基金可赎回量 "')]),t._v("            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dRedemptionVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"汇率 "')]),t._v("                       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dReferenceRate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用于港股通")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"权利金 "')]),t._v("                     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dRoyalty"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"结算价 "')]),t._v("                     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dSettlementPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"单股成本 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dSingleCost"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"静态持仓占用保证金 "')]),t._v("          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dStaticHoldMargin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("   "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用于期权")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"标的证券最新价 "')]),t._v("              "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dStockLastPrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用于期权")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"分级基金可用 "')]),t._v("                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dStructFundVol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 可分拆或可合并")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"累计成本 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_dTotalCost"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交类型 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_eFutureTradeType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"持仓类型 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_eSideFlag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用于个股期权，标记 '0' - 权利，'1' - 义务，'2' - '备兑'")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"可用余额  "')]),t._v("                  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nCanUseVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"m_nCidIncrease "')]),t._v("            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nCidIncrease"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"m_nCidIsDelist "')]),t._v("            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nCidIsDelist"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"m_nCidRateOfCurrentLine  "')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nCidRateOfCurrentLine"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"m_nCidRateOfTotalValue "')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nCidRateOfTotalValue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"平仓量 "')]),t._v("                     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nCloseVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"备兑数量 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nCoveredVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"买卖方向 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nDirection"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#  股票 该值始终是 48")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"用于个股期权 "')]),t._v("                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nEnableExerciseVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"冻结数量 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nFrozenVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"投保 "')]),t._v("                       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nHedgeFlag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 股票不需要")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"组合序号 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nLegId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"在途股份 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nOnRoadVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"期权组合占用数量 "')]),t._v("            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nOptCombUsedVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"申赎可用量 "')]),t._v("                 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nPREnableVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"持仓量 "')]),t._v("                     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"昨仓拥股 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nYesterdayVolume"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 截止到昨夜的持仓量，不是 昨天一天的持仓量。")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"账号ID "')]),t._v("                     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strAccountID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"账号key "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strAccountKey"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"组合成交号 "')]),t._v("                 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strComTradeID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"市场 "')]),t._v("                      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strExchangeID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"交易所名称 "')]),t._v("                 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strExchangeName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"到期日 "')]),t._v("                     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strExpireDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"证券代码 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strInstrumentID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"证券名称 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strInstrumentName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交日期 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strOpenDate"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"品种代码 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strProductID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"品种名称 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strProductName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"股东账号 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strStockHolder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"成交编号 "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strTradeID"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"交易日 "')]),t._v("                     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strTradingDay"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"m_xtTag "')]),t._v("                   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("orderArgs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_xtTag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n 运行结果：\n ===========orderArgs 对象中包含的属性============================================\n是否今仓  True\n开仓均价  2.6201000999999997\n平仓额  0.0\n平仓盈亏  0.0\n浮动盈亏  0.0\n合约价值  259.0\n最新价  2.59\n最新结算价  0.0\n使用的保证金  0.0\n市值  259.0\n开仓成本  262.01\n开仓价格  2.6201000999999997\n持仓成本  262.01\n持仓盈亏  -3.009999999999991\n盈亏比例  -0.011488111140796118\n实时占用保证金  0.0\n分级基金可赎回量  0\n汇率  0.0\n权利金  0.0\n结算价  2.59\n单股成本  0.0\n静态持仓占用保证金  1.7976931348623157e+308\n标的证券最新价  1.7976931348623157e+308\n分级基金可用  0\n累计成本  0.0\n成交类型  48\n持仓类型  0\n可用余额   100\nm_nCidIncrease  -2147473664\nm_nCidIsDelist  -2072858414\nm_nCidRateOfCurrentLine   0\nm_nCidRateOfTotalValue  0\n平仓量  0\n备兑数量  0\n买卖方向  48\n用于个股期权  -1\n冻结数量  0\n投保  49\n组合序号  0\n在途股份  0\n期权组合占用数量  0\n申赎可用量  100\n持仓量  100\n昨仓拥股  100\n账号ID  410038216969\n账号key  2____11075________49____410038216969____\n组合成交号  \n市场  SZ\n交易所名称  深交所\n到期日  \n证券代码  000836\n证券名称  富通信息\n成交日期  \n品种代码  \n品种名称  \n股东账号  0103749588\n成交编号  \n交易日  20230922\nm_xtTag  None \n """')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br"),s("span",{staticClass:"line-number"},[t._v("58")]),s("br"),s("span",{staticClass:"line-number"},[t._v("59")]),s("br"),s("span",{staticClass:"line-number"},[t._v("60")]),s("br"),s("span",{staticClass:"line-number"},[t._v("61")]),s("br"),s("span",{staticClass:"line-number"},[t._v("62")]),s("br"),s("span",{staticClass:"line-number"},[t._v("63")]),s("br"),s("span",{staticClass:"line-number"},[t._v("64")]),s("br"),s("span",{staticClass:"line-number"},[t._v("65")]),s("br"),s("span",{staticClass:"line-number"},[t._v("66")]),s("br"),s("span",{staticClass:"line-number"},[t._v("67")]),s("br"),s("span",{staticClass:"line-number"},[t._v("68")]),s("br"),s("span",{staticClass:"line-number"},[t._v("69")]),s("br"),s("span",{staticClass:"line-number"},[t._v("70")]),s("br"),s("span",{staticClass:"line-number"},[t._v("71")]),s("br"),s("span",{staticClass:"line-number"},[t._v("72")]),s("br"),s("span",{staticClass:"line-number"},[t._v("73")]),s("br"),s("span",{staticClass:"line-number"},[t._v("74")]),s("br"),s("span",{staticClass:"line-number"},[t._v("75")]),s("br"),s("span",{staticClass:"line-number"},[t._v("76")]),s("br"),s("span",{staticClass:"line-number"},[t._v("77")]),s("br"),s("span",{staticClass:"line-number"},[t._v("78")]),s("br"),s("span",{staticClass:"line-number"},[t._v("79")]),s("br"),s("span",{staticClass:"line-number"},[t._v("80")]),s("br"),s("span",{staticClass:"line-number"},[t._v("81")]),s("br"),s("span",{staticClass:"line-number"},[t._v("82")]),s("br"),s("span",{staticClass:"line-number"},[t._v("83")]),s("br"),s("span",{staticClass:"line-number"},[t._v("84")]),s("br"),s("span",{staticClass:"line-number"},[t._v("85")]),s("br"),s("span",{staticClass:"line-number"},[t._v("86")]),s("br"),s("span",{staticClass:"line-number"},[t._v("87")]),s("br"),s("span",{staticClass:"line-number"},[t._v("88")]),s("br"),s("span",{staticClass:"line-number"},[t._v("89")]),s("br"),s("span",{staticClass:"line-number"},[t._v("90")]),s("br"),s("span",{staticClass:"line-number"},[t._v("91")]),s("br"),s("span",{staticClass:"line-number"},[t._v("92")]),s("br"),s("span",{staticClass:"line-number"},[t._v("93")]),s("br"),s("span",{staticClass:"line-number"},[t._v("94")]),s("br"),s("span",{staticClass:"line-number"},[t._v("95")]),s("br"),s("span",{staticClass:"line-number"},[t._v("96")]),s("br"),s("span",{staticClass:"line-number"},[t._v("97")]),s("br"),s("span",{staticClass:"line-number"},[t._v("98")]),s("br"),s("span",{staticClass:"line-number"},[t._v("99")]),s("br"),s("span",{staticClass:"line-number"},[t._v("100")]),s("br"),s("span",{staticClass:"line-number"},[t._v("101")]),s("br"),s("span",{staticClass:"line-number"},[t._v("102")]),s("br"),s("span",{staticClass:"line-number"},[t._v("103")]),s("br"),s("span",{staticClass:"line-number"},[t._v("104")]),s("br"),s("span",{staticClass:"line-number"},[t._v("105")]),s("br"),s("span",{staticClass:"line-number"},[t._v("106")]),s("br"),s("span",{staticClass:"line-number"},[t._v("107")]),s("br"),s("span",{staticClass:"line-number"},[t._v("108")]),s("br"),s("span",{staticClass:"line-number"},[t._v("109")]),s("br"),s("span",{staticClass:"line-number"},[t._v("110")]),s("br"),s("span",{staticClass:"line-number"},[t._v("111")]),s("br"),s("span",{staticClass:"line-number"},[t._v("112")]),s("br"),s("span",{staticClass:"line-number"},[t._v("113")]),s("br"),s("span",{staticClass:"line-number"},[t._v("114")]),s("br"),s("span",{staticClass:"line-number"},[t._v("115")]),s("br"),s("span",{staticClass:"line-number"},[t._v("116")]),s("br"),s("span",{staticClass:"line-number"},[t._v("117")]),s("br"),s("span",{staticClass:"line-number"},[t._v("118")]),s("br"),s("span",{staticClass:"line-number"},[t._v("119")]),s("br"),s("span",{staticClass:"line-number"},[t._v("120")]),s("br"),s("span",{staticClass:"line-number"},[t._v("121")]),s("br"),s("span",{staticClass:"line-number"},[t._v("122")]),s("br"),s("span",{staticClass:"line-number"},[t._v("123")]),s("br"),s("span",{staticClass:"line-number"},[t._v("124")]),s("br"),s("span",{staticClass:"line-number"},[t._v("125")]),s("br"),s("span",{staticClass:"line-number"},[t._v("126")]),s("br"),s("span",{staticClass:"line-number"},[t._v("127")]),s("br"),s("span",{staticClass:"line-number"},[t._v("128")]),s("br"),s("span",{staticClass:"line-number"},[t._v("129")]),s("br"),s("span",{staticClass:"line-number"},[t._v("130")]),s("br"),s("span",{staticClass:"line-number"},[t._v("131")]),s("br")])]),s("h3",{attrs:{id:"需帐户支持的方法-略"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#需帐户支持的方法-略"}},[t._v("#")]),t._v(" 需帐户支持的方法，略")]),t._v(" "),s("p",[t._v("以下方法（函数），需帐户为 信用帐户或两融帐户。因此无乎用不上，具体用法略。")]),t._v(" "),s("p",[t._v("查询信用账户明细"),s("br"),t._v("query_credit_account()")]),t._v(" "),s("p",[t._v("查询信用账户明细回调"),s("br"),t._v("credit_account_callback()")]),t._v(" "),s("p",[t._v("查询信用账户明细回调"),s("br"),t._v("query_credit_opvolume()")]),t._v(" "),s("p",[t._v("查询两融最大可下单量"),s("br"),t._v("credit_opvolume_callback()")]),t._v(" "),s("h2",{attrs:{id:"_6-引用函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-引用函数"}},[t._v("#")]),t._v(" 6）  引用函数")]),t._v(" "),s("p",[t._v("注：以下函数均支持 回测 和 实盘/模拟 运行模式。")]),t._v(" "),s("h3",{attrs:{id:"_6-1-获取外部扩展数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-获取外部扩展数据"}},[t._v("#")]),t._v(" 6.1 获取外部扩展数据")]),t._v(" "),s("h3",{attrs:{id:"ext-data"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ext-data"}},[t._v("#")]),t._v(" ext_data()")]),t._v(" "),s("p",[t._v("功能： 获取扩展数据"),s("br"),t._v("\n语法："),s("code",[t._v("ext_data(extdataname, stockcode, deviation, ContextInfo)")]),s("br"),t._v("\n参数："),s("br"),t._v("\nextdataname ——string，扩展数据名"),s("br"),t._v("\nstockcode —— string，形式如 'stkcodemarket'，如 '600000.SH'"),s("br"),t._v("\ndeviation ——number，K 线偏移，可取值："),s("br"),t._v("\n0：不偏移"),s("br"),t._v("\nN：向右偏移N"),s("br"),t._v("\n-N：向左偏移N"),s("br"),t._v("\n返回： number"),s("br"),t._v("\n示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ext_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mycci'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h3",{attrs:{id:"_6-2-获取扩展数据按数值品种排名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-获取扩展数据按数值品种排名"}},[t._v("#")]),t._v(" 6.2 获取扩展数据按数值品种排名")]),t._v(" "),s("h3",{attrs:{id:"ext-data-rank"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ext-data-rank"}},[t._v("#")]),t._v(" ext_data_rank()")]),t._v(" "),s("p",[t._v("功能： 获取引用的扩展数据的数值在所有品种中的排名"),s("br"),t._v("\n语法： "),s("code",[t._v("ext_data_rank(extdataname, stockcode, deviation, ContextInfo)")]),s("br"),t._v("\n参数："),s("br"),t._v("\nextdataname —— string，扩展数据名"),s("br"),t._v("\nstockcode —— string，形式如 'stkcodemarket'，如 '600000.SH'"),s("br"),t._v("\ndeviation —— number，K 线偏移，可取值："),s("br"),t._v("\n0：不偏移"),s("br"),t._v("\nN：向右偏移N"),s("br"),t._v("\n-N：向左偏移N"),s("br"),t._v("\nContextInfo：pythonObj，Python 对象，这里必须是 ContextInfo"),s("br"),t._v("\n返回： number"),s("br"),t._v("\n示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ext_data_rank"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mycci'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h3",{attrs:{id:"_6-3-获取扩展数据按时间品种排名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-获取扩展数据按时间品种排名"}},[t._v("#")]),t._v(" 6.3 获取扩展数据按时间品种排名")]),t._v(" "),s("h3",{attrs:{id:"ext-data-rank-range"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ext-data-rank-range"}},[t._v("#")]),t._v(" ext_data_rank_range()")]),t._v(" "),s("p",[t._v("功能： 获取引用的扩展数据的数值在指定时间区间内所有品种中的排名"),s("br"),t._v("\n语法： "),s("code",[t._v("ext_data_rank_range(extdataname, stockcode, begintime, endtime, ContextInfo)")]),s("br")]),t._v(" "),s("p",[t._v("参数："),s("br"),t._v("\nextdataname —— string，扩展数据名"),s("br"),t._v("\nstockcode  —— string，形式如 'stkcodemarket'，如 '600000.SH'"),s("br"),t._v("\nbegintime  —— string，区间的起始时间（包括该时间点在内）格式为 '2016-08-02 12:12:30'"),s("br"),t._v("\nendtime —— string，区间的结束时间（包括该时间点在内）格式为 '2017-08-02 12:12:30'"),s("br"),t._v("\nContextInfo：pythonObj，Python 对象，这里必须是 ContextInfo"),s("br"),t._v("\n返回： pythonDict"),s("br"),t._v("\n示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ext_data_rank_range"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mycci'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2016-08-02 12:12:30'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2017-08-02 12:12:30'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h3",{attrs:{id:"_6-4-获取扩展数据时间区间内的值"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-获取扩展数据时间区间内的值"}},[t._v("#")]),t._v(" 6.4 获取扩展数据时间区间内的值")]),t._v(" "),s("h3",{attrs:{id:"ext-data-range"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ext-data-range"}},[t._v("#")]),t._v(" ext_data_range()")]),t._v(" "),s("p",[t._v("功能： 获取扩展数据在指定时间区间内的值"),s("br"),t._v("\n语法："),s("code",[t._v("ext_data_range(extdataname, stockcode, begintime, endtime, ContextInfo)")]),s("br"),t._v("\n参数："),s("br"),t._v("\nextdataname —— string，扩展数据名"),s("br"),t._v("\nstockcode —— string，形式如 'stkcodemarket'，如 '600000.SH'"),s("br"),t._v("\nbegintime —— string，区间的起始时间（包括该时间点在内）格式为 '2016-08-02 12:12:30'"),s("br"),t._v("\nendtime —— string，区间的结束时间（包括该时间点在内）格式为 '2017-08-02 12:12:30'"),s("br"),t._v("\nContextInfo：pythonObj，Python 对象，这里必须是 ContextInfo"),s("br"),t._v("\n返回： pythonDict"),s("br"),t._v("\n示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ext_data_range"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mycci'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2016-08-02 12:12:30'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2017-08-02 12:12:30'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h3",{attrs:{id:"_6-5-获取因子数据"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-5-获取因子数据"}},[t._v("#")]),t._v(" 6.5 获取因子数据")]),t._v(" "),s("h3",{attrs:{id:"get-factor-value"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#get-factor-value"}},[t._v("#")]),t._v(" get_factor_value()")]),t._v(" "),s("p",[t._v("功能： 获取因子数据"),s("br"),t._v("\n语法： "),s("code",[t._v("get_factor_value(factorname, stockcode, deviation, ContextInfo)")]),s("br"),t._v("\n参数："),s("br"),t._v("\nfactorname —— string，因子名"),s("br"),t._v("\nstockcode —— string，形式如 'stkcodemarket'，如 '600000.SH'"),s("br"),t._v("\ndeviation —— number，K 线偏移，0 不偏移，N 向右偏移 N，-N 向左偏移 N"),s("br"),t._v("\nContextInfo —— pythonObj，Python 对象，这里必须是 ContextInfo"),s("br"),t._v("\n返回： number"),s("br"),t._v("\n示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("get_factor_value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'zzz'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h3",{attrs:{id:"_6-6-获取因子数据品种排名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-6-获取因子数据品种排名"}},[t._v("#")]),t._v(" 6.6 获取因子数据品种排名")]),t._v(" "),s("h3",{attrs:{id:"get-factor-rank"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#get-factor-rank"}},[t._v("#")]),t._v(" get_factor_rank()")]),t._v(" "),s("p",[t._v("功能： 获取引用的因子数据的数值在所有品种中排名"),s("br"),t._v("\n语法： "),s("code",[t._v("get_factor_rank(factorname, stockcode, deviation, ContextInfo)")]),s("br"),t._v("\n参数："),s("br"),t._v("\nfactorname —— string，因子名"),s("br"),t._v("\nstockcode —— string，形式如 'stkcodemarket'，如 '600000.SH'"),s("br"),t._v("\ndeviation —— number，K 线偏移，0不偏移，N向右偏移N，-N向左偏移N"),s("br"),t._v("\nContextInfo —— pythonObj，Python 对象，这里必须是 ContextInfo"),s("br"),t._v("\n返回： number"),s("br"),t._v("\n示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("get_factor_rank"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'zzz'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600000.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h3",{attrs:{id:"_6-7-调用vba模型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-7-调用vba模型"}},[t._v("#")]),t._v(" 6.7 调用VBA模型")]),t._v(" "),s("h3",{attrs:{id:"call-vba"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#call-vba"}},[t._v("#")]),t._v(" call_vba()")]),t._v(" "),s("p",[t._v("功能： 获取引用的 VBA 模型运行的结果"),s("br"),t._v("\n语法： call_vba(factorname, stockcode, [period, dividend_type, barpos, ]ContextInfo)"),s("br"),t._v("\n注：使用该函数时需补充好本地 K 线或分笔数据"),s("br"),t._v("\n参数："),s("br"),t._v("\nfactorname —— string，模型名及引用变量，如 'MA.ma1'，其中 MA是模型名称，ma1 是其中一个变量，不区分大小写；"),s("br"),t._v("\nstockcode —— string，形式如 'stkcodemarket'，如 '600000.SH '"),s("br"),t._v("\nperiod —— string，K 线周期类型，可缺省，默认为当前主图周期线型，可选值：'tick' 表示 分笔，'1d'表示日线，'1m' 表示1分钟......"),s("br"),t._v("\ndividend_type —— string，除复权，可缺省，默认当前图复权方式，可选值：'’none' 表示 不复权"),s("br"),t._v("\nbarpos —— number，对应 bar 下标，可缺省，默认当前主图调用到的 bar 的对应下标"),s("br"),t._v("\nContextInfo —— pythonObj，Python 对象，这里必须是 ContextInfo"),s("br"),t._v("\n返回： 浮点数，float 对应最后一根K线的值。"),s("br")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[t._v("应用时，主图请选择对应的时间周期。如果要获取动态指标，则只支持5m， 1d；取动态数据时需要调用set_universe，且该接口有订阅限制，订阅有最大数量限制(当前为500个）"),s("br")]),t._v(" "),s("p",[t._v("需在 handlebar() 中调用VBA模型，如此才会在每一根K线上计算一次。")])]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#coding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取vba指标")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#主图请选择对应周期， 想要获取动态指标，则只支持5m， 1d")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 注意，取动态数据时需要调用set_universe，且该接口有订阅限制，")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 详见 http://docs.thinktrader.net/vip/pages/cc95b6/#_1-qmt行情数据基础概念 ")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 关于订阅的说明")]),t._v("\n\tContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_universe"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'300014.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600011.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\tma1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" call_vba"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MA.ma1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'300014.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tj1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" call_vba"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'KDJ.J'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'300014.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tma2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" call_vba"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MA.ma1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600011.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\tj2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" call_vba"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'KDJ.J'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600011.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'300014.SZ ma'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("round")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ma1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'kdj j: '")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("round")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("j1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'600011.SH ma'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("round")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ma2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'kdj j: '")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("round")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("j2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br")])]),s("h3",{attrs:{id:"_6-8-调用vba组合模型"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-8-调用vba组合模型"}},[t._v("#")]),t._v(" 6.8 调用VBA组合模型")]),t._v(" "),s("h3",{attrs:{id:"call-formula"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#call-formula"}},[t._v("#")]),t._v(" call_formula()")]),t._v(" "),s("p",[t._v("功能： python调用组合模型，返回GruopModelInfo结构体"),s("br"),t._v("\n语法："),s("code",[t._v('call_formula(formulaName,code,period,divideType,basket,argsDict,startime="",endTime="",count =-1)')]),s("br")]),t._v(" "),s("p",[t._v("注：使用该函数时需补充好本地 K 线或分笔数据")]),t._v(" "),s("p",[t._v("参数："),s("br"),t._v("\nfactorname —— string，模型名及引用变量，如 'MA.ma1'"),s("br"),t._v("\nstockcode —— string，形式如 'stkcodemarket'，如 '600000.SH '"),s("br"),t._v("\nperiod —— string，K 线周期类型，可缺省，默认为当前主图周期线型，可选值：'tick' 表示 分笔，'1d'表示日线，'1m' 表示1分钟......"),s("br"),t._v("\ndividend_type —— string，除复权，可缺省，默认当前图复权方式，可选值：'’none' 表示 不复权"),s("br"),t._v("\nbasket —— dict，组合模型的股票池权重，形如{'SH600000':0.06,'SZ000001':0.01}"),s("br"),t._v("\nargsDict —— dict，组合模型的入参，{参数名:参数值}，形如{'a':1}"),s("br"),t._v("\nstartTime —— string，缺失参数，组合模型运行起始时间，形如:'20200101'"),s("br"),t._v("\nendTime —— string，缺失参数，组合模型运截止时间，形如:'20200101'"),s("br"),t._v("\ncount —— int，缺省参数，组合模型运行范围为向前count根bar")]),t._v(" "),s("p",[t._v("返回： GruopModelInfo结构体。GruopModelInfo.result为当前模型的运行结果，运行\nGruopModelInfo.unsubscribe()会取消组合模型的运行，GruopModelInfo随着python的析构也会调用取消组合模型运行。")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    basket"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SH600000'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.06")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SZ000001'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0.01")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    argsDict"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    groupModelInfo"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("call_formula"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'testGroupModel'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000300.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("basket"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("argsDict"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("groupModelInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    groupModelInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("unsubscribe"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#取消组合模型运行")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("h2",{attrs:{id:"_7-绘图函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-绘图函数"}},[t._v("#")]),t._v(" 7）  绘图函数")]),t._v(" "),s("p",[t._v("以下函数，其实就是在图表上画线或显示文字、符号，即画出自定义指标。基本原理就是给定座标，然后指定画线，还是写文字。座标的 X 轴其实就是时间戳，从左往右，最新的时间在最右边；Y轴就是当前品种的报价；指定了 X，Y ，然后告诉程序想画的线型、粗细、颜色等参数，或写什么文字即可。在绘制前需要指定绘画的位置，即副图、主图叠加 或 主图。迅投QMT中提供的画图功能有限，基本方法就是以下几个。")]),t._v(" "),s("p",[s("img",{attrs:{src:n(311),alt:""}})]),t._v(" "),s("p",[t._v("写好代码后，需要先保存。然后切换到”行情“界面，单击左侧面板底部的”模型“标签，在其中双击刚刚保存的自定义指标名称，即可看到绘制的效果。")]),t._v(" "),s("p",[s("img",{attrs:{src:n(312),alt:""}})]),t._v(" "),s("h3",{attrs:{id:"_7-1-在界面上画图contextinfo-paint"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-在界面上画图contextinfo-paint"}},[t._v("#")]),t._v(" 7.1 在界面上画图"),s("br"),t._v("ContextInfo.paint()")]),t._v(" "),s("p",[t._v("功能： 根据指定的座标，画线。\n语法： ContextInfo.paint(name, data, index, drawStyle, selectcolor = 'white', limit = '')\n参数：\nname —— string，为这个绘画的指标起一个名称，会显示在左上角"),s("br"),t._v("\ndata —— number，名称后面显示的数值，可以理解为这个指标的值"),s("br"),t._v("\nindex —— number，显示索引位置，填 -1 表示按主图索引显示"),s("br"),t._v("\ndrawStyle —— number，线型，0 表示曲线 42 表示 柱状线"),s("br"),t._v("\nselectcolor —— string，颜色（不填默认为白色）目前支持以下几种颜色：blue：蓝brown：棕cyan：蓝绿green：绿magenta：品红red：红white：白yellow：黄"),s("br"),t._v("\nlimit —— string，背景网格，'noaxis' 表示不画网格线：  'nodraw' ：不画出指标的线"),s("br")]),t._v(" "),s("p",[s("i",[t._v("（官方文档中居然把 关键字参数的名称也写错，也是醉了。）")])]),t._v(" "),s("p",[t._v("返回： 无")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n    \n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取图表上，K线对应的时间戳。即 x 座标")]),t._v("\n    realtimetag "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_bar_timetag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("barpos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取对应的时间上 K 线的收盘价。即 y 座标")]),t._v("\n    ind_Value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_close_price"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" realtimetag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 绘制指标")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("paint"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'收盘价'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 指标名称 close ")]),t._v("\n                      data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ind_Value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示在名称后面的 值")]),t._v("\n                      index "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示索引位置，-1 表示按 主图上的K线索引值")]),t._v("\n                      drawStyle "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 线型，0 表示曲线，42 表示 柱子")]),t._v("\n                      selectcolor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'white'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 线的颜色 ")]),t._v("\n                      limit "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'noaxis'")]),t._v("       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 画线控的控制")]),t._v("\n                     "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br")])]),s("h3",{attrs:{id:"_7-2-在图形上显示文字contextinfo-draw-text"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-在图形上显示文字contextinfo-draw-text"}},[t._v("#")]),t._v(" 7.2 在图形上显示文字"),s("br"),t._v("ContextInfo.draw_text()")]),t._v(" "),s("p",[t._v("功能： 在图形上显示文字")]),t._v(" "),s("p",[t._v("语法： ContextInfo.draw_text(condition, position, text)")]),t._v(" "),s("p",[t._v("参数：\ncondition —— 条件，为 True 时 才显示\nPosition —— 位置，即 Y座标价格\ntext —— 文字")]),t._v(" "),s("p",[t._v("返回： 无")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取图表上，K线对应的时间戳。即 x 座标")]),t._v("\n    realtimetag "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_bar_timetag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("barpos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取对应的时间上 K 线的收盘价。即 y 座标")]),t._v("\n    ind_Value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_close_price"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" realtimetag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 右侧面板上选择 主图叠加，在最右的K线上方 + 1 的位置，显示文字")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("draw_text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("barpos "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("time_tick_size "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 满足此条件才显示，即 最右边的K线上")]),t._v("\n                          ind_Value"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示的位置，在K线上方")]),t._v("\n                          "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"显示文字。"')]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示汉字，可能会出现乱码。加上一个中文句号可以改善。")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br")])]),s("h3",{attrs:{id:"_7-3-在图形上显示数字contextinfo-draw-number"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-3-在图形上显示数字contextinfo-draw-number"}},[t._v("#")]),t._v(" 7.3 在图形上显示数字"),s("br"),t._v("ContextInfo.draw_number()")]),t._v(" "),s("p",[t._v("功能： 在图形上显示数字")]),t._v(" "),s("p",[t._v("语法： "),s("code",[t._v("ContextInfo.draw_number(cond, height, number, precision)")])]),t._v(" "),s("p",[t._v("参数：\ncond —— bool，条件\nheight —— number，显示数字的的高度位置\ntext —— string，显示的具体数字。数字不要超出图表太多。\nprecision —— 显示小数位数（取值范围 0 - 7）")]),t._v(" "),s("p",[t._v("返回： 无")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取图表上，K线对应的时间戳。即 x 座标")]),t._v("\n    realtimetag "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_bar_timetag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("barpos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取对应的时间上 K 线的收盘价。即 y 座标")]),t._v("\n    ind_Value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_market_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'close'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 右侧面板上选择 主图叠加，在最右的K线上方 + 1 的位置，显示文字")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("draw_number"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("barpos "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("time_tick_size "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 满足此条件才显示，即 最右边的K线上")]),t._v("\n                          ind_Value"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 显示的位置，在K线上方")]),t._v("\n                          ind_Value"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3.1415926")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 数字不要超出图表太多。")]),t._v("\n                          "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br")])]),s("h3",{attrs:{id:"_7-4-在两个数之间绘垂直线contextinfo-draw-vertline"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-在两个数之间绘垂直线contextinfo-draw-vertline"}},[t._v("#")]),t._v(" 7.4 在两个数之间绘垂直线"),s("br"),t._v("ContextInfo.draw_vertline()")]),t._v(" "),s("p",[t._v("功能： 在数字1和数字2之间绘垂直线")]),t._v(" "),s("p",[t._v("语法： "),s("code",[t._v("ContextInfo.draw_vertline(cond, number1, number2, color = '', limit = '')")])]),t._v(" "),s("p",[t._v("参数：\ncond —— bool，条件\nnumber1 —— number，数字1\nnumber2 —— number，数字2\ncolor —— string，颜色（不填默认为白色）目前支持以下几种颜色：blue：蓝brown：棕cyan：蓝绿green：绿magenta：品红red：红white：白yellow：黄\nlimit —— string，画线控制，可取值：'noaxis'： 不影响坐标画线 'nodraw' ：不画线")]),t._v(" "),s("p",[t._v("返回： 无")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    \n    close "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_market_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'close'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_market_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'open'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 右侧面板上选择 主图叠加，在最右的K线上方 + 1 的位置，显示文字")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("draw_vertline"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 满足此条件才显示，1 表示全都画")]),t._v("\n                          close"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 画垂直线的起点")]),t._v("\n                          "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 画垂直线的终点")]),t._v("\n                          "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'yellow'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 画线的颜色")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br")])]),s("h3",{attrs:{id:"_7-5-在图形上绘制小图标contextinfo-draw-icon"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-5-在图形上绘制小图标contextinfo-draw-icon"}},[t._v("#")]),t._v(" 7.5 在图形上绘制小图标"),s("br"),t._v("ContextInfo.draw_icon()")]),t._v(" "),s("p",[t._v("功能： 在图形上绘制小图标")]),t._v(" "),s("p",[t._v("语法： "),s("code",[t._v("ContextInfo.draw_icon(cond, height, type)")])]),t._v(" "),s("p",[t._v("参数：\ncond —— bool，条件\nheight —— number，图标的位置\ntext —— number，图标的类型，可取值：1：椭圆 0：矩形")]),t._v(" "),s("p",[t._v("返回： 无")]),t._v(" "),s("p",[t._v("示例：")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#encoding:gbk")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n\n    close "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_market_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'close'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 右侧面板上选择 主图叠加，在最右的K线上方 + 1 的位置，显示文字")]),t._v("\n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("draw_icon"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 满足此条件才显示，1 表示全都画")]),t._v("\n                          close"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 画垂直线的起点")]),t._v("\n                          "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 画线的颜色")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h2",{attrs:{id:"附录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#附录"}},[t._v("#")]),t._v(" 附录：")]),t._v(" "),s("h3",{attrs:{id:"一、macd-红绿买卖-回测模型源码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、macd-红绿买卖-回测模型源码"}},[t._v("#")]),t._v(" 一、MACD 红绿买卖 回测模型源码")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:GBK")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\nMACD 红绿买卖 回测\n"""')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("G")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pass")]),t._v("\ng "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" G"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\ng"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m5Data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\ng"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockList "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"603055.SH"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"000797.SZ"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\ng"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockPos "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\naccount "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"620000123673"')]),t._v("\nSectorName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"上证50"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如 “上证50”")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n 程序 开始准备历史 数据。"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_account"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("account"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SectorName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockList "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_stock_list_in_sector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SectorName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        \n    g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m5Data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_market_data_ex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'close'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("            "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取 收盘价")]),t._v("\n                     g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("         "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 股票品种列表")]),t._v("\n                     period    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'5m'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 时间周期 5分钟")]),t._v("\n                     count     "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 获取 500 根历史K线的数据")]),t._v("\n                     subscribe "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("False")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 订阅品种后续的报价")]),t._v("\n                    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n              \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n 获取历史数据完成。"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("do_back_test"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n 此程序专用于 回测模式，不适用于模拟运行。"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n    \n    timetag_1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_bar_timetag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("barpos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    timetag_2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_bar_timetag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("barpos"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    timetag_3 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_bar_timetag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("barpos"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    bar_1stime "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" timetag_to_datetime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timetag_1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%Y%M%D%H%M%S"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    bar_2stime "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" timetag_to_datetime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timetag_2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%Y%M%D%H%M%S"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    bar_3stime "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" timetag_to_datetime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("timetag_3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"%Y%M%D%H%M%S"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" Symbol "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockPos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"持股总数量"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                              "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"可用数量"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                              "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"持股的总金额"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                              "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"盈亏比例"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n                             "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                             \n    pos_list "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_trade_detail_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("account"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stock'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'position'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" pos "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" pos_list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        Symbol "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strInstrumentID "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"."')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strExchangeID\n        \n        g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockPos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"持股总数量"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nVolume\n        g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockPos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"可用数量"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nCanUseVolume\n    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" Symbol "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        \n        macd3hist "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" call_vba"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MACD.macd1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'5m'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("barpos"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        macd2hist "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" call_vba"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'MACD.macd1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'5m'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("barpos"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        \n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockPos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"持股总数量"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("and")]),t._v(" \n            macd3hist "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("and")]),t._v(" \n            macd2hist "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# MACD 的柱子 由绿翻红 了")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n 当前品种"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"时间"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("bar_1stime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MACD柱子绿翻红了，买入"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            passorder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1101")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("account"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MACD绿翻红"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            \n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockPos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"持股总数量"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("and")]),t._v(" \n            macd3hist "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("and")]),t._v("\n            macd2hist "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"\\n 当前品种"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"时间"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("bar_1stime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MACD柱子红翻绿了，卖出"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            passorder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1101")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("account"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MACD红翻绿"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br"),s("span",{staticClass:"line-number"},[t._v("58")]),s("br"),s("span",{staticClass:"line-number"},[t._v("59")]),s("br"),s("span",{staticClass:"line-number"},[t._v("60")]),s("br"),s("span",{staticClass:"line-number"},[t._v("61")]),s("br"),s("span",{staticClass:"line-number"},[t._v("62")]),s("br"),s("span",{staticClass:"line-number"},[t._v("63")]),s("br"),s("span",{staticClass:"line-number"},[t._v("64")]),s("br"),s("span",{staticClass:"line-number"},[t._v("65")]),s("br"),s("span",{staticClass:"line-number"},[t._v("66")]),s("br"),s("span",{staticClass:"line-number"},[t._v("67")]),s("br"),s("span",{staticClass:"line-number"},[t._v("68")]),s("br"),s("span",{staticClass:"line-number"},[t._v("69")]),s("br"),s("span",{staticClass:"line-number"},[t._v("70")]),s("br"),s("span",{staticClass:"line-number"},[t._v("71")]),s("br"),s("span",{staticClass:"line-number"},[t._v("72")]),s("br"),s("span",{staticClass:"line-number"},[t._v("73")]),s("br"),s("span",{staticClass:"line-number"},[t._v("74")]),s("br"),s("span",{staticClass:"line-number"},[t._v("75")]),s("br"),s("span",{staticClass:"line-number"},[t._v("76")]),s("br"),s("span",{staticClass:"line-number"},[t._v("77")]),s("br"),s("span",{staticClass:"line-number"},[t._v("78")]),s("br"),s("span",{staticClass:"line-number"},[t._v("79")]),s("br"),s("span",{staticClass:"line-number"},[t._v("80")]),s("br"),s("span",{staticClass:"line-number"},[t._v("81")]),s("br")])]),s("h3",{attrs:{id:"二、macd-红绿买卖-实时交易模型源码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、macd-红绿买卖-实时交易模型源码"}},[t._v("#")]),t._v(" 二、MACD 红绿买卖 实时交易模型源码")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# coding:GBK")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n5m 图表上，观察 MACD 指标\nMACD柱子绿翻红，买入100股\nMACD柱子红翻绿，卖出100股\n"""')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" pandas "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" pd\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" numpy "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" np\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" talib\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("G")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("pass")]),t._v("\ng "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" G"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\ng"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m5Data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用于保存5分钟的K线数据")]),t._v("\ng"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockList "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'601225.SH'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'000004.SZ'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\ng"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockPos "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 用于保存帐户中持有股标订单")]),t._v("\n\naccount "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"620000123673"')]),t._v("\nSectorName "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"上证50"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 板块名 如“上证50”")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"程序开始在 实时模拟仿真模式 下运行。"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("set_account"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("account"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SectorName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockList "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_stock_list_in_sector"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("SectorName"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" s "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m5Data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    \n        g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockPos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("s"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"持股总数量"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                         "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"可用数量"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                        \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"初始化完成。"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("handlebar")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("is_last_bar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n        \n    Symbol "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m5Data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"开始获取历史数据......."')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m5Data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_market_data_ex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'close'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                        g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                        period "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'5m'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                        count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                        subscribe "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),t._v("\n                       "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        \n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" Symbol "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            closePrice "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m5Data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'close'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n            closePrice "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" closePrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("values\n            macd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("signal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("hist "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" talib"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MACD"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("closePrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("fastperiod "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("slowperiod "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("signalperiod "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            \n            g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m5Data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hist'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" hist\n            \n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"获取历史数据完成。"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# =======获取持仓数据=========================================================")]),t._v("\n    PosList "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" get_trade_detail_data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("account"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stock'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'position'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" pos "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" PosList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        Symbol "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strInstrumentID "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_strExchangeID "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 组合成 600225.SH 这样的字符串")]),t._v("\n        \n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" Symbol "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("continue")]),t._v("\n            \n        g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockPos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"持股总数量"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nVolume\n        g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockPos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"可用数量"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m_nCanUseVolume\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#--------刷新行情报价的数据 ---------------------------------------------------")]),t._v("\n    m5Data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("get_market_data_ex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n                 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'close'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                 g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                 period "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'5m'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                 count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                 subscribe "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("True")]),t._v("\n                "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" Symbol "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockList"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    \n        g5mD_stime "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m5Data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tolist"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        m5D_stime "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" m5Data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tolist"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        \n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("len")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("m5D_stime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" m5D_stime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" g5mD_stime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 5m 图表上更新了一根K线")]),t._v("\n                g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m5Data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("concat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m5Data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("m5Data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            \n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" m5D_stime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" g5mD_stime"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n                g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m5Data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("iloc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" m5Data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("iloc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ------------计算 MACD 指标 ----------------------------------")]),t._v("\n        closePrice "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m5Data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'close'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        closePrice "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" closePrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("values\n        macd"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("signal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("hist "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" talib"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("MACD"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("closePrice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("fastperiod "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("slowperiod "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("signalperiod "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            \n        g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m5Data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hist'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" hist\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# -------根据需求判断 是否 交易了---------------------------------")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("not")]),t._v(" ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("is_new_bar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n        \n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockPos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"持股总数量"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("and")]),t._v(" \n            g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m5Data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hist"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("iloc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("and")]),t._v("\n            g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m5Data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hist"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("iloc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" \n           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"当前品种："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MACD 柱子绿翻红了，买入"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            passorder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1101")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("account"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n         \n        "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("StockPos"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"可用数量"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("and")]),t._v("\n            g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m5Data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hist"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("iloc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("and")]),t._v(" \n            g"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("m5Data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hist"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("iloc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" \n           "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"当前品种："')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MACD 柱子红翻绿了，卖出"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            passorder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1101")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("account"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Symbol"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("ContextInfo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            \n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"程序完成一次执行任务。"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br"),s("span",{staticClass:"line-number"},[t._v("58")]),s("br"),s("span",{staticClass:"line-number"},[t._v("59")]),s("br"),s("span",{staticClass:"line-number"},[t._v("60")]),s("br"),s("span",{staticClass:"line-number"},[t._v("61")]),s("br"),s("span",{staticClass:"line-number"},[t._v("62")]),s("br"),s("span",{staticClass:"line-number"},[t._v("63")]),s("br"),s("span",{staticClass:"line-number"},[t._v("64")]),s("br"),s("span",{staticClass:"line-number"},[t._v("65")]),s("br"),s("span",{staticClass:"line-number"},[t._v("66")]),s("br"),s("span",{staticClass:"line-number"},[t._v("67")]),s("br"),s("span",{staticClass:"line-number"},[t._v("68")]),s("br"),s("span",{staticClass:"line-number"},[t._v("69")]),s("br"),s("span",{staticClass:"line-number"},[t._v("70")]),s("br"),s("span",{staticClass:"line-number"},[t._v("71")]),s("br"),s("span",{staticClass:"line-number"},[t._v("72")]),s("br"),s("span",{staticClass:"line-number"},[t._v("73")]),s("br"),s("span",{staticClass:"line-number"},[t._v("74")]),s("br"),s("span",{staticClass:"line-number"},[t._v("75")]),s("br"),s("span",{staticClass:"line-number"},[t._v("76")]),s("br"),s("span",{staticClass:"line-number"},[t._v("77")]),s("br"),s("span",{staticClass:"line-number"},[t._v("78")]),s("br"),s("span",{staticClass:"line-number"},[t._v("79")]),s("br"),s("span",{staticClass:"line-number"},[t._v("80")]),s("br"),s("span",{staticClass:"line-number"},[t._v("81")]),s("br"),s("span",{staticClass:"line-number"},[t._v("82")]),s("br"),s("span",{staticClass:"line-number"},[t._v("83")]),s("br"),s("span",{staticClass:"line-number"},[t._v("84")]),s("br"),s("span",{staticClass:"line-number"},[t._v("85")]),s("br"),s("span",{staticClass:"line-number"},[t._v("86")]),s("br"),s("span",{staticClass:"line-number"},[t._v("87")]),s("br"),s("span",{staticClass:"line-number"},[t._v("88")]),s("br"),s("span",{staticClass:"line-number"},[t._v("89")]),s("br"),s("span",{staticClass:"line-number"},[t._v("90")]),s("br"),s("span",{staticClass:"line-number"},[t._v("91")]),s("br"),s("span",{staticClass:"line-number"},[t._v("92")]),s("br"),s("span",{staticClass:"line-number"},[t._v("93")]),s("br"),s("span",{staticClass:"line-number"},[t._v("94")]),s("br"),s("span",{staticClass:"line-number"},[t._v("95")]),s("br"),s("span",{staticClass:"line-number"},[t._v("96")]),s("br"),s("span",{staticClass:"line-number"},[t._v("97")]),s("br"),s("span",{staticClass:"line-number"},[t._v("98")]),s("br"),s("span",{staticClass:"line-number"},[t._v("99")]),s("br"),s("span",{staticClass:"line-number"},[t._v("100")]),s("br"),s("span",{staticClass:"line-number"},[t._v("101")]),s("br"),s("span",{staticClass:"line-number"},[t._v("102")]),s("br"),s("span",{staticClass:"line-number"},[t._v("103")]),s("br"),s("span",{staticClass:"line-number"},[t._v("104")]),s("br"),s("span",{staticClass:"line-number"},[t._v("105")]),s("br"),s("span",{staticClass:"line-number"},[t._v("106")]),s("br"),s("span",{staticClass:"line-number"},[t._v("107")]),s("br"),s("span",{staticClass:"line-number"},[t._v("108")]),s("br"),s("span",{staticClass:"line-number"},[t._v("109")]),s("br"),s("span",{staticClass:"line-number"},[t._v("110")]),s("br"),s("span",{staticClass:"line-number"},[t._v("111")]),s("br"),s("span",{staticClass:"line-number"},[t._v("112")]),s("br"),s("span",{staticClass:"line-number"},[t._v("113")]),s("br"),s("span",{staticClass:"line-number"},[t._v("114")]),s("br"),s("span",{staticClass:"line-number"},[t._v("115")]),s("br"),s("span",{staticClass:"line-number"},[t._v("116")]),s("br"),s("span",{staticClass:"line-number"},[t._v("117")]),s("br"),s("span",{staticClass:"line-number"},[t._v("118")]),s("br"),s("span",{staticClass:"line-number"},[t._v("119")]),s("br"),s("span",{staticClass:"line-number"},[t._v("120")]),s("br"),s("span",{staticClass:"line-number"},[t._v("121")]),s("br"),s("span",{staticClass:"line-number"},[t._v("122")]),s("br"),s("span",{staticClass:"line-number"},[t._v("123")]),s("br"),s("span",{staticClass:"line-number"},[t._v("124")]),s("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);